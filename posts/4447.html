<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>C语言基础句法 | 小刘同学</title><meta name="author" content="小刘同学"><meta name="copyright" content="小刘同学"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="C语言笔记 1. C语言概述 1.1 C语言 ​ 一提到语言这个词语，自然会想到的是像英语、汉语等这样的自然语言，因为它是人和人交换信息不可缺少的工具。 而今天计算机遍布了我们生活的每一个角落，除了人和人的相互交流之外，我们必须和计算机角落。 用什么的什么样的方式和计算机做最直接的交流呢？人们自然想到的是最古老也最方便的方式——语言，而C语言就是人和计算机交流的一种语言。 语言是用来">
<meta property="og:type" content="article">
<meta property="og:title" content="C语言基础句法">
<meta property="og:url" content="https://aubuty.top/posts/4447.html">
<meta property="og:site_name" content="小刘同学">
<meta property="og:description" content="C语言笔记 1. C语言概述 1.1 C语言 ​ 一提到语言这个词语，自然会想到的是像英语、汉语等这样的自然语言，因为它是人和人交换信息不可缺少的工具。 而今天计算机遍布了我们生活的每一个角落，除了人和人的相互交流之外，我们必须和计算机角落。 用什么的什么样的方式和计算机做最直接的交流呢？人们自然想到的是最古老也最方便的方式——语言，而C语言就是人和计算机交流的一种语言。 语言是用来">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://alex-tyimg.oss-cn-huhehaote.aliyuncs.com/A5.png">
<meta property="article:published_time" content="2022-05-31T16:00:00.000Z">
<meta property="article:modified_time" content="2023-04-20T16:30:45.127Z">
<meta property="article:author" content="小刘同学">
<meta property="article:tag" content="C&#x2F;C++">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://alex-tyimg.oss-cn-huhehaote.aliyuncs.com/A5.png"><link rel="shortcut icon" href="https://alex-tyimg.oss-cn-huhehaote.aliyuncs.com/favucin.png"><link rel="canonical" href="https://aubuty.top/posts/4447.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://unpkg.com/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://unpkg.com/@fancyapps/ui/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":false,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://unpkg.com/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://unpkg.com/flickr-justified-gallery/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'C语言基础句法',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-04-21 00:30:45'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/loading.gif" data-original="https://alex-tyimg.oss-cn-huhehaote.aliyuncs.com/v2-26f75c5243e4b44946d95fb69b49f8c1_r.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">46</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">42</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">15</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-graduation-cap"></i><span> 博文</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-archive"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-folder-open"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 生活</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/shuoshuo/"><i class="fa-fw fa fa-comments-o"></i><span> 分享</span></a></li><li><a class="site-page child" href="/photos/"><i class="fa-fw fa fa-camera-retro"></i><span> 相册</span></a></li><li><a class="site-page child" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 影视</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/comment/"><i class="fa-fw fa fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于笔者</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://alex-tyimg.oss-cn-huhehaote.aliyuncs.com/A5.png')"><nav id="nav"><span id="blog-info"><a href="/" title="小刘同学"><span class="site-name">小刘同学</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-graduation-cap"></i><span> 博文</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-archive"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-folder-open"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 生活</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/shuoshuo/"><i class="fa-fw fa fa-comments-o"></i><span> 分享</span></a></li><li><a class="site-page child" href="/photos/"><i class="fa-fw fa fa-camera-retro"></i><span> 相册</span></a></li><li><a class="site-page child" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 影视</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/comment/"><i class="fa-fw fa fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于笔者</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">C语言基础句法</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-05-31T16:00:00.000Z" title="发表于 2022-06-01 00:00:00">2022-06-01</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-04-20T16:30:45.127Z" title="更新于 2023-04-21 00:30:45">2023-04-21</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/C-C/">C/C++</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">36.6k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>147分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="C语言基础句法"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="c语言笔记">C语言笔记</h1>
<h2 id="c语言概述">1. C语言概述</h2>
<h3 id="c语言">1.1 C语言</h3>
<p>​
一提到语言这个词语，自然会想到的是像英语、汉语等这样的自然语言，因为它是人和人交换信息不可缺少的工具。</p>
<p>而今天计算机遍布了我们生活的每一个角落，除了人和人的相互交流之外，我们必须和计算机角落。</p>
<p>用什么的什么样的方式和计算机做最直接的交流呢？人们自然想到的是最古老也最方便的方式——语言，而C语言就是人和计算机交流的一种语言。</p>
<p>语言是用来交流沟通的。有一方说，有另一方听，必须有两方参与，这是语言最重要的功能：</p>
<blockquote>
<p>说的一方传递信息，听的一方接收信息；</p>
</blockquote>
<blockquote>
<p>说的一方下达指令，听的一方遵循命令做事情。</p>
</blockquote>
<p><font color="red">语言是人和人交流，C语言是人和机器交流</font>。只是，人可以不听另外一个人，但是，计算机是无条件服从。</p>
<p>语言有独特的语法规则和定义，双方必须遵循这些规则和定义才能实现真正的交流。</p>
<h4 id="计算机结构组成">1.1.1 计算机结构组成</h4>
<figure>
<img src="/img/loading.gif" data-original="https://cdn.jsdelivr.net/gh/Aubuty/picgoimage@main/img/202206010000868.jpg" alt="2016-05-31_154538">
<figcaption aria-hidden="true">2016-05-31_154538</figcaption>
</figure>
<h3 id="为什么学c语言">1.2 为什么学C语言</h3>
<h4 id="c语言特点">1.2.1 C语言特点</h4>
<ul>
<li>优点
<ul>
<li>代码量小</li>
<li>执行速度快</li>
<li>功能强大</li>
<li>编程自由</li>
</ul></li>
<li>缺点
<ul>
<li>写代码实现周期长</li>
<li>可移植性较差</li>
<li>过于自由，经验不足易出错</li>
<li>对平台库依赖较多</li>
</ul></li>
</ul>
<h4 id="学习c语言理由">1.2.2 学习C语言理由</h4>
<figure>
<img src="/img/loading.gif" data-original="https://cdn.jsdelivr.net/gh/Aubuty/picgoimage@main/img/202206010000869.jpg" alt="2016-05-31_165538">
<figcaption aria-hidden="true">2016-05-31_165538</figcaption>
</figure>
<h4 id="c语言应用领域">1.2.3 C语言应用领域</h4>
<p>C语言的应用极其广泛，从网站后台，到底层操作系统，从多媒体应用到大型网络游戏，均可使用C语言来开发：</p>
<ul>
<li><p>C语言可以写网站后台程序</p></li>
<li><p>C语言可以专门针对某个主题写出功能强大的程序库</p></li>
<li><p>C语言可以写出大型游戏的引擎</p></li>
<li><p>C语言可以写出另一个语言来</p></li>
<li><p>C语言可以写操作系统和驱动程序，并且只能用C语言编写</p></li>
<li><p>任何设备只要配置了微处理器，就都支持C语言。从微波炉到手机，都是由C语言技术来推动的</p></li>
</ul>
<figure>
<img src="/img/loading.gif" data-original="https://cdn.jsdelivr.net/gh/Aubuty/picgoimage@main/img/202206010000870.png" alt="242317553528437">
<figcaption aria-hidden="true">242317553528437</figcaption>
</figure>
<h4 id="c语言关键字">1.2.4 C语言关键字</h4>
<blockquote>
<p>C语言仅有32个关键字，9种控制语句，34种运算符，却能完成无数的功能：</p>
</blockquote>
<figure>
<img src="/img/loading.gif" data-original="https://cdn.jsdelivr.net/gh/Aubuty/picgoimage@main/img/202206010000871.jpg" alt="2016-05-31_173134">
<figcaption aria-hidden="true">2016-05-31_173134</figcaption>
</figure>
<figure>
<img src="/img/loading.gif" data-original="https://cdn.jsdelivr.net/gh/Aubuty/picgoimage@main/img/202206010000872.jpg" alt="2016-05-31_173306">
<figcaption aria-hidden="true">2016-05-31_173306</figcaption>
</figure>
<figure>
<img src="/img/loading.gif" data-original="https://cdn.jsdelivr.net/gh/Aubuty/picgoimage@main/img/202206010000873.jpg" alt="2016-05-31_173424">
<figcaption aria-hidden="true">2016-05-31_173424</figcaption>
</figure>
<h3 id="第一个c语言程序helloworld">1.3 第一个C语言程序：HelloWorld</h3>
<h4 id="编写c语言代码hello.c">1.3.1 编写C语言代码：hello.c</h4>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">	<span class="comment">// 第一个C语言程序</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;hello world\n&quot;</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>C语言的源代码文件是一个普通的文本文件，<font color="red">但扩展名必须是.c</font></p>
</blockquote>
<figure>
<img src="/img/loading.gif" data-original="https://cdn.jsdelivr.net/gh/Aubuty/picgoimage@main/img/202206010000874.png" alt="image-20200919090134713">
<figcaption aria-hidden="true">image-20200919090134713</figcaption>
</figure>
<h4 id="通过gcc编译c代码">1.3.2 通过gcc编译C代码</h4>
<p>##### 1. gcc编译器介绍</p>
<p>编辑器(如vi、记事本)是指我用它来写程序的（编辑代码），而我们写的代码语句，电脑是不懂的，我们需要把它转成电脑能懂的语句，编译器就是这样的转化工具。就是说，<font color="red">我们用编辑器编写程序，由编译器编译后才可以运行！</font></p>
<p>编译器是将易于编写、阅读和维护的高级计算机语言翻译为计算机能解读、运行的低级机器语言的程序</p>
<p>gcc（GNU Compiler Collection，GNU 编译器套件），是由 GNU
开发的编程语言编译器。gcc原本作为GNU操作系统的官方编译器，现已被大多数类Unix操作系统（如Linux、BSD、Mac
OS X等）采纳为标准的编译器，gcc同样适用于微软的Windows</p>
<p>gcc最初用于编译C语言，随着项目的发展gcc已经成为了能够编译C、C++、Java、Ada、fortran、Object
C、Object C++、Go语言的编译器大家族</p>
<p>编译命令格式：</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">gcc [-option1] ... &lt;filename&gt;</span><br><span class="line">g++ [-option1] ... &lt;filename&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>命令、选项和源文件之间使用空格分隔</p></li>
<li><p>一行命令中可以有零个、一个或多个选项</p></li>
<li><p>文件名可以包含文件的绝对路径，也可以使用相对路径</p></li>
<li><p>如果命令中不包含输出可执行文件的文件名，可执行文件的文件名会自动生成一个默认名，Linux平台为<code>a.out</code>，Windows平台为<code>a.exe</code></p></li>
</ul>
<p>gcc、g++编译常用选项说明：</p>
<table>
<thead>
<tr class="header">
<th><strong>选项</strong></th>
<th><strong>含义</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>-o file</td>
<td>指定生成的输出文件名为file</td>
</tr>
<tr class="even">
<td>-E</td>
<td>只进行预处理</td>
</tr>
<tr class="odd">
<td>-S(大写)</td>
<td>只进行预处理和编译</td>
</tr>
<tr class="even">
<td>-c(小写)</td>
<td>只进行预处理、编译和汇编</td>
</tr>
</tbody>
</table>
<h5 id="windows平台下gcc环境配置">2. Windows平台下gcc环境配置</h5>
<blockquote>
<p>windows命令行界面下，默认是没有gcc编译器，我们需要配置一下环境</p>
<p><code>MinGW</code>, 安装使用教程参看：<a target="_blank" rel="noopener" href="https://blog.csdn.net/wxh0000mm/article/details/100666329">MinGW安装教程</a></p>
</blockquote>
<h5 id="linux平台下gcc环境配置">3. linux平台下gcc环境配置</h5>
<blockquote>
<p>参考教程：<a target="_blank" rel="noopener" href="https://blog.csdn.net/lydong_/article/details/79812402">详解Linux安装GCC方法</a></p>
</blockquote>
<h4 id="代码分析">1.3.3 代码分析</h4>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#include &lt;stdio.h&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">#include的意思是头文件包含,</span></span><br><span class="line"><span class="comment">#include &lt;stdio.h&gt;代表包含stdio.h这个头文件</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">使用C语言库函数需要提前包含库函数对应的头文件，如这里使用了printf()函数，需要包含stdio.h头文件</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> <span class="title function_ invoke__">main</span>()&#123;</span><br><span class="line">	<span class="comment">// 第一个C语言程序</span></span><br><span class="line">	<span class="title function_ invoke__">printf</span>(<span class="string">&quot;hello world\n&quot;</span>); <span class="comment">// 可以通过man 3 printf查看printf所需的头文件</span></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="include头文件包含">1. include头文件包含</h5>
<ul>
<li><p><code>#include&lt; &gt;</code> 与
<code>#include ""</code>的区别：</p></li>
<li><p><code>&lt; &gt;</code>
表示系统<font color="red">直接</font>按系统指定的目录检索</p></li>
<li><p><code>" "</code>
表示系统<font color="red">先</font>在<code>" "</code>指定的路径(没写路径代表当前路径)查找头文件，如果找不到，<font color="red">再</font>按系统指定的目录检索</p></li>
</ul>
<p><code>stdio.h</code> 在操作系统<code>/usr/include/</code>目录下</p>
<figure>
<img src="/img/loading.gif" data-original="https://cdn.jsdelivr.net/gh/Aubuty/picgoimage@main/img/202206010000875.png" alt="image-20200919092034856">
<figcaption aria-hidden="true">image-20200919092034856</figcaption>
</figure>
<h5 id="main函数">2. main函数</h5>
<ul>
<li>一个完整的C语言程序，是由一个、<font color="red">且只能有一个</font><code>main()</code>函数(又称主函数，必须有)和若干个其他函数结合而成（可选）</li>
<li><code>main</code>函数是C语言程序的入口，程序是从main函数开始执行</li>
</ul>
<h5 id="括号程序体和代码块">3. {} 括号，程序体和代码块</h5>
<ul>
<li><code>&#123;&#125;</code>叫代码块，一个代码块内部可以有一条或者多条语句</li>
<li>C语言每句可执行代码都是"<code>;</code>"分号结尾</li>
<li>所有的<code>#</code>开头的行，都代表预编译指令，预编译指令行结尾是没有分号的</li>
<li>所有的可执行语句必须是在代码块里面</li>
</ul>
<h5 id="注释">4. 注释</h5>
<ul>
<li><code>//</code>叫行注释，注释的内容编译器是忽略的，注释主要的作用是在代码中加一些说明和解释，这样有利于代码的阅读</li>
<li><code>/**/</code>叫块注释</li>
<li>块注释是C语言标准的注释方法</li>
<li>行注释是从C++语言借鉴过来的</li>
</ul>
<h5 id="printf函数">5. printf函数</h5>
<ul>
<li><p><code>printf</code>是C语言库函数，功能是向标准输出设备输出一个字符串</p></li>
<li><p><code>printf(“hello world\n”);</code>
//<code>\n</code>的意思是回车换行</p></li>
</ul>
<h5 id="return语句">6. return语句</h5>
<ul>
<li><p><code>return</code>
代表函数执行完毕，返回return代表函数的终止</p></li>
<li><p>如果main定义的时候前面是<code>int</code>，那么return后面就需要写一个整数；如果main定义的时候前面是<code>void</code>，那么return后面什么也不需要写</p></li>
<li><p>在main函数中<code>return 0</code>代表程序执行成功，<code>return -1</code>代表程序执行失败</p></li>
<li><p><code>int main()</code>和<code>void main()</code>在C语言中是一样的，但C++只接受<code>int main</code>这种定义方式</p></li>
</ul>
<h3 id="system函数">1.4 system函数</h3>
<h4 id="system函数的使用">1.4.1 system函数的使用</h4>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#include &lt;stdlib.h&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> <span class="title function_ invoke__">system</span>(<span class="keyword">const</span> char *command);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>功能：在已经运行的程序中执行另外一个外部程序 参数：外部可执行程序名字
返回值： 成功：0 失败：任意数字</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">//system(&quot;calc&quot;); //windows平台</span></span><br><span class="line">	system(<span class="string">&quot;ls&quot;</span>); <span class="comment">//Linux平台, 需要头文件#include &lt;stdlib.h&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure>
<img src="/img/loading.gif" data-original="https://cdn.jsdelivr.net/gh/Aubuty/picgoimage@main/img/202206010000876.png" alt="image-20200919094712699">
<figcaption aria-hidden="true">image-20200919094712699</figcaption>
</figure>
<h3 id="c语言编译过程">1.5 C语言编译过程</h3>
<h4 id="c程序编译步骤">1.5.1 C程序编译步骤</h4>
<blockquote>
<p>C代码编译成可执行程序经过4步：</p>
</blockquote>
<ol type="1">
<li>预处理：宏定义展开、头文件展开、条件编译等，同时将代码中的注释删除，这里并不会检查语法</li>
<li>编译：检查语法，将预处理后文件编译生成汇编文件</li>
<li>汇编：将汇编文件生成目标文件(二进制文件)</li>
<li>链接：C语言写的程序是需要依赖各种库的，所以编译之后还需要把库链接到最终的可执行程序中去</li>
</ol>
<p><img src="/img/loading.gif" data-original="https://cdn.jsdelivr.net/gh/Aubuty/picgoimage@main/img/202206010000877.png"></p>
<blockquote>
<p>VS 执行结果一闪而过的解决方法：</p>
</blockquote>
<ol type="1">
<li><p><code>system("pause");</code></p></li>
<li><p><code>项目-&gt;属性-&gt;配置属性-&gt;链接器-&gt;系统-&gt;子系统-&gt;控制台 增加“/SUBSYSTEM:CONSOLE”链接选项即可</code></p></li>
</ol>
<h4 id="gcc-编译过程">1.5.2 gcc 编译过程</h4>
<h5 id="分步编译">1. 分步编译</h5>
<blockquote>
<p>预处理：<code>gcc -E introduce.c -o introduce.i</code></p>
</blockquote>
<blockquote>
<p>编 译：<code>gcc -S introduce.i -o introduce.s</code></p>
</blockquote>
<blockquote>
<p>汇 编：<code>gcc -c introduce.s -o introduce.o</code></p>
</blockquote>
<blockquote>
<p>链 接：<code>gcc  introduce.o -o introduce</code></p>
</blockquote>
<table>
<thead>
<tr class="header">
<th><strong>选项</strong></th>
<th><strong>含义</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>-E</td>
<td>只进行预处理</td>
</tr>
<tr class="even">
<td>-S(大写)</td>
<td>只进行预处理和编译</td>
</tr>
<tr class="odd">
<td>-c(小写)</td>
<td>只进行预处理、编译和汇编</td>
</tr>
<tr class="even">
<td>-o file</td>
<td>指定生成的输出文件名为 file</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header">
<th><strong>文件后缀</strong></th>
<th><strong>含义</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>.c</td>
<td>C 语言文件</td>
</tr>
<tr class="even">
<td>.i</td>
<td>预处理后的 C 语言文件</td>
</tr>
<tr class="odd">
<td>.s</td>
<td>编译后的汇编文件</td>
</tr>
<tr class="even">
<td>.o</td>
<td>编译后的目标文件</td>
</tr>
</tbody>
</table>
<p>编译的时候最后两倒数第二步的时候用了大写<code>C</code></p>
<p><code>gcc -C introduce.s -o introduce.o</code></p>
<p><code>gcc introduce.o -o introduce</code></p>
<p>导致了如下问题， 记录一下</p>
<p>/usr/bin/ld:
/usr/lib/gcc/x86_64-linux-gnu/8/../../../x86_64-linux-gnu/Scrt1.o: in
function <code>_start': (.text+0x20): undefined reference to</code>main'
collect2: error: ld returned 1 exit status</p>
<figure>
<img src="/img/loading.gif" data-original="https://cdn.jsdelivr.net/gh/Aubuty/picgoimage@main/img/202206010000878.png" alt="image-20200919101105887">
<figcaption aria-hidden="true">image-20200919101105887</figcaption>
</figure>
<p>正确的编译过程</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">gcc -E introduce.c -o introduce.i</span><br><span class="line">gcc -S introduce.i -o introduce.s</span><br><span class="line">gcc -c introduce.s -o introduce.o</span><br><span class="line">gcc introduce.o -o introduce</span><br><span class="line">./introduce </span><br></pre></td></tr></table></figure>
<figure>
<img src="/img/loading.gif" data-original="https://cdn.jsdelivr.net/gh/Aubuty/picgoimage@main/img/202206010000879.png" alt="image-20200919101944251">
<figcaption aria-hidden="true">image-20200919101944251</figcaption>
</figure>
<h5 id="一步编译">2. 一步编译</h5>
<p><code>gcc introduce.c -o introduce1</code> //
自动完成：预处理、编译、汇编、链接的过程</p>
<figure>
<img src="/img/loading.gif" data-original="https://cdn.jsdelivr.net/gh/Aubuty/picgoimage@main/img/202206010000880.png" alt="image-20200919102259922">
<figcaption aria-hidden="true">image-20200919102259922</figcaption>
</figure>
<h4 id="查找程序所依赖的动态库">1.5.3 查找程序所依赖的动态库</h4>
<p>Windows平台下，需要相应软件(<code>Depends.exe</code>)：</p>
<blockquote>
<p>工具下载地址：http://www.dependencywalker.com/</p>
</blockquote>
<figure>
<img src="/img/loading.gif" data-original="https://cdn.jsdelivr.net/gh/Aubuty/picgoimage@main/img/202206010000881.png" alt="image-20200919102850515">
<figcaption aria-hidden="true">image-20200919102850515</figcaption>
</figure>
<figure>
<img src="/img/loading.gif" data-original="https://cdn.jsdelivr.net/gh/Aubuty/picgoimage@main/img/202206010000882.png" alt="image-20200919102938934">
<figcaption aria-hidden="true">image-20200919102938934</figcaption>
</figure>
<h3 id="cpu内部结构与寄存器了解">1.6 CPU内部结构与寄存器(了解)</h3>
<h4 id="位和32位系统区别">1.6.1 64位和32位系统区别</h4>
<ul>
<li><p>寄存器是CPU内部最基本的存储单元</p></li>
<li><p>CPU对外是通过总线(地址、控制、数据)来和外部设备交互的，<font color="red">总线的宽度是8位，同时CPU的寄存器也是8位</font>，那么这个CPU就叫8位CPU</p></li>
<li><p>如果总线是32位，寄存器也是32位的，那么这个CPU就是32位CPU</p></li>
<li><p>有一种CPU内部的寄存器是32位的，但总线是16位，准32为CPU</p></li>
<li><p>所有的64位CPU兼容32位的指令，32位要兼容16位的指令，所以在64位的CPU上是可以识别32位的指令</p></li>
<li><p>在64位的CPU构架上运行了64位的软件操作系统，那么这个系统是64位</p></li>
<li><p>在64位的CPU构架上，运行了32位的软件操作系统，那么这个系统就是32位</p></li>
<li><p>64位的软件不能运行在32位的CPU之上</p></li>
</ul>
<h4 id="寄存器名字了解">1.6.2 寄存器名字(了解)</h4>
<table>
<thead>
<tr class="header">
<th><strong>8</strong>位</th>
<th><strong>16</strong>位</th>
<th><strong>32</strong>位</th>
<th><strong>64</strong>位</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>A</td>
<td>AX</td>
<td>EAX</td>
<td>RAX</td>
</tr>
<tr class="even">
<td>B</td>
<td>BX</td>
<td>EBX</td>
<td>RBX</td>
</tr>
<tr class="odd">
<td>C</td>
<td>CX</td>
<td>ECX</td>
<td>RCX</td>
</tr>
<tr class="even">
<td>D</td>
<td>DX</td>
<td>EDX</td>
<td>RDX</td>
</tr>
</tbody>
</table>
<h4 id="寄存器缓存内存三者关系">1.6.3 寄存器、缓存、内存三者关系</h4>
<p>按与CPU远近来分，离得最近的是寄存器，然后缓存(CPU缓存)，最后内存。</p>
<p>CPU计算时，先预先把要用的数据从硬盘读到内存，然后再把即将要用的数据读到寄存器。于是
CPU&lt;---&gt;寄存器&lt;---&gt;内存，这就是它们之间的信息交换。</p>
<p>那为什么有缓存呢？因为如果经常操作内存中的同一址地的数据，就会影响速度。于是就在寄存器与内存之间设置一个缓存。</p>
<p>因为从存提取的速度远高于内存。当然缓存的价格肯定远远高于内存，不然的话，机器里就没有内存的存在。</p>
<p>由此可以看出，从远近来看：<font color="red">CPU〈---〉寄存器〈---&gt;
缓存 &lt;---&gt; 内存</font></p>
<h3 id="汇编语言">1.7 汇编语言</h3>
<h4 id="vs中c语言嵌套汇编代码了解">1.7.1
VS中C语言嵌套汇编代码(了解)</h4>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">//定义整型变量a, b, c</span></span><br><span class="line">	<span class="type">int</span> a;</span><br><span class="line">	<span class="type">int</span> b;</span><br><span class="line">	<span class="type">int</span> c;</span><br><span class="line"></span><br><span class="line">	__asm</span><br><span class="line">	&#123;</span><br><span class="line">		mov a, <span class="number">3</span>	<span class="comment">//3的值放在a对应内存的位置</span></span><br><span class="line">		mov b, <span class="number">4</span>	<span class="comment">//4的值放在b对应内存的位置</span></span><br><span class="line">		mov eax, a	<span class="comment">//把a内存的值放在eax寄存器</span></span><br><span class="line">		add eax, b	<span class="comment">//eax和b相加，结果放在eax</span></span><br><span class="line">		mov c, eax	<span class="comment">//eax的值放在c中</span></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,  c);<span class="comment">//把c的值输出</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;<span class="comment">//成功完成</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="vs反编译">1.7.2 VS反编译</h4>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">//定义整型变量a, b, c</span></span><br><span class="line">	<span class="type">int</span> a;</span><br><span class="line">	<span class="type">int</span> b;</span><br><span class="line">	<span class="type">int</span> c;</span><br><span class="line"></span><br><span class="line">	a = <span class="number">3</span>;</span><br><span class="line">	b = <span class="number">4</span>;</span><br><span class="line">	c = a + b;</span><br><span class="line">	</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,  c);<span class="comment">//把c的值输出</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;<span class="comment">//成功完成</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="集成开发环境ide">1.8 集成开发环境IDE</h3>
<p>集成开发环境（IDE，Integrated Development Environment
）是用于提供程序开发环境的应用程序，<font color="red">一般包括代码编辑器、编译器、调试器和图形用户界面工具</font>。集成了代码编写功能、分析功能、编译功能、调试功能等一体化的开发软件服务套。所有具备这一特性的软件或者软件套（组）都可以叫集成开发环境。</p>
<h4 id="qt-creator">1.8.1 Qt Creator</h4>
<p>Qt Creator是跨平台的 Qt IDE， Qt Creator 是 Qt 被 Nokia
收购后推出的一款新的轻量级集成开发环境（IDE）。此 IDE
能够跨平台运行，支持的系统包括 Linux（32 位及 64 位）、Mac OS X 以及
Windows。根据官方描述，Qt Creator 的设计目标是使开发人员能够利用 Qt
这个应用程序框架更加快速及轻易的完成开发任务。</p>
<table>
<thead>
<tr class="header">
<th><strong>快捷键</strong></th>
<th><strong>含义</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Ctrl + i</td>
<td>自动格式化代码</td>
</tr>
<tr class="even">
<td>Ctrl + /</td>
<td>注释/取消注释</td>
</tr>
<tr class="odd">
<td>Alt + Enter</td>
<td>自动完成类函数定义</td>
</tr>
<tr class="even">
<td>F4</td>
<td>.h 文件和对应.cpp 文件切换</td>
</tr>
<tr class="odd">
<td>F9</td>
<td>设置断点</td>
</tr>
<tr class="even">
<td>F5</td>
<td>调试运行</td>
</tr>
<tr class="odd">
<td>Ctrl + r</td>
<td>编译，但不调试运行</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header">
<th>Ctrl + b</th>
<th>编译，不运行</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>F10</td>
<td>next调试</td>
</tr>
<tr class="even">
<td>F11</td>
<td>step调试</td>
</tr>
</tbody>
</table>
<h4 id="microsoft-visual-studio">1.8.2 Microsoft Visual Studio</h4>
<p>Microsoft Visual
Studio（简称VS）是美国微软公司的开发工具包系列产品。VS是一个基本完整的开发工具集，它包括了整个软件生命周期中所需要的大部分工具，如UML工具、代码管控工具、集成开发环境(IDE)等等,所写的目标代码适用于微软支持的所有平台。Visual
Studio是目前最流行的Windows平台应用程序的集成开发环境。</p>
<h5 id="vs常用快捷键">1. VS常用快捷键</h5>
<table>
<thead>
<tr class="header">
<th><strong>快捷键</strong></th>
<th><strong>含义</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Ctrl + k,Ctrl + f</td>
<td>自动格式化代码</td>
</tr>
<tr class="even">
<td>Ctrl + k,Ctrl + c</td>
<td>注释代码</td>
</tr>
<tr class="odd">
<td>Ctrl + k,Ctrl + u</td>
<td>取消注释代码</td>
</tr>
<tr class="even">
<td>F9</td>
<td>设置断点</td>
</tr>
<tr class="odd">
<td>F5</td>
<td>调试运行</td>
</tr>
<tr class="even">
<td>Ctrl + F5</td>
<td>不调试运行</td>
</tr>
<tr class="odd">
<td>Ctrl + Shift + b</td>
<td>编译，不运行</td>
</tr>
<tr class="even">
<td>F10</td>
<td>next调试</td>
</tr>
<tr class="odd">
<td>F11</td>
<td>step调试</td>
</tr>
</tbody>
</table>
<h5 id="vs2013的c4996错误">2. VS2013的C4996错误</h5>
<p>由于微软在VS2013中不建议再使用C的传统库函数scanf,strcpy,sprintf等，所以直接使用这些库函数会提示C4996错误：</p>
<p>VS建议采用带_s的函数，如scanf_s、strcpy_s，但这些并不是标准C函数。</p>
<p>要想继续使用此函数，<font color="red">需要在源文件中添加以下指令就可以避免这个错误提示</font>：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> _CRT_SECURE_NO_WARNINGS     <span class="comment">//这个宏定义最好要放到.c文件的第一行</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> <span class="keyword">warning</span>(disable:4996)	<span class="comment">//或者使用这个</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="数据类型">2. 数据类型</h2>
<h3 id="常量与变量">2.1 常量与变量</h3>
<h4 id="关键字">2.1.1 关键字</h4>
<figure>
<img src="/img/loading.gif" data-original="https://cdn.jsdelivr.net/gh/Aubuty/picgoimage@main/img/202206010000883.jpg" alt="2016-06-01_125457">
<figcaption aria-hidden="true">2016-06-01_125457</figcaption>
</figure>
<h4 id="数据类型-1">2.1.2 数据类型</h4>
<blockquote>
<p>数据类型的作用：编译器预算对象（变量）分配的内存空间大小</p>
</blockquote>
<figure>
<img src="/img/loading.gif" data-original="https://cdn.jsdelivr.net/gh/Aubuty/picgoimage@main/img/202206010000885.jpg" alt="2016-06-01_125610">
<figcaption aria-hidden="true">2016-06-01_125610</figcaption>
</figure>
<h4 id="常量">2.1.3 常量</h4>
<p>常量：</p>
<ul>
<li>在程序运行过程中，其值不能被改变的量</li>
<li>常量一般出现在表达式或赋值语句中</li>
</ul>
<table>
<thead>
<tr class="header">
<th>整型常量</th>
<th>100，200，-100，0</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>实型常量</td>
<td>3.14 ， 0.125，-3.123</td>
</tr>
<tr class="even">
<td>字符型常量</td>
<td>‘a’,‘b’,‘1’,‘’</td>
</tr>
<tr class="odd">
<td>字符串常量</td>
<td>“a”,“ab”，“12356”</td>
</tr>
</tbody>
</table>
<h4 id="变量">2.1.4 变量</h4>
<h5 id="变量-1">1. 变量</h5>
<ul>
<li>在程序运行过程中，其值可以改变</li>
<li><font color="red">变量在使用前必须先定义，定义变量前必须有相应的数据类型</font></li>
</ul>
<p>标识符命名规则：</p>
<ul>
<li>标识符不能是关键字</li>
<li>标识符只能由字母、数字、下划线组成</li>
<li>第一个字符必须为字母或下划线</li>
<li>标识符中字母区分大小写</li>
</ul>
<p>变量特点：</p>
<ul>
<li>变量在编译时为其分配相应的内存空间</li>
<li>可以通过其<font color="red">名字</font>和<font color="red">地址</font>&gt;访问相应内存</li>
</ul>
<figure>
<img src="/img/loading.gif" data-original="https://cdn.jsdelivr.net/gh/Aubuty/picgoimage@main/img/202206010000886.jpg" alt="2016-05-29_200452_副本">
<figcaption aria-hidden="true">2016-05-29_200452_副本</figcaption>
</figure>
<h5 id="声明和定义区别">2. 声明和定义区别</h5>
<ul>
<li>声明变量不需要建立存储空间，如：<code>extern int a;</code></li>
<li>定义变量需要建立存储空间，如：<code>int b;</code></li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">//extern 关键字只做声明，不能做任何定义，后面还会学习，这里先了解</span></span><br><span class="line">	<span class="comment">//声明一个变量a，a在这里没有建立存储空间</span></span><br><span class="line">	<span class="keyword">extern</span> <span class="type">int</span> a;</span><br><span class="line">	a = <span class="number">10</span>;	<span class="comment">//err, 没有空间，就不可以赋值</span></span><br><span class="line"></span><br><span class="line">	<span class="type">int</span> b = <span class="number">10</span>;	<span class="comment">//定义一个变量b，b的类型为int，b赋值为10</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>从广义的角度来讲声明中包含着定义，即<font color="red">定义是声明的一个特例</font>，所以并非所有的声明都是定义：</p>
<ul>
<li><p><code>int b</code> 它既是声明，同时又是定义</p></li>
<li><p>对于 <code>extern b</code>来讲它只是声明不是定义</p></li>
</ul>
<blockquote>
<p>一般的情况下，把建立存储空间的声明称之为“定义”，而把不需要建立存储空间的声明称之为“声明”</p>
</blockquote>
<h4 id="使用示例">2.1.5 使用示例</h4>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MAX 10 <span class="comment">//声明了一个常量，名字叫MAX，值是10，常量的值一旦初始化不可改</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> a;	<span class="comment">//定义了一个变量，其类型为int，名字叫a</span></span><br><span class="line"></span><br><span class="line">	<span class="type">const</span> <span class="type">int</span> b = <span class="number">10</span>; <span class="comment">//定义一个const常量，名为叫b，值为10</span></span><br><span class="line">	<span class="comment">//b = 11; //err,常量的值不能改变</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//MAX = 100;	//err,常量的值不能改变</span></span><br><span class="line"></span><br><span class="line">	a = MAX;<span class="comment">//将abc的值设置为MAX的值</span></span><br><span class="line">	a = <span class="number">123</span>;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, a); <span class="comment">//打印变量a的值</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="整数int">2.2 整数：int</h3>
<h4 id="整型变量的定义和输出">2.2.1 整型变量的定义和输出</h4>
<table>
<colgroup>
<col style="width: 18%">
<col style="width: 81%">
</colgroup>
<thead>
<tr class="header">
<th><strong>打印格式</strong></th>
<th><strong>含义</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>%d</td>
<td>输出一个<font color="red">有符号</font>的10进制int类型</td>
</tr>
<tr class="even">
<td>%o(字母o)</td>
<td>输出8进制的int类型</td>
</tr>
<tr class="odd">
<td>%x</td>
<td>输出16进制的int类型，字母以小写输出</td>
</tr>
<tr class="even">
<td>%X</td>
<td>输出16进制的int类型，字母以大写输出</td>
</tr>
<tr class="odd">
<td>%u</td>
<td>输出一个10进制的<font color="red">无符号</font>数</td>
</tr>
</tbody>
</table>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> a = <span class="number">123</span>;	<span class="comment">//定义变量a，以10进制方式赋值为123</span></span><br><span class="line">	<span class="type">int</span> b = <span class="number">0567</span>;	<span class="comment">//定义变量b，以8进制方式赋值为0567</span></span><br><span class="line">	<span class="type">int</span> c = <span class="number">0xabc</span>;	<span class="comment">//定义变量c，以16进制方式赋值为0xabc</span></span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;a = %d\n&quot;</span>, a);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;8进制：b = %o\n&quot;</span>, b);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;10进制：b = %d\n&quot;</span>, b);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;16进制：c = %x\n&quot;</span>, c);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;16进制：c = %X\n&quot;</span>, c);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;10进制：c = %d\n&quot;</span>, c);</span><br><span class="line">	</span><br><span class="line">	<span class="type">unsigned</span> <span class="type">int</span> d = <span class="number">0xffffffff</span>; <span class="comment">//定义无符号int变量d，以16进制方式赋值</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;有符号方式打印：d = %d\n&quot;</span>, d);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;无符号方式打印：d = %u\n&quot;</span>, d);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure>
<img src="/img/loading.gif" data-original="https://cdn.jsdelivr.net/gh/Aubuty/picgoimage@main/img/202206010000887.png" alt="image-20200919133924510">
<figcaption aria-hidden="true">image-20200919133924510</figcaption>
</figure>
<h4 id="整型变量的输入">2.2.2 整型变量的输入</h4>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> a;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;请输入a的值：&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//不要加&quot;\n&quot;</span></span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;a);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;a = %d\n&quot;</span>, a); <span class="comment">//打印a的值</span></span><br><span class="line">    </span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="shortintlonglong-long">2.2.3 short、int、long、long long</h4>
<table>
<colgroup>
<col style="width: 28%">
<col style="width: 71%">
</colgroup>
<thead>
<tr class="header">
<th><strong>数据类型</strong></th>
<th><strong>占用空间</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>short(短整型)</td>
<td>2字节</td>
</tr>
<tr class="even">
<td>int(整型)</td>
<td>4字节</td>
</tr>
<tr class="odd">
<td>long(长整形)</td>
<td>Windows为4字节，Linux为4字节(32位)，8字节(64位)</td>
</tr>
<tr class="even">
<td>long long(长长整形)</td>
<td>8字节</td>
</tr>
</tbody>
</table>
<blockquote>
<p>注意：</p>
</blockquote>
<ul>
<li>整型数据在内存中占的字节数与所选择的操作系统有关。虽然 C
语言标准中没有明确规定整型数据的长度，但 long 类型整数的长度不能短于 int
类型， short 类型整数的长度不能长于 int 类型</li>
<li><font color="red">当一个小的数据类型赋值给一个大的数据类型，不会出错，因为编译器会自动转化。但当一个大的类型赋值给一个小的数据类型，那么就可能丢失高位</font></li>
</ul>
<table>
<thead>
<tr class="header">
<th><strong>整型常量</strong></th>
<th><strong>所需类型</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>10</td>
<td>代表int类型</td>
</tr>
<tr class="even">
<td>10l, 10L</td>
<td>代表long类型</td>
</tr>
<tr class="odd">
<td>10ll, 10LL</td>
<td>代表long long类型</td>
</tr>
<tr class="even">
<td>10u, 10U</td>
<td>代表unsigned int类型</td>
</tr>
<tr class="odd">
<td>10ul, 10UL</td>
<td>代表unsigned long类型</td>
</tr>
<tr class="even">
<td>10ull, 10ULL</td>
<td>代表unsigned long long类型</td>
</tr>
</tbody>
</table>
<table>
<colgroup>
<col style="width: 38%">
<col style="width: 61%">
</colgroup>
<thead>
<tr class="header">
<th><strong>打印格式</strong></th>
<th><strong>含义</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>%hd</td>
<td>输出short类型</td>
</tr>
<tr class="even">
<td><font color="red">%d </font></td>
<td><font color="red">  输出int类型 </font></td>
</tr>
<tr class="odd">
<td>%ld</td>
<td>输出long类型</td>
</tr>
<tr class="even">
<td>%lld</td>
<td>输出long long类型</td>
</tr>
<tr class="odd">
<td>%hu</td>
<td>输出unsigned short类型</td>
</tr>
<tr class="even">
<td><font color="red">%u</font></td>
<td><font color="red">输出unsigned int类型 </font></td>
</tr>
<tr class="odd">
<td><font color="red">%lu </font></td>
<td><font color="red">输出unsigned long类&lt;/型</font></td>
</tr>
<tr class="even">
<td>%llu</td>
<td>输出unsigned long long类型</td>
</tr>
</tbody>
</table>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">short</span> a = <span class="number">10</span>;</span><br><span class="line">	<span class="type">int</span> b = <span class="number">10</span>;</span><br><span class="line">	<span class="type">long</span> c = <span class="number">10l</span>; <span class="comment">//或者10L</span></span><br><span class="line">	<span class="type">long</span> <span class="type">long</span> d = <span class="number">10ll</span>; <span class="comment">//或者10LL</span></span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;sizeof(a) = %u\n&quot;</span>, <span class="keyword">sizeof</span>(a));</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;sizeof(b) = %u\n&quot;</span>, <span class="keyword">sizeof</span>(b));</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;sizeof(c) = %u\n&quot;</span>, <span class="keyword">sizeof</span>(c));</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;sizeof(c) = %u\n&quot;</span>, <span class="keyword">sizeof</span>(d));</span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;short a = %hd\n&quot;</span>, a);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;int b = %d\n&quot;</span>, b);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;long c = %ld\n&quot;</span>, c);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;long long d = %lld\n&quot;</span>, d);</span><br><span class="line"></span><br><span class="line">	<span class="type">unsigned</span> <span class="type">short</span> a2 = <span class="number">20u</span>;</span><br><span class="line">	<span class="type">unsigned</span> <span class="type">int</span> b2 = <span class="number">20u</span>;</span><br><span class="line">	<span class="type">unsigned</span> <span class="type">long</span> c2= <span class="number">20ul</span>; </span><br><span class="line">	<span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span> d2 = <span class="number">20ull</span>; </span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;unsigned short a = %hu\n&quot;</span>, a2);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;unsigned int b = %u\n&quot;</span>, b2);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;unsigned long c = %lu\n&quot;</span>, c2);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;unsigned long long d = %llu\n&quot;</span>, d2);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>输出：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">tao@Taoc:~/Desktop/C/2$ ./2.2.3 </span><br><span class="line">sizeof(a) = 2</span><br><span class="line">sizeof(b) = 4</span><br><span class="line">sizeof(c) = 8</span><br><span class="line">sizeof(c) = 8</span><br><span class="line">short a = 10</span><br><span class="line">int b = 10</span><br><span class="line">long c = 10</span><br><span class="line">long long d = 10</span><br><span class="line">unsigned short a = 20</span><br><span class="line">unsigned int b = 20</span><br><span class="line">unsigned long c = 20</span><br><span class="line">unsigned long long d = 20</span><br></pre></td></tr></table></figure>
<h4 id="有符号数和无符号数区别">2.2.4 有符号数和无符号数区别</h4>
<h5 id="有符号数">1. 有符号数</h5>
<blockquote>
<p>有符号数是最高位为符号位，0代表正数，1代表负数</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">signed</span> <span class="type">int</span> a = <span class="number">-1089474374</span>; <span class="comment">//定义有符号整型变量a</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%X\n&quot;</span>, a); <span class="comment">//结果为 BF0FF0BA</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//B    F    0    F    F    0    B	 A</span></span><br><span class="line">	<span class="comment">//1011 1111 0000 1111 1111 0000 1011 1010</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>输出： BF0FF0BA</p>
</blockquote>
<h5 id="无符号数">2. 无符号数</h5>
<p><font color="red">无符号数最高位不是符号位</font>,
而就是数的一部分，无符号数不可能是负数</p>
<figure>
<img src="/img/loading.gif" data-original="https://cdn.jsdelivr.net/gh/Aubuty/picgoimage@main/img/202206010000888.jpg" alt="img">
<figcaption aria-hidden="true">img</figcaption>
</figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">unsigned</span> <span class="type">int</span> a = <span class="number">3236958022</span>; <span class="comment">//定义无符号整型变量a</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%X\n&quot;</span>, a); <span class="comment">//结果为 C0F00F46</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>当我们写程序要处理一个不可能出现负值的时候，一般用无符号数，这样可以增大数的表达最大值</p>
</blockquote>
<h5 id="有符号和无符号整型取值范围">3. 有符号和无符号整型取值范围</h5>
<table>
<colgroup>
<col style="width: 18%">
<col style="width: 15%">
<col style="width: 66%">
</colgroup>
<thead>
<tr class="header">
<th><strong>数据类型</strong></th>
<th><strong>占用空间</strong></th>
<th><strong>取值范围</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>short</td>
<td>2字节</td>
<td>-32768 到 32767 (<span class="math inline">\(-2^{15}\)</span> ~
2<span class="math inline">\(^{15}\)</span>-1)</td>
</tr>
<tr class="even">
<td>int</td>
<td>4字节</td>
<td>-2147483648 到 2147483647 (<span class="math inline">\(-2^{31}\)</span> ~ <span class="math inline">\(2^{31}\)</span>-1)</td>
</tr>
<tr class="odd">
<td>long</td>
<td>4字节</td>
<td>-2147483648 到 2147483647(<span class="math inline">\(-2^{31}\)</span> ~ <span class="math inline">\(2^{31}\)</span>-1)</td>
</tr>
<tr class="even">
<td>unsigned short</td>
<td>2字节</td>
<td>0 到 65535 (0 ~ 2<span class="math inline">\(^{16}\)</span>-1)</td>
</tr>
<tr class="odd">
<td>unsigned int</td>
<td>4字节</td>
<td>0 到 4294967295 (0 ~ 2<span class="math inline">\(^{32}\)</span>-1)</td>
</tr>
<tr class="even">
<td>unsigned long</td>
<td>4字节</td>
<td>0 到 4294967295 (0 ~ 2<span class="math inline">\(^{32}\)</span>-1)</td>
</tr>
</tbody>
</table>
<h3 id="sizeof-关键字">2.3 sizeof 关键字</h3>
<ul>
<li><code>sizeof</code>不是函数，所以不需要包含任何头文件，它的功能是<font color="red">计算一个数据类型的大小</font>，单位为字节</li>
<li><code>sizeof</code>的返回值为<code>size_t</code></li>
<li><code>size_t</code>类型在32位操作系统下是<code>unsigned int</code>，是一个无符号的整数</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> a;</span><br><span class="line">	<span class="type">int</span> b = <span class="keyword">sizeof</span>(a);<span class="comment">//sizeof得到指定值占用内存的大小，单位：字节</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;b = %d\n&quot;</span>, b);</span><br><span class="line"></span><br><span class="line">	<span class="type">size_t</span> c = <span class="keyword">sizeof</span>(a);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;c = %u\n&quot;</span>, c);<span class="comment">//用无符号数的方式输出c的值</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tao@Taoc:~/Desktop/C/2$ ./2.3 </span><br><span class="line">b = 4</span><br><span class="line">c = 4</span><br></pre></td></tr></table></figure>
<h3 id="字符型char">2.4 字符型：char</h3>
<h4 id="字符变量的定义和输出">2.4.1 字符变量的定义和输出</h4>
<p>字符型变量用于存储一个单一字符，在 C 语言中用 char
表示，其中每个字符变量都会占用 1
个字节。在给字符型变量赋值时，需要用一对英文半角格式的单引号(<code>' '</code>)把字符括起来</p>
<p>字符变量实际上并不是把该字符本身放到变量的内存单元中去，而是将该字符对应的
ASCII
编码放到变量的存储单元中。<font color="red">char的本质就是一个1字节大小的整型</font></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">char</span> ch = <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;sizeof(ch) = %u\n&quot;</span>, <span class="keyword">sizeof</span>(ch));</span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;ch[%%c] = %c\n&quot;</span>, ch); <span class="comment">//打印字符</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;ch[%%d] = %d\n&quot;</span>, ch); <span class="comment">//打印‘a’ ASCII的值</span></span><br><span class="line"></span><br><span class="line">	<span class="type">char</span> A = <span class="string">&#x27;A&#x27;</span>;</span><br><span class="line">	<span class="type">char</span> a = <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;a = %d\n&quot;</span>, a);		<span class="comment">//97</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;A = %d\n&quot;</span>, A);	<span class="comment">//65</span></span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;A = %c\n&quot;</span>, <span class="string">&#x27;a&#x27;</span> - <span class="number">32</span>); <span class="comment">//小写a转大写A</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;a = %c\n&quot;</span>, <span class="string">&#x27;A&#x27;</span> + <span class="number">32</span>); <span class="comment">//大写A转小写a</span></span><br><span class="line"></span><br><span class="line">	ch = <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;空字符：%d\n&quot;</span>, ch); <span class="comment">//空字符ASCII的值为32</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;A = %c\n&quot;</span>, <span class="string">&#x27;a&#x27;</span> - <span class="string">&#x27; &#x27;</span>); <span class="comment">//小写a转大写A</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;a = %c\n&quot;</span>, <span class="string">&#x27;A&#x27;</span> + <span class="string">&#x27; &#x27;</span>); <span class="comment">//大写A转小写a</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">ao@Taoc:~/Desktop/C/<span class="number">2</span>$ ./<span class="number">2.4</span><span class="number">.1</span> </span><br><span class="line"><span class="keyword">sizeof</span>(ch) = <span class="number">1</span></span><br><span class="line">ch[%c] = a</span><br><span class="line">ch[%d] = <span class="number">97</span></span><br><span class="line">a = <span class="number">97</span></span><br><span class="line">A = <span class="number">65</span></span><br><span class="line">A = A</span><br><span class="line">a = a</span><br><span class="line">空字符：<span class="number">32</span></span><br><span class="line">A = A</span><br><span class="line">a = a</span><br></pre></td></tr></table></figure>
<h4 id="字符变量的输入">2.4.2 字符变量的输入</h4>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">char</span> ch;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;请输入ch的值：&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//不要加“\n”</span></span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">&quot;%c&quot;</span>, &amp;ch);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;ch = %c\n&quot;</span>, ch); <span class="comment">//打印ch的字符</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tao@Taoc:~/Desktop/C/2$ ./2.4.2 </span><br><span class="line">请输入ch的值：a</span><br><span class="line">ch = a</span><br></pre></td></tr></table></figure>
<h4 id="ascii-对照表">2.4.3 ASCII 对照表</h4>
<table style="width:100%;">
<colgroup>
<col style="width: 12%">
<col style="width: 13%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
</colgroup>
<thead>
<tr class="header">
<th><font color="blue"><strong>ASCII值</strong></font></th>
<th><font color="blue"> <strong>控制字符</strong> </font></th>
<th><font color="blue"><strong>ASCII值</strong></font></th>
<th><font color="blue"> <strong>字符</strong> </font></th>
<th><font color="blue"><strong>ASCII值</strong></font></th>
<th><font color="blue"> <strong>字符</strong> </font></th>
<th><font color="blue"><strong>ASCII值</strong></font></th>
<th><font color="blue"> <strong>字符</strong> </font></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>0</td>
<td>NUT</td>
<td>32</td>
<td>(space)</td>
<td>64</td>
<td>@</td>
<td>96</td>
<td>、</td>
</tr>
<tr class="even">
<td>1</td>
<td>SOH</td>
<td>33</td>
<td>!</td>
<td>65</td>
<td>A</td>
<td>97</td>
<td>a</td>
</tr>
<tr class="odd">
<td>2</td>
<td>STX</td>
<td>34</td>
<td>"</td>
<td>66</td>
<td>B</td>
<td>98</td>
<td>b</td>
</tr>
<tr class="even">
<td>3</td>
<td>ETX</td>
<td>35</td>
<td>#</td>
<td>67</td>
<td>C</td>
<td>99</td>
<td>c</td>
</tr>
<tr class="odd">
<td>4</td>
<td>EOT</td>
<td>36</td>
<td>$</td>
<td>68</td>
<td>D</td>
<td>100</td>
<td>d</td>
</tr>
<tr class="even">
<td>5</td>
<td>ENQ</td>
<td>37</td>
<td>%</td>
<td>69</td>
<td>E</td>
<td>101</td>
<td>e</td>
</tr>
<tr class="odd">
<td>6</td>
<td>ACK</td>
<td>38</td>
<td>&amp;</td>
<td>70</td>
<td>F</td>
<td>102</td>
<td>f</td>
</tr>
<tr class="even">
<td>7</td>
<td>BEL</td>
<td>39</td>
<td>,</td>
<td>71</td>
<td>G</td>
<td>103</td>
<td>g</td>
</tr>
<tr class="odd">
<td>8</td>
<td>BS</td>
<td>40</td>
<td>(</td>
<td>72</td>
<td>H</td>
<td>104</td>
<td>h</td>
</tr>
<tr class="even">
<td>9</td>
<td>HT</td>
<td>41</td>
<td>)</td>
<td>73</td>
<td>I</td>
<td>105</td>
<td>i</td>
</tr>
<tr class="odd">
<td>10</td>
<td>LF</td>
<td>42</td>
<td>*</td>
<td>74</td>
<td>J</td>
<td>106</td>
<td>j</td>
</tr>
<tr class="even">
<td>11</td>
<td>VT</td>
<td>43</td>
<td>+</td>
<td>75</td>
<td>K</td>
<td>107</td>
<td>k</td>
</tr>
<tr class="odd">
<td>12</td>
<td>FF</td>
<td>44</td>
<td>,</td>
<td>76</td>
<td>L</td>
<td>108</td>
<td>l</td>
</tr>
<tr class="even">
<td>13</td>
<td>CR</td>
<td>45</td>
<td>-</td>
<td>77</td>
<td>M</td>
<td>109</td>
<td>m</td>
</tr>
<tr class="odd">
<td>14</td>
<td>SO</td>
<td>46</td>
<td>.</td>
<td>78</td>
<td>N</td>
<td>110</td>
<td>n</td>
</tr>
<tr class="even">
<td>15</td>
<td>SI</td>
<td>47</td>
<td>/</td>
<td>79</td>
<td>O</td>
<td>111</td>
<td>o</td>
</tr>
<tr class="odd">
<td>16</td>
<td>DLE</td>
<td>48</td>
<td>0</td>
<td>80</td>
<td>P</td>
<td>112</td>
<td>p</td>
</tr>
<tr class="even">
<td>17</td>
<td>DCI</td>
<td>49</td>
<td>1</td>
<td>81</td>
<td>Q</td>
<td>113</td>
<td>q</td>
</tr>
<tr class="odd">
<td>18</td>
<td>DC2</td>
<td>50</td>
<td>2</td>
<td>82</td>
<td>R</td>
<td>114</td>
<td>r</td>
</tr>
<tr class="even">
<td>19</td>
<td>DC3</td>
<td>51</td>
<td>3</td>
<td>83</td>
<td>S</td>
<td>115</td>
<td>s</td>
</tr>
<tr class="odd">
<td>20</td>
<td>DC4</td>
<td>52</td>
<td>4</td>
<td>84</td>
<td>T</td>
<td>116</td>
<td>t</td>
</tr>
<tr class="even">
<td>21</td>
<td>NAK</td>
<td>53</td>
<td>5</td>
<td>85</td>
<td>U</td>
<td>117</td>
<td>u</td>
</tr>
<tr class="odd">
<td>22</td>
<td>SYN</td>
<td>54</td>
<td>6</td>
<td>86</td>
<td>V</td>
<td>118</td>
<td>v</td>
</tr>
<tr class="even">
<td>23</td>
<td>TB</td>
<td>55</td>
<td>7</td>
<td>87</td>
<td>W</td>
<td>119</td>
<td>w</td>
</tr>
<tr class="odd">
<td>24</td>
<td>CAN</td>
<td>56</td>
<td>8</td>
<td>88</td>
<td>X</td>
<td>120</td>
<td>x</td>
</tr>
<tr class="even">
<td>25</td>
<td>EM</td>
<td>57</td>
<td>9</td>
<td>89</td>
<td>Y</td>
<td>121</td>
<td>y</td>
</tr>
<tr class="odd">
<td>26</td>
<td>SUB</td>
<td>58</td>
<td>:</td>
<td>90</td>
<td>Z</td>
<td>122</td>
<td>z</td>
</tr>
<tr class="even">
<td>27</td>
<td>ESC</td>
<td>59</td>
<td>;</td>
<td>91</td>
<td>[</td>
<td>123</td>
<td>{</td>
</tr>
<tr class="odd">
<td>28</td>
<td>FS</td>
<td>60</td>
<td>&lt;</td>
<td>92</td>
<td>/</td>
<td>124</td>
<td>|</td>
</tr>
<tr class="even">
<td>29</td>
<td>GS</td>
<td>61</td>
<td>=</td>
<td>93</td>
<td>]</td>
<td>125</td>
<td>}</td>
</tr>
<tr class="odd">
<td>30</td>
<td>RS</td>
<td>62</td>
<td>&gt;</td>
<td>94</td>
<td>^</td>
<td>126</td>
<td>`</td>
</tr>
<tr class="even">
<td>31</td>
<td>US</td>
<td>63</td>
<td>?</td>
<td>95</td>
<td>_</td>
<td>127</td>
<td>DEL</td>
</tr>
</tbody>
</table>
<p>ASCII 码大致由以下两部分组成：</p>
<ul>
<li>ASCII 非打印控制字符： ASCII 表上的数字 0-31
分配给了控制字符，用于控制像打印机等一些外围设备</li>
<li>ASCII 打印字符：数字 32-126
分配给了能在键盘上找到的字符，当查看或打印文档时就会出现。数字 127 代表
Del 命令</li>
</ul>
<h4 id="转义字符">2.4.4 转义字符</h4>
<table>
<colgroup>
<col style="width: 32%">
<col style="width: 38%">
<col style="width: 29%">
</colgroup>
<thead>
<tr class="header">
<th><strong>转义字符</strong></th>
<th><strong>含义</strong></th>
<th><strong>ASCII码值（十进制）</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><font color="red"></font></td>
<td>警报</td>
<td>007</td>
</tr>
<tr class="even">
<td><font color="red">/font&gt;</font></td>
<td>退格(BS) ，将当前位置移到前一列</td>
<td>008</td>
</tr>
<tr class="odd">
<td><font color="red">/font&gt;</font></td>
<td>换页(FF)，将当前位置移到下页开头</td>
<td>012</td>
</tr>
<tr class="even">
<td><font color="red"></font></td>
<td>换行(LF) ，将当前位置移到下一行开头</td>
<td>010</td>
</tr>
<tr class="odd">
<td><font color="red"> /font&gt;</font></td>
<td>回车(CR) ，将当前位置移到本行开头</td>
<td>013</td>
</tr>
<tr class="even">
<td><font color="red">/font&gt;</font></td>
<td>水平制表(HT) （跳到下一个TAB位置）</td>
<td>009</td>
</tr>
<tr class="odd">
<td><font color="red"> /font&gt;</font></td>
<td>垂直制表(VT)</td>
<td>011</td>
</tr>
<tr class="even">
<td><code>\\</code></td>
<td>代表一个反斜线字符""</td>
<td>092</td>
</tr>
<tr class="odd">
<td><code>\'</code></td>
<td>代表一个单引号（撇号）字符</td>
<td>039</td>
</tr>
<tr class="even">
<td><code>\"</code></td>
<td>代表一个双引号字符</td>
<td>034</td>
</tr>
<tr class="odd">
<td><code>\?</code></td>
<td>代表一个问号</td>
<td>063</td>
</tr>
<tr class="even">
<td><code>\0</code></td>
<td>数字0</td>
<td>000</td>
</tr>
<tr class="odd">
<td><code>\ddd</code></td>
<td>8进制转义字符，d范围0~7</td>
<td>3位8进制</td>
</tr>
<tr class="even">
<td><code>\xhh</code></td>
<td>16进制转义字符，h范围0<sub>9，a</sub>f，A~F</td>
<td>3位16进制</td>
</tr>
</tbody>
</table>
<blockquote>
<p>注意：红色字体标注的为不可打印字符</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;abc&quot;</span>);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;\refg\n&quot;</span>); <span class="comment">//\r切换到句首， \n为换行键</span></span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;abc&quot;</span>);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;\befg\n&quot;</span>);<span class="comment">//\b为退格键， \n为换行键</span></span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, <span class="string">&#x27;\123&#x27;</span>);<span class="comment">// &#x27;\123&#x27;为8进制转义字符，0123对应10进制数为83</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, <span class="string">&#x27;\x23&#x27;</span>);<span class="comment">// &#x27;\x23&#x27;为16进制转义字符，0x23对应10进制数为35</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">tao@Taoc:~/Desktop/C/2$ ./2.4.4 </span><br><span class="line">efg</span><br><span class="line">abefg</span><br><span class="line">83</span><br><span class="line">35</span><br></pre></td></tr></table></figure>
<h3 id="实型浮点型floatdouble">2.5 实型(浮点型)：float、double</h3>
<p>实型变量也可以称为浮点型变量，浮点型变量是用来存储小数数值的。在C语言中，
浮点型变量分为两种： 单精度浮点数(<code>float</code>)、
双精度浮点数(<code>double</code>)，
但是<code>double</code>型变量所表示的浮点数比 float 型变量更精确。</p>
<p>由于浮点型变量是由有限的存储单元组成的，因此只能提供有限的有效数字。在有效位以外的数字将被舍去，这样可能会产生一些误差。</p>
<p>不以f结尾的常量是<code>double</code>类型，以f结尾的常量(如3.14f)是<code>float</code>类型</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">//传统方式赋值</span></span><br><span class="line">	<span class="type">float</span> a = <span class="number">3.14f</span>; <span class="comment">//或3.14F</span></span><br><span class="line">	<span class="type">double</span> b = <span class="number">3.14</span>;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;a = %f\n&quot;</span>, a);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;b = %lf\n&quot;</span>, b);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//科学法赋值</span></span><br><span class="line">	a = <span class="number">3.2e3</span>f; <span class="comment">//3.2*1000 = 3200，e可以写E</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;a1 = %f\n&quot;</span>, a);</span><br><span class="line"></span><br><span class="line">	a = <span class="number">100e-3</span>f; <span class="comment">//100*0.001 = 0.1</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;a2 = %f\n&quot;</span>, a);</span><br><span class="line"></span><br><span class="line">	a = <span class="number">3.1415926f</span>;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;a3 = %f\n&quot;</span>, a); <span class="comment">//结果为3.141593</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">tao@Taoc:~/Desktop/C/2$ ./2.5 </span><br><span class="line">a = 3.140000</span><br><span class="line">b = 3.140000</span><br><span class="line">a1 = 3200.000000</span><br><span class="line">a2 = 0.100000</span><br><span class="line">a3 = 3.141593</span><br></pre></td></tr></table></figure>
<h3 id="进制">2.6 进制</h3>
<p>进制也就是进位制，是人们规定的一种进位方法。
对于任何一种进制—X进制，就表示某一位置上的数运算时是逢X进一位。
十进制是逢十进一，十六进制是逢十六进一，二进制就是逢二进一，以此类推，x进制就是逢x进位</p>
<table>
<thead>
<tr class="header">
<th><strong>十进制</strong></th>
<th><strong>二进制</strong></th>
<th><strong>八进制</strong></th>
<th><strong>十六进制</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="odd">
<td>2</td>
<td>10</td>
<td>2</td>
<td>2</td>
</tr>
<tr class="even">
<td>3</td>
<td>11</td>
<td>3</td>
<td>3</td>
</tr>
<tr class="odd">
<td>4</td>
<td>100</td>
<td>4</td>
<td>4</td>
</tr>
<tr class="even">
<td>5</td>
<td>101</td>
<td>5</td>
<td>5</td>
</tr>
<tr class="odd">
<td>6</td>
<td>110</td>
<td>6</td>
<td>6</td>
</tr>
<tr class="even">
<td>7</td>
<td>111</td>
<td>7</td>
<td>7</td>
</tr>
<tr class="odd">
<td>8</td>
<td>1000</td>
<td>10</td>
<td>8</td>
</tr>
<tr class="even">
<td>9</td>
<td>1001</td>
<td>11</td>
<td>9</td>
</tr>
<tr class="odd">
<td>10</td>
<td>1010</td>
<td>12</td>
<td>A</td>
</tr>
<tr class="even">
<td>11</td>
<td>1011</td>
<td>13</td>
<td>B</td>
</tr>
<tr class="odd">
<td>12</td>
<td>1100</td>
<td>14</td>
<td>C</td>
</tr>
<tr class="even">
<td>13</td>
<td>1101</td>
<td>15</td>
<td>D</td>
</tr>
<tr class="odd">
<td>14</td>
<td>1110</td>
<td>16</td>
<td>E</td>
</tr>
<tr class="even">
<td>15</td>
<td>1111</td>
<td>17</td>
<td>F</td>
</tr>
<tr class="odd">
<td>16</td>
<td>10000</td>
<td>20</td>
<td>10</td>
</tr>
</tbody>
</table>
<h4 id="二进制">2.6.1 二进制</h4>
<p>二进制是计算技术中广泛采用的一种数制。二进制数据是用0和1两个数码来表示的数。它的基数为2，进位规则是“逢二进一”，借位规则是“借一当二”</p>
<blockquote>
<p>当前的计算机系统使用的基本上是二进制系统，<font color="red">数据在计算机中主要是以补码的形式存储的</font></p>
</blockquote>
<table>
<colgroup>
<col style="width: 16%">
<col style="width: 83%">
</colgroup>
<thead>
<tr class="header">
<th><strong>术语</strong></th>
<th><strong>含义</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>bit(比特)</td>
<td>一个二进制代表一位，一个位只能表示0或1两种状态。数据传输是习惯以“位”（bit）为单位。</td>
</tr>
<tr class="even">
<td>Byte(字节)</td>
<td>一个字节为8个二进制，称为8位，<font color="red">计算机中存储的最小单位是字节</font>。数据存储是习惯以“字节”（Byte）为单位。</td>
</tr>
<tr class="odd">
<td>WORD(双字节)</td>
<td>2个字节，16位</td>
</tr>
<tr class="even">
<td>DWORD</td>
<td>两个WORD，4个字节，32位</td>
</tr>
<tr class="odd">
<td>1b</td>
<td>1bit，1位</td>
</tr>
<tr class="even">
<td>1B</td>
<td>1Byte,1字节，8位</td>
</tr>
<tr class="odd">
<td>1k，1K</td>
<td>1024</td>
</tr>
<tr class="even">
<td>1M(1兆)</td>
<td>1024k, 1024*1024</td>
</tr>
<tr class="odd">
<td>1G</td>
<td>1024M</td>
</tr>
<tr class="even">
<td>1T</td>
<td>1024G</td>
</tr>
<tr class="odd">
<td>1Kb(千位)</td>
<td>1024bit,1024位</td>
</tr>
<tr class="even">
<td>1KB(千字节)</td>
<td>1024Byte，1024字节</td>
</tr>
<tr class="odd">
<td>1Mb(兆位)</td>
<td>1024Kb = 1024 * 1024bit</td>
</tr>
<tr class="even">
<td>1MB(兆字节)</td>
<td>1024KB = 1024 * 1024Byte</td>
</tr>
</tbody>
</table>
<p>十进制转化二进制的方法：用十进制数除以2，分别取余数和商数，商数为0的时候，将余数倒着数就是转化后的结果</p>
<figure>
<img src="/img/loading.gif" data-original="https://cdn.jsdelivr.net/gh/Aubuty/picgoimage@main/img/202206010000889.png" alt="img">
<figcaption aria-hidden="true">img</figcaption>
</figure>
<p>十进制的小数转换成二进制：小数部分和2相乘，取整数，不足1取0，<font color="red">每次相乘都是小数部分</font>，顺序看取整后的数就是转化后的结果</p>
<figure>
<img src="/img/loading.gif" data-original="https://cdn.jsdelivr.net/gh/Aubuty/picgoimage@main/img/202206010000890.jpg" alt="无标题">
<figcaption aria-hidden="true">无标题</figcaption>
</figure>
<h4 id="八进制">2.6.2 八进制</h4>
<p>八进制，<code>Octal</code>，缩写OCT或O，一种以8为基数的计数法，采用0，1，2，3，4，5，6，7八个数字，逢八进1。一些编程语言中常常以数字0开始表明该数字是八进制</p>
<p>八进制的数和二进制数可以按位对应（<font color="red">八进制一位对应二进制三位</font>），因此常应用在计算机语言中</p>
<figure>
<img src="/img/loading.gif" data-original="https://cdn.jsdelivr.net/gh/Aubuty/picgoimage@main/img/202206010000891.jpg" alt="2016-06-01_172043">
<figcaption aria-hidden="true">2016-06-01_172043</figcaption>
</figure>
<p>十进制转化八进制的方法：</p>
<p>用十进制数除以8，分别取余数和商数，商数为0的时候，将余数倒着数就是转化后的结果</p>
<figure>
<img src="/img/loading.gif" data-original="https://cdn.jsdelivr.net/gh/Aubuty/picgoimage@main/img/202206010000892.jpg" alt="10转_副本1">
<figcaption aria-hidden="true">10转_副本1</figcaption>
</figure>
<h4 id="十六进制">2.6.3 十六进制</h4>
<p>十六进制（英文名称：Hexadecimal），同我们日常生活中的表示法不一样，它由0-9，A-F组成，<font color="red">字母不区分大小写</font>。与10进制的对应关系是：0-9对应0-9，A-F对应10-15</p>
<p>十六进制的数和二进制数可以按位对应（<font color="red">十六进制一位对应二进制四位</font>），因此常应用在计算机语言中</p>
<figure>
<img src="/img/loading.gif" data-original="https://cdn.jsdelivr.net/gh/Aubuty/picgoimage@main/img/202206010000893.jpg" alt="2016-06-01_180102">
<figcaption aria-hidden="true">2016-06-01_180102</figcaption>
</figure>
<p>十进制转化十六进制的方法：</p>
<p>用十进制数除以16，分别取余数和商数，商数为0的时候，将余数倒着数就是转化后的结果</p>
<figure>
<img src="/img/loading.gif" data-original="https://cdn.jsdelivr.net/gh/Aubuty/picgoimage@main/img/202206010000894.jpg" alt="10转">
<figcaption aria-hidden="true">10转</figcaption>
</figure>
<h4 id="c语言如何表示相应进制数">2.6.4 C语言如何表示相应进制数</h4>
<table>
<thead>
<tr class="header">
<th>十进制</th>
<th>以正常数字1-9开头，如123</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>八进制</td>
<td>以数字0开头，如0123</td>
</tr>
<tr class="even">
<td>十六进制</td>
<td>以0x开头，如0x123</td>
</tr>
<tr class="odd">
<td>二进制</td>
<td>C语言不能直接书写二进制数</td>
</tr>
</tbody>
</table>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> a = <span class="number">123</span>;		<span class="comment">//十进制方式赋值</span></span><br><span class="line">	<span class="type">int</span> b = <span class="number">0123</span>;		<span class="comment">//八进制方式赋值， 以数字0开头</span></span><br><span class="line">	<span class="type">int</span> c = <span class="number">0xABC</span>;	<span class="comment">//十六进制方式赋值</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//如果在printf中输出一个十进制数那么用%d，八进制用%o，十六进制是%x</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;十进制：%d\n&quot;</span>,a );</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;八进制：%o\n&quot;</span>, b);	<span class="comment">//%o,为字母o,不是数字</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;十六进制：%x\n&quot;</span>, c);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">tao@Taoc:~/Desktop/C/2$ ./2.6.4 </span><br><span class="line">十进制：123</span><br><span class="line">八进制：123</span><br><span class="line">十六进制：abc</span><br></pre></td></tr></table></figure>
<h3 id="计算机内存数值存储方式">2.7 计算机内存数值存储方式</h3>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/zhangziqiu/archive/2011/03/30/ComputerCode.html">原码,
反码, 补码 详解</a></p>
</blockquote>
<h4 id="原码">2.7.1 原码</h4>
<p>一个数的原码(原始的二进制码)有如下特点：</p>
<ul>
<li>最高位做为符号位，0表示正,为1表示负</li>
<li>其它数值部分就是数值本身绝对值的二进制数</li>
<li>负数的原码是在其绝对值的基础上，最高位变为1</li>
</ul>
<p>下面数值以1字节的大小描述：</p>
<table>
<thead>
<tr class="header">
<th><strong>十进制数</strong></th>
<th><strong>原码</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>+15</td>
<td>0000 1111</td>
</tr>
<tr class="even">
<td>-15</td>
<td>1000 1111</td>
</tr>
<tr class="odd">
<td>+0</td>
<td>0000 0000</td>
</tr>
<tr class="even">
<td>-0</td>
<td>1000 0000</td>
</tr>
</tbody>
</table>
<p>原码表示法简单易懂，与带符号数本身转换方便，只要符号还原即可，但当两个正数相减或不同符号数相加时，必须比较两个数哪个绝对值大，才能决定谁减谁，才能确定结果是正还是负，所以原码不便于加减运算</p>
<h4 id="反码">2.7.2 反码</h4>
<ul>
<li>对于正数，反码与原码相同</li>
<li><font color="red">对于负数，符号位不变，其它部分取反(1变0,0变1)</font></li>
</ul>
<table>
<thead>
<tr class="header">
<th><strong>十进制数</strong></th>
<th><strong>反码</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>+15</td>
<td>0000 1111</td>
</tr>
<tr class="even">
<td>-15</td>
<td>1111 0000</td>
</tr>
<tr class="odd">
<td>+0</td>
<td>0000 0000</td>
</tr>
<tr class="even">
<td>-0</td>
<td>1111 1111</td>
</tr>
</tbody>
</table>
<blockquote>
<p>反码运算也不方便，通常用来作为求补码的中间过渡</p>
</blockquote>
<h4 id="补码">2.7.3 补码</h4>
<p><font color="red"><strong>在计算机系统中，数值一律用补码来存储</strong></font></p>
<p>补码特点：</p>
<ul>
<li>对于正数，原码、反码、补码相同</li>
<li><font color="red">对于负数，其补码为它的反码加1</font></li>
<li>补码符号位不动，其他位求反，最后整个数加1，得到原码</li>
</ul>
<table>
<thead>
<tr class="header">
<th><strong>十进制数</strong></th>
<th><strong>补码</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>+15</td>
<td>0000 1111</td>
</tr>
<tr class="even">
<td>-15</td>
<td>1111 0001</td>
</tr>
<tr class="odd">
<td>+0</td>
<td>0000 0000</td>
</tr>
<tr class="even">
<td>-0</td>
<td>0000 0000</td>
</tr>
</tbody>
</table>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span>  a = <span class="number">-15</span>;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%x\n&quot;</span>, a);</span><br><span class="line">	<span class="comment">//结果为 fffffff1</span></span><br><span class="line">	<span class="comment">//fffffff1对应的二进制：1111 1111 1111 1111 1111 1111 1111 0001</span></span><br><span class="line">	<span class="comment">//符号位不变，其它取反：1000 0000 0000 0000 0000 0000 0000 1110</span></span><br><span class="line">	<span class="comment">//上面加1：1000 0000 0000 0000 0000 0000 0000 1111  最高位1代表负数，就是-15</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="补码的意义">2.7.4 补码的意义</h4>
<p>示例1：用8位二进制数分别表示+0和-0</p>
<table>
<thead>
<tr class="header">
<th><strong>十进制数</strong></th>
<th><strong>原码</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>+0</td>
<td>0000 0000</td>
</tr>
<tr class="even">
<td>-0</td>
<td>1000 0000</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header">
<th><strong>十进制数</strong></th>
<th><strong>反码</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>+0</td>
<td>0000 0000</td>
</tr>
<tr class="even">
<td>-0</td>
<td>1111 1111</td>
</tr>
</tbody>
</table>
<p>不管以原码方式存储，还是以反码方式存储，0也有两种表示形式。为什么同样一个0有两种不同的表示方法呢？</p>
<p>但是如果以补码方式存储，补码统一了零的编码：</p>
<table>
<thead>
<tr class="header">
<th><strong>十进制数</strong></th>
<th><strong>补码</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>+0</td>
<td>0000 0000</td>
</tr>
<tr class="even">
<td>-0</td>
<td>10000 0000由于只用8位描述，最高位1丢弃，变为0000 0000</td>
</tr>
</tbody>
</table>
<p>示例2：计算9-6的结果</p>
<p>以原码方式相加：</p>
<table>
<thead>
<tr class="header">
<th><strong>十进制数</strong></th>
<th><strong>原码</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>9</td>
<td>0000 1001</td>
</tr>
<tr class="even">
<td>-6</td>
<td>1000 0110</td>
</tr>
</tbody>
</table>
<figure>
<img src="/img/loading.gif" data-original="https://cdn.jsdelivr.net/gh/Aubuty/picgoimage@main/img/202206010000895.jpg" alt="2016-06-01_225835">
<figcaption aria-hidden="true">2016-06-01_225835</figcaption>
</figure>
<p>结果为-15，不正确。</p>
<p>以补码方式相加：</p>
<table>
<thead>
<tr class="header">
<th><strong>十进制数</strong></th>
<th><strong>补码</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>9</td>
<td>0000 1001</td>
</tr>
<tr class="even">
<td>-6</td>
<td>1111 1010</td>
</tr>
</tbody>
</table>
<figure>
<img src="/img/loading.gif" data-original="https://cdn.jsdelivr.net/gh/Aubuty/picgoimage@main/img/202206010000896.jpg" alt="2016-06-01_230938">
<figcaption aria-hidden="true">2016-06-01_230938</figcaption>
</figure>
<p>最高位的1溢出,剩余8位二进制表示的是3，正确</p>
<p><font color="red"><strong>在计算机系统中，数值一律用补码来存储</strong></font>主要原因是：</p>
<ul>
<li>统一了零的编码</li>
<li>将符号位和其它位统一处理</li>
<li>将减法运算转变为加法运算</li>
<li>两个用补码表示的数相加时，如果最高位(符号位)有进位，则进位被舍弃</li>
</ul>
<h4 id="数值溢出">2.7.5 数值溢出</h4>
<p>当超过一个数据类型能够存放最大的范围时，数值会溢出</p>
<p>有符号位最高位溢出的区别：符号位溢出会导致数的正负发生改变，但最高位的溢出会导致最高位丢失</p>
<table>
<thead>
<tr class="header">
<th><strong>数据类型</strong></th>
<th><strong>占用空间</strong></th>
<th><strong>取值范围</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>char</td>
<td>1字节</td>
<td>-128到 127(-2<span class="math inline">\(^{7}\)</span> ~ 2<span class="math inline">\(^{7}\)</span>-1)</td>
</tr>
<tr class="even">
<td>unsigned char</td>
<td>1字节</td>
<td>0 到 255(0 ~ 2<span class="math inline">\(^{8}\)</span>-1)</td>
</tr>
</tbody>
</table>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">char</span> ch;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//符号位溢出会导致数的正负发生改变</span></span><br><span class="line">	ch = <span class="number">0x7f</span> + <span class="number">2</span>; <span class="comment">//127+2</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, ch);</span><br><span class="line">	<span class="comment">//	0111 1111</span></span><br><span class="line">	<span class="comment">//+2后 1000 0001，这是负数补码，其原码为 1111 1111，结果为-127</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//最高位的溢出会导致最高位丢失</span></span><br><span class="line">	<span class="type">unsigned</span> <span class="type">char</span> ch2;</span><br><span class="line">	ch2 = <span class="number">0xff</span>+<span class="number">1</span>; <span class="comment">//255+1</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%u\n&quot;</span>, ch2);</span><br><span class="line">	<span class="comment">//	  1111 1111</span></span><br><span class="line">	<span class="comment">//+1后 10000 0000， char只有8位最高位的溢出，结果为0000 0000，十进制为0</span></span><br><span class="line"></span><br><span class="line">	ch2 = <span class="number">0xff</span> + <span class="number">2</span>; <span class="comment">//255+1</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%u\n&quot;</span>, ch2);</span><br><span class="line">	<span class="comment">//	  1111 1111</span></span><br><span class="line">	<span class="comment">//+1后 10000 0001， char只有8位最高位的溢出，结果为0000 0001，十进制为1</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">tao@Taoc:~/Desktop/C/<span class="number">2</span>$ gcc <span class="number">2.7</span><span class="number">.5</span>.c -o <span class="number">2.7</span><span class="number">.5</span></span><br><span class="line"><span class="number">2.7</span><span class="number">.5</span>.c: In function ‘main’:</span><br><span class="line"><span class="number">2.7</span><span class="number">.5</span>.c:<span class="number">15</span>:<span class="number">8</span>: warning: <span class="type">unsigned</span> conversion from ‘<span class="type">int</span>’ to ‘<span class="type">unsigned</span> <span class="type">char</span>’ changes value from ‘<span class="number">256</span>’ to ‘<span class="number">0</span>’ [-Woverflow]</span><br><span class="line">  ch2 = <span class="number">0xff</span>+<span class="number">1</span>; <span class="comment">//255+1</span></span><br><span class="line">        ^~~~</span><br><span class="line"><span class="number">2.7</span><span class="number">.5</span>.c:<span class="number">20</span>:<span class="number">8</span>: warning: <span class="type">unsigned</span> conversion from ‘<span class="type">int</span>’ to ‘<span class="type">unsigned</span> <span class="type">char</span>’ changes value from ‘<span class="number">257</span>’ to ‘<span class="number">1</span>’ [-Woverflow]</span><br><span class="line">  ch2 = <span class="number">0xff</span> + <span class="number">2</span>; <span class="comment">//255+1</span></span><br><span class="line">        ^~~~</span><br><span class="line">tao@Taoc:~/Desktop/C/<span class="number">2</span>$ ./<span class="number">2.7</span><span class="number">.5</span> </span><br><span class="line"><span class="number">-127</span></span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<h3 id="类型限定符">2.8 类型限定符</h3>
<table>
<colgroup>
<col style="width: 14%">
<col style="width: 85%">
</colgroup>
<thead>
<tr class="header">
<th><strong>限定符</strong></th>
<th><strong>含义</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>extern</td>
<td>声明一个变量，extern声明的变量没有建立存储空间。 extern int
a;//变量在定义的时候创建存储空间</td>
</tr>
<tr class="even">
<td>const</td>
<td>定义一个常量，常量的值不能修改。 const int a = 10;</td>
</tr>
<tr class="odd">
<td>Volatile</td>
<td>防止编译器优化代码</td>
</tr>
<tr class="even">
<td>register</td>
<td>定义寄存器变量，提高效率。register是建议型的指令，而不是命令型的指令，如果CPU有空闲寄存器，那么register就生效，如果没有空闲寄存器，那么register无效。</td>
</tr>
</tbody>
</table>
<h3 id="字符串格式化输出和输入">2.9 字符串格式化输出和输入</h3>
<h4 id="字符串常量">2.9.1 字符串常量</h4>
<ul>
<li>字符串是内存中一段连续的char空间，以'<code>\0</code>'(数字0)结尾</li>
<li>字符串常量是由双引号括起来的字符序列，如“china”、“C
program”，“$12.5”等都是合法的字符串常量</li>
</ul>
<p>字符串常量与字符常量的不同：</p>
<figure>
<img src="/img/loading.gif" data-original="https://cdn.jsdelivr.net/gh/Aubuty/picgoimage@main/img/202206010000897.jpg" alt="2016-06-02_122416">
<figcaption aria-hidden="true">2016-06-02_122416</figcaption>
</figure>
<p>每个字符串的结尾，编译器会自动的添加一个结束标志位'<code>\0</code>'，即
"a" 包含两个字符'<code>a</code>'和’<code>\0</code>’</p>
<h4 id="printf函数和putchar函数">2.9.2 printf函数和putchar函数</h4>
<p><code>printf</code>是输出一个字符串，<code>putchar</code>输出一个char</p>
<p>printf格式字符：</p>
<table>
<colgroup>
<col style="width: 13%">
<col style="width: 18%">
<col style="width: 68%">
</colgroup>
<thead>
<tr class="header">
<th><strong>打印格式</strong></th>
<th><strong>对应数据类型</strong></th>
<th><strong>含义</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>%d</td>
<td>int</td>
<td>接受整数值并将它表示为有符号的十进制整数</td>
</tr>
<tr class="even">
<td>%hd</td>
<td>short int</td>
<td>短整数</td>
</tr>
<tr class="odd">
<td>%hu</td>
<td>unsigned short</td>
<td>无符号短整数</td>
</tr>
<tr class="even">
<td>%o</td>
<td>unsigned int</td>
<td>无符号8进制整数</td>
</tr>
<tr class="odd">
<td>%u</td>
<td>unsigned int</td>
<td>无符号10进制整数</td>
</tr>
<tr class="even">
<td>%x,%X</td>
<td>unsigned int</td>
<td>无符号16进制整数，x对应的是abcdef，X对应的是ABCDEF</td>
</tr>
<tr class="odd">
<td>%f</td>
<td>float</td>
<td>单精度浮点数</td>
</tr>
<tr class="even">
<td>%lf</td>
<td>double</td>
<td>双精度浮点数</td>
</tr>
<tr class="odd">
<td>%e,%E</td>
<td>double</td>
<td>科学计数法表示的数，此处"e"的大小写代表在输出时用的"e"的大小写</td>
</tr>
<tr class="even">
<td>%c</td>
<td>char</td>
<td>字符型。可以把输入的数字按照ASCII码相应转换为对应的字符</td>
</tr>
<tr class="odd">
<td>%s</td>
<td>char *</td>
<td>字符串。输出字符串中的字符直至字符串中的空字符（字符串以'\0‘结尾，这个'\0'即空字符）</td>
</tr>
<tr class="even">
<td>%p</td>
<td>void *</td>
<td>以16进制形式输出指针</td>
</tr>
<tr class="odd">
<td>%%</td>
<td>%</td>
<td>输出一个百分号</td>
</tr>
</tbody>
</table>
<p>printf附加格式：</p>
<table>
<colgroup>
<col style="width: 22%">
<col style="width: 77%">
</colgroup>
<thead>
<tr class="header">
<th><strong>字符</strong></th>
<th><strong>含义</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>l(字母l)</td>
<td>附加在d,u,x,o前面，表示长整数</td>
</tr>
<tr class="even">
<td>-</td>
<td>左对齐</td>
</tr>
<tr class="odd">
<td>m(代表一个整数)</td>
<td>数据最小宽度</td>
</tr>
<tr class="even">
<td>0(数字0)</td>
<td>将输出的前面补上0直到占满指定列宽为止不可以搭配使用-</td>
</tr>
<tr class="odd">
<td>m.n(代表一个整数)</td>
<td>m指域宽，即对应的输出项在输出设备上所占的字符数。n指精度，用于说明输出的实型数的小数位数。对数值型的来说，未指定n时，隐含的精度为n=6位。</td>
</tr>
</tbody>
</table>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> a = <span class="number">100</span>;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;a = %d\n&quot;</span>, a);<span class="comment">//格式化输出一个字符串</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>, &amp;a);<span class="comment">//输出变量a在内存中的地址编号</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%%d\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="type">char</span> c = <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">	<span class="built_in">putchar</span>(c);<span class="comment">//putchar只有一个参数，就是要输出的char</span></span><br><span class="line">	<span class="type">long</span> a2 = <span class="number">100</span>;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%ld, %lx, %lo\n&quot;</span>, a2, a2, a2);</span><br><span class="line"></span><br><span class="line">	<span class="type">long</span> <span class="type">long</span> a3 = <span class="number">1000</span>;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%lld, %llx, %llo\n&quot;</span>, a3, a3, a3);</span><br><span class="line"></span><br><span class="line">	<span class="type">int</span> abc = <span class="number">10</span>;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;abc = &#x27;%6d&#x27;\n&quot;</span>, abc);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;abc = &#x27;%-6d&#x27;\n&quot;</span>, abc);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;abc = &#x27;%06d&#x27;\n&quot;</span>, abc);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;abc = &#x27;%-06d&#x27;\n&quot;</span>, abc);</span><br><span class="line"></span><br><span class="line">	<span class="type">double</span> d = <span class="number">12.3</span>;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;d = \&#x27; %-10.3lf \&#x27;\n&quot;</span>, d);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">tao@Taoc:~/Desktop/C/2$ ./2.9.2 </span><br><span class="line">a = 100</span><br><span class="line">0x7ffd3443b718</span><br><span class="line">%d</span><br><span class="line">a100, 64, 144</span><br><span class="line">1000, 3e8, 1750</span><br><span class="line">abc = <span class="string">&#x27;    10&#x27;</span></span><br><span class="line">abc = <span class="string">&#x27;10    &#x27;</span></span><br><span class="line">abc = <span class="string">&#x27;000010&#x27;</span></span><br><span class="line">abc = <span class="string">&#x27;10    &#x27;</span></span><br><span class="line">d = <span class="string">&#x27; 12.300     &#x27;</span></span><br></pre></td></tr></table></figure>
<h4 id="scanf函数与getchar函数">2.9.3 scanf函数与getchar函数</h4>
<ul>
<li>getchar是从标准输入设备读取一个char</li>
<li>scanf通过%转义的方式可以得到用户通过标准输入设备输入的数据</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">char</span> ch1;</span><br><span class="line">	<span class="type">char</span> ch2;</span><br><span class="line">	<span class="type">char</span> ch3;</span><br><span class="line">	<span class="type">int</span> a;</span><br><span class="line">	<span class="type">int</span> b;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;请输入ch1的字符：&quot;</span>);</span><br><span class="line">	ch1 = getchar();</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;ch1 = %c\n&quot;</span>, ch1);</span><br><span class="line"></span><br><span class="line">	getchar(); <span class="comment">//测试此处getchar()的作用</span></span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;请输入ch2的字符：&quot;</span>);</span><br><span class="line">	ch2 = getchar();</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;\&#x27;ch2 = %ctest\&#x27;\n&quot;</span>, ch2);</span><br><span class="line"></span><br><span class="line">	getchar(); <span class="comment">//测试此处getchar()的作用</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;请输入ch3的字符：&quot;</span>);</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">&quot;%c&quot;</span>, &amp;ch3);<span class="comment">//这里第二个参数一定是变量的地址，而不是变量名</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;ch3 = %c\n&quot;</span>, ch3);</span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;请输入a的值：&quot;</span>);</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;a);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;a = %d\n&quot;</span>, a);</span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;请输入b的值：&quot;</span>);</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;b);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;b = %d\n&quot;</span>, b);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">tao@Taoc:~/Desktop/C/2$ gcc 2.9.3.c -o 2.9.3</span><br><span class="line">tao@Taoc:~/Desktop/C/2$ ./2.9.3 </span><br><span class="line">请输入ch1的字符：a</span><br><span class="line">ch1 = a</span><br><span class="line">请输入ch2的字符：b</span><br><span class="line"><span class="string">&#x27;ch2 = btest&#x27;</span></span><br><span class="line">请输入ch3的字符：c</span><br><span class="line">ch3 = c</span><br><span class="line">请输入a的值：d</span><br><span class="line">a = 1513391056</span><br><span class="line">请输入b的值：b = 32765</span><br></pre></td></tr></table></figure>
<h2 id="运算符与表达式">3. 运算符与表达式</h2>
<h3 id="常用运算符分类">3.1 常用运算符分类</h3>
<table>
<thead>
<tr class="header">
<th><strong>运算符类型</strong></th>
<th><strong>作用</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>算术运算符</td>
<td>用于处理四则运算</td>
</tr>
<tr class="even">
<td>赋值运算符</td>
<td>用于将表达式的值赋给变量</td>
</tr>
<tr class="odd">
<td>比较运算符</td>
<td>用于表达式的比较，并返回一个真值或假值</td>
</tr>
<tr class="even">
<td>逻辑运算符</td>
<td>用于根据表达式的值返回真值或假值</td>
</tr>
<tr class="odd">
<td>位运算符</td>
<td>用于处理数据的位运算</td>
</tr>
<tr class="even">
<td>sizeof运算符</td>
<td>用于求字节数长度</td>
</tr>
</tbody>
</table>
<h3 id="算术运算符">3.2 算术运算符</h3>
<table>
<thead>
<tr class="header">
<th><strong>运算符</strong></th>
<th><strong>术语</strong></th>
<th><strong>示例</strong></th>
<th><strong>结果</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>+</td>
<td>正号</td>
<td>+3</td>
<td>3</td>
</tr>
<tr class="even">
<td>-</td>
<td>负号</td>
<td>-3</td>
<td>-3</td>
</tr>
<tr class="odd">
<td>+</td>
<td>加</td>
<td>10 + 5</td>
<td>15</td>
</tr>
<tr class="even">
<td>-</td>
<td>减</td>
<td>10 - 5</td>
<td>5</td>
</tr>
<tr class="odd">
<td>*</td>
<td>乘</td>
<td>10 * 5</td>
<td>50</td>
</tr>
<tr class="even">
<td>/</td>
<td>除</td>
<td>10 / 5</td>
<td>2</td>
</tr>
<tr class="odd">
<td>%</td>
<td>取模(取余)</td>
<td>10 % 3</td>
<td>1</td>
</tr>
<tr class="even">
<td>++</td>
<td>前自增</td>
<td>a=2; b=++a;</td>
<td>a=3; b=3;</td>
</tr>
<tr class="odd">
<td>++</td>
<td>后自增</td>
<td>a=2; b=a++;</td>
<td>a=3; b=2;</td>
</tr>
<tr class="even">
<td>--</td>
<td>前自减</td>
<td>a=2; b=--a;</td>
<td>a=1; b=1;</td>
</tr>
<tr class="odd">
<td>--</td>
<td>后自减</td>
<td>a=2; b=a--;</td>
<td>a=1; b=2;</td>
</tr>
</tbody>
</table>
<h3 id="赋值运算符">3.3 赋值运算符</h3>
<table>
<thead>
<tr class="header">
<th><strong>运算符</strong></th>
<th><strong>术语</strong></th>
<th><strong>示例</strong></th>
<th><strong>结果</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>=</td>
<td>赋值</td>
<td>a=2; b=3;</td>
<td>a=2; b=3;</td>
</tr>
<tr class="even">
<td>+=</td>
<td>加等于</td>
<td>a=0; a+=2;</td>
<td>a=2;</td>
</tr>
<tr class="odd">
<td>-=</td>
<td>减等于</td>
<td>a=5; a-=3;</td>
<td>a=2;</td>
</tr>
<tr class="even">
<td>*=</td>
<td>乘等于</td>
<td>a=2; a*=2;</td>
<td>a=4;</td>
</tr>
<tr class="odd">
<td>/=</td>
<td>除等于</td>
<td>a=4; a/=2;</td>
<td>a=2;</td>
</tr>
<tr class="even">
<td>%=</td>
<td>模等于</td>
<td>a=3; a%2;</td>
<td>a=1;</td>
</tr>
</tbody>
</table>
<h3 id="比较运算符">3.4 比较运算符</h3>
<blockquote>
<p>C 语言的比较运算中， “<code>真</code>”用数字“<code>1</code>”来表示，
“<code>假</code>”用数字“<code>0</code>”来表示</p>
</blockquote>
<table>
<thead>
<tr class="header">
<th><strong>运算符</strong></th>
<th><strong>术语</strong></th>
<th><strong>示例</strong></th>
<th><strong>结果</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>==</td>
<td>相等于</td>
<td>4 == 3</td>
<td>0</td>
</tr>
<tr class="even">
<td>!=</td>
<td>不等于</td>
<td>4 != 3</td>
<td>1</td>
</tr>
<tr class="odd">
<td>&lt;</td>
<td>小于</td>
<td>4 &lt; 3</td>
<td>0</td>
</tr>
<tr class="even">
<td>&gt;</td>
<td>大于</td>
<td>4 &gt; 3</td>
<td>1</td>
</tr>
<tr class="odd">
<td>&lt;=</td>
<td>小于等于</td>
<td>4 &lt;= 3</td>
<td>0</td>
</tr>
<tr class="even">
<td>&gt;=</td>
<td>大于等于</td>
<td>4 &gt;= 1</td>
<td>1</td>
</tr>
</tbody>
</table>
<h3 id="逻辑运算符">3.5 逻辑运算符</h3>
<table>
<colgroup>
<col style="width: 12%">
<col style="width: 9%">
<col style="width: 9%">
<col style="width: 68%">
</colgroup>
<thead>
<tr class="header">
<th><strong>运算符</strong></th>
<th><strong>术语</strong></th>
<th><strong>示例</strong></th>
<th><strong>结果</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>!</td>
<td>非</td>
<td>!a</td>
<td>如果a为假，则!a为真； 如果a为真，则!a为假。</td>
</tr>
<tr class="even">
<td>&amp;&amp;</td>
<td>与</td>
<td>a &amp;&amp; b</td>
<td>如果a和b都为真，则结果为真，否则为假。</td>
</tr>
<tr class="odd">
<td>||</td>
<td>或</td>
<td>a || b</td>
<td>如果a和b有一个为真，则结果为真，二者都为假时，结果为假。</td>
</tr>
</tbody>
</table>
<h3 id="运算符优先级"><font color="red">3.6 运算符优先级</font></h3>
<figure>
<img src="/img/loading.gif" data-original="https://cdn.jsdelivr.net/gh/Aubuty/picgoimage@main/img/202206010000898.png" alt="image-20200920092724191">
<figcaption aria-hidden="true">image-20200920092724191</figcaption>
</figure>
<h3 id="类型转换">3.7 类型转换</h3>
<p>数据有不同的类型，不同类型数据之间进行混合运算时必然涉及到类型的转换问题</p>
<p>转换的方法有两种：</p>
<ul>
<li>自动转换(隐式转换)：遵循一定的规则,由编译系统自动完成。</li>
<li>强制类型转换：把表达式的运算结果强制转换成所需的数据类型。</li>
</ul>
<p>类型转换的原则：<font color="red">占用内存字节数少(值域小)的类型，向占用内存字节数多(值域大)的类型转换，以保证精度不降低</font></p>
<figure>
<img src="/img/loading.gif" data-original="https://cdn.jsdelivr.net/gh/Aubuty/picgoimage@main/img/202206010000899.jpg" alt="2016-06-02_202741">
<figcaption aria-hidden="true">2016-06-02_202741</figcaption>
</figure>
<h4 id="隐式转换">3.7.1 隐式转换</h4>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> num = <span class="number">5</span>;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;s1=%d\n&quot;</span>, num / <span class="number">2</span>);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;s2=%lf\n&quot;</span>, num / <span class="number">2.0</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tao@Taoc:~/Desktop/C/<span class="number">3</span>$ ./<span class="number">3.7</span><span class="number">.1</span> </span><br><span class="line">S1 = <span class="number">2</span></span><br><span class="line">S2 = <span class="number">2.500000</span></span><br></pre></td></tr></table></figure>
<h4 id="强制转换">3.7.2 强制转换</h4>
<p>强制类型转换指的是使用强制类型转换运算符，将一个变量或表达式转化成所需的类型，其基本语法格式如下所示：</p>
<p><code>(类型说明符) (表达式)</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">	<span class="type">float</span> x = <span class="number">0</span>;</span><br><span class="line">	<span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">	x = <span class="number">3.6f</span>;</span><br><span class="line">	</span><br><span class="line">	i = x;</span><br><span class="line">	i = (<span class="type">int</span>)x;</span><br><span class="line">	</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;x=%f, i=%d\n&quot;</span>, x, i);</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tao@Taoc:~/Desktop/C/3$ ./3.7.2 </span><br><span class="line">x=3.600000, i=3</span><br></pre></td></tr></table></figure>
<h2 id="程序流程结构">4. 程序流程结构</h2>
<h3 id="概述">4.1 概述</h3>
<p>C语言支持最基本的三种程序运行结构：顺序结构、选择结构、循环结构。</p>
<ul>
<li><p>顺序结构：程序按顺序执行，不发生跳转。</p></li>
<li><p>选择结构：依据是否满足条件，有选择的执行相应功能。</p></li>
<li><p>循环结构：依据条件是否满足，循环多次执行某段代码。</p></li>
</ul>
<h3 id="选择结构">4.2 选择结构</h3>
<h4 id="if语句">4.2.1 if语句</h4>
<figure>
<img src="/img/loading.gif" data-original="https://cdn.jsdelivr.net/gh/Aubuty/picgoimage@main/img/202206010000900.png" alt="img">
<figcaption aria-hidden="true">img</figcaption>
</figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> a = <span class="number">1</span>;</span><br><span class="line">	<span class="type">int</span> b = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (a &gt; b)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, a);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>
<h4 id="ifelse语句">4.2.2 if…else语句</h4>
<figure>
<img src="/img/loading.gif" data-original="https://cdn.jsdelivr.net/gh/Aubuty/picgoimage@main/img/202206010000901.png" alt="img">
<figcaption aria-hidden="true">img</figcaption>
</figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> a = <span class="number">1</span>;</span><br><span class="line">	<span class="type">int</span> b = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (a &gt; b)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, a);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, b);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="ifelse-ifelse语句">4.2.3 if…else if…else语句</h4>
<figure>
<img src="/img/loading.gif" data-original="https://cdn.jsdelivr.net/gh/Aubuty/picgoimage@main/img/202206010000902.png" alt="img">
<figcaption aria-hidden="true">img</figcaption>
</figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">unsigned</span> <span class="type">int</span> a;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">&quot;%u&quot;</span>, &amp;a);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (a &lt; <span class="number">10</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;个位\n&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span> (a &lt; <span class="number">100</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;十位\n&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span> (a &lt; <span class="number">1000</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;百位\n&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;很大\n&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="三目运算符">4.2.4 三目运算符</h4>
<p><img src="/img/loading.gif" data-original="https://cdn.jsdelivr.net/gh/Aubuty/picgoimage@main/img/202206010000903.gif"></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> a = <span class="number">10</span>;</span><br><span class="line">	<span class="type">int</span> b = <span class="number">20</span>;</span><br><span class="line">	<span class="type">int</span> c;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (a &gt; b)</span><br><span class="line">	&#123;</span><br><span class="line">		c = a;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		c = b;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;c1 = %d\n&quot;</span>, c);</span><br><span class="line"></span><br><span class="line">	a = <span class="number">1</span>;</span><br><span class="line">	b = <span class="number">2</span>;</span><br><span class="line">	c = ( a &gt; b ? a : b );</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;c2 = %d\n&quot;</span>, c);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="switch语句">4.2.5 switch语句</h4>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">char</span> c;</span><br><span class="line">	c = getchar();</span><br><span class="line"></span><br><span class="line">	<span class="keyword">switch</span> (c) <span class="comment">//参数只能是整型变量</span></span><br><span class="line">	&#123;</span><br><span class="line">	<span class="keyword">case</span> <span class="string">&#x27;1&#x27;</span>:</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;OK\n&quot;</span>);</span><br><span class="line">		<span class="keyword">break</span>;<span class="comment">//switch遇到break就中断了</span></span><br><span class="line">	<span class="keyword">case</span> <span class="string">&#x27;2&#x27;</span>:</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;not OK\n&quot;</span>);</span><br><span class="line">		<span class="keyword">break</span>;</span><br><span class="line">	<span class="keyword">default</span>:<span class="comment">//如果上面的条件都不满足，那么执行default</span></span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;are u ok?\n&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tao@Taoc:~/Desktop/C/4$ ./4.2.5 </span><br><span class="line">t</span><br><span class="line">are u ok?</span><br></pre></td></tr></table></figure>
<h3 id="循环语句">4.3 循环语句</h3>
<h4 id="while语句">4.3.1 while语句</h4>
<figure>
<img src="/img/loading.gif" data-original="https://cdn.jsdelivr.net/gh/Aubuty/picgoimage@main/img/202206010000904.png" alt="img">
<figcaption aria-hidden="true">img</figcaption>
</figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> a = <span class="number">20</span>;</span><br><span class="line">	<span class="keyword">while</span> (a &gt; <span class="number">10</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;a);</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;a = %d\n&quot;</span>, a);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="dowhile语句">4.3.2 do…while语句</h4>
<figure>
<img src="/img/loading.gif" data-original="https://cdn.jsdelivr.net/gh/Aubuty/picgoimage@main/img/202206010000905.png" alt="img">
<figcaption aria-hidden="true">img</figcaption>
</figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> a = <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">do</span></span><br><span class="line">	&#123;</span><br><span class="line">		a++;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;a = %d\n&quot;</span>, a);</span><br><span class="line">	&#125; <span class="keyword">while</span> (a &lt; <span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="for-语句">4.3.3 for 语句</h4>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line"></span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">	int i;</span><br><span class="line">	int sum = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (i = <span class="number">0</span>; i &lt;= <span class="number">100</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		sum += i;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	printf(&quot;sum = %d\n&quot;, sum);</span><br><span class="line"></span><br><span class="line">	return <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="嵌套循环">4.3.4 嵌套循环</h4>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> num = <span class="number">0</span>;</span><br><span class="line">	<span class="type">int</span> i, j, k;</span><br><span class="line">	<span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; <span class="number">10</span>; j++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">for</span> (k = <span class="number">0</span>; k &lt; <span class="number">10</span>; k++)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="built_in">printf</span>(<span class="string">&quot;hello world\n&quot;</span>);</span><br><span class="line">				num++;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;num = %d\n&quot;</span>, num);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="跳转语句breakcontinuegoto">4.4
跳转语句break、continue、goto</h3>
<h4 id="break-语句">4.3.1 break 语句</h4>
<p>在switch条件语句和循环语句中都可以使用<code>break</code>语句：</p>
<ul>
<li>当它出现在<code>switch</code>条件语句中时，作用是终止某个<code>case</code>并跳出<code>switch</code>结构。</li>
<li>当它出现在循环语句中，作用是跳出当前内循环语句，执行后面的代码。</li>
<li>当它出现在嵌套循环语句中，跳出最近的内循环语句，执行后面的代码</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#include &lt;stdio.h&gt;</span></span><br><span class="line"></span><br><span class="line">int <span class="function"><span class="title">main</span></span>()</span><br><span class="line">&#123;</span><br><span class="line">	int i = 0;</span><br><span class="line">	<span class="keyword">while</span> (1)</span><br><span class="line">	&#123;</span><br><span class="line">		i++;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;i = %d\n&quot;</span>, i);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (i == 10)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="built_in">break</span>; //跳出<span class="keyword">while</span>循环</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	int flag = 0;</span><br><span class="line">	int m = 0;</span><br><span class="line">	int n = 0;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (m = 0; m &lt; 10; m++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span> (n = 0; n &lt; 10; n++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">if</span> (n == 5)</span><br><span class="line">			&#123;</span><br><span class="line">				flag = 1;</span><br><span class="line">				<span class="built_in">break</span>; //跳出<span class="keyword">for</span> (n = 0; n &lt; 10; n++)</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (flag == 1)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="built_in">break</span>; //跳出<span class="keyword">for</span> (m = 0; m &lt; 10; m++)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">return</span> 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">tao@Taoc:~/Desktop/C/4$ ./4.3.1</span><br><span class="line">i = 1</span><br><span class="line">i = 2</span><br><span class="line">i = 3</span><br><span class="line">i = 4</span><br><span class="line">i = 5</span><br><span class="line">i = 6</span><br><span class="line">i = 7</span><br><span class="line">i = 8</span><br><span class="line">i = 9</span><br><span class="line">i = 10</span><br></pre></td></tr></table></figure>
<h4 id="continue语句">4.4.2 continue语句</h4>
<p>在循环语句中，如果希望立即终止本次循环，并执行下一次循环，此时就需要使用<code>continue</code>语句</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> sum = <span class="number">0</span>;           <span class="comment">//定义变量sum</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">100</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (i % <span class="number">2</span> == <span class="number">0</span>)   <span class="comment">//如果i是一个偶数，执行if语句中的代码</span></span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">continue</span>;      <span class="comment">//结束本次循环</span></span><br><span class="line">		&#125;</span><br><span class="line">		sum += i;          <span class="comment">//实现sum和i的累加</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;sum = %d\n&quot;</span>, sum);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tao@Taoc:~/Desktop/C/4$ ./4.4.2</span><br><span class="line"><span class="built_in">sum</span> = 2500</span><br></pre></td></tr></table></figure>
<h4 id="goto语句无条件跳转尽量少用">4.4.3
goto语句(无条件跳转，尽量少用)</h4>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">goto</span> End; <span class="comment">//无条件跳转到End的标识</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;aaaaaaaaa\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">End:</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;bbbbbbbb\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tao@Taoc:~/Desktop/C/<span class="number">4</span>$ ./<span class="number">4.4</span><span class="number">.3</span> </span><br><span class="line">bbbbbbbb</span><br></pre></td></tr></table></figure>
<h2 id="数组和字符串">5. 数组和字符串</h2>
<h3 id="概述-1">5.1 概述</h3>
<blockquote>
<p>在程序设计中，为了方便处理数据把具有相同类型的若干变量按有序形式组织起来——称为数组</p>
</blockquote>
<p><font color="red">数组就是在内存中连续的相同类型的变量空间</font>。同一个数组所有的成员都是相同的数据类型，同时所有的成员在内存中的地址是连续的</p>
<figure>
<img src="/img/loading.gif" data-original="https://cdn.jsdelivr.net/gh/Aubuty/picgoimage@main/img/202206010000906.png" alt="img">
<figcaption aria-hidden="true">img</figcaption>
</figure>
<p>数组属于构造数据类型：</p>
<ul>
<li><p>一个数组可以分解为多个数组元素：这些数组元素可以是基本数据类型或构造类型</p></li>
<li><p>```c int a[10]; struct Stu boy[10] <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- 按数组元素类型的不同，数组可分为：数值数组、字符数组、指针数组、结构数组等类别</span><br><span class="line"></span><br><span class="line">- ```c</span><br><span class="line">  int a[10];</span><br><span class="line">  char s[10];</span><br><span class="line">  char *p[10];</span><br></pre></td></tr></table></figure></p>
<p>通常情况下，数组元素下标的个数也称为维数，根据维数的不同，可将数组分为一维数组、二维数组、三维数组、四维数组等。通常情况下，<font color="red">我们将二维及以上的数组称为多维数组</font></p></li>
</ul>
<h3 id="一维数组">5.2 一维数组</h3>
<h4 id="一维数组的定义和使用">5.2.1 一维数组的定义和使用</h4>
<ul>
<li><p>数组名字符合标识符的书写规定(数字、英文字母、下划线)</p></li>
<li><p><font color="red">数组名不能与其它变量名相同，同一作用域内是唯一的</font></p></li>
<li><p>方括号[]中常量表达式表示数组元素的个数</p></li>
<li><p>```c int a[3]表示数组a有3个元素
其下标从0开始计算，因此3个元素分别a[0],a[1],a[2] <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- &lt;font color=&quot;red&quot;&gt;定义数组时[]内最好是常量，使用数组时[]内即可是常量，也可以是变量&lt;/font&gt;</span><br><span class="line"></span><br><span class="line">```c</span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line"></span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">	int a[10];//定义了一个数组，名字叫a，有10个成员，每个成员都是int类型</span><br><span class="line">	//a[0]…… a[9]，没有a[10]</span><br><span class="line">	//没有a这个变量，a是数组的名字，但不是变量名，它是常量</span><br><span class="line">	a[0] = 0;</span><br><span class="line">	//……</span><br><span class="line">	a[9] = 9;</span><br><span class="line"></span><br><span class="line">	int i = 0;</span><br><span class="line">	for (i = 0; i &lt; 10; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		a[i] = i; //给数组赋值</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	//遍历数组，并输出每个成员的值</span><br><span class="line">	for (i = 0; i &lt; 10; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		printf(&quot;%d &quot;, a[i]);</span><br><span class="line">	&#125;</span><br><span class="line">	printf(&quot;\n&quot;);</span><br><span class="line"></span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p></li>
</ul>
<p>输出结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tao@Taoc:~/Desktop/C/5$ ./5.2.1 </span><br><span class="line">0123456789</span><br></pre></td></tr></table></figure>
<h4 id="一维数组的初始化">5.2.2 一维数组的初始化</h4>
<p>在定义数组的同时进行赋值，称为初始化。全局数组若不初始化，编译器将其初始化为零。<font color="red">局部数组若不初始化，内容为随机值。</font></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a[<span class="number">10</span>] = &#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span> &#125;;<span class="comment">//定义一个数组，同时初始化所有成员变量</span></span><br><span class="line"><span class="type">int</span> a[<span class="number">10</span>] = &#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span> &#125;;<span class="comment">//初始化前三个成员，后面所有元素都设置为0</span></span><br><span class="line"><span class="type">int</span> a[<span class="number">10</span>] = &#123; <span class="number">0</span> &#125;;<span class="comment">//所有的成员都设置为0</span></span><br><span class="line"><span class="comment">//[]中不定义元素个数，定义时必须初始化</span></span><br><span class="line"><span class="type">int</span> a[] = &#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span> &#125;;<span class="comment">//定义了一个数组，有5个成员</span></span><br></pre></td></tr></table></figure>
<h4 id="数组名">5.2.3 数组名</h4>
<p><font color="red">数组名是一个地址的常量，代表数组中首元素的地址</font></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> a[<span class="number">10</span>] = &#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span> &#125;;<span class="comment">//定义一个数组，同时初始化所有成员变量</span></span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;a = %p\n&quot;</span>, a);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;&amp;a[0] = %p\n&quot;</span>, &amp;a[<span class="number">0</span>]);</span><br><span class="line"></span><br><span class="line">	<span class="type">int</span> n = <span class="keyword">sizeof</span>(a); <span class="comment">//数组占用内存的大小，10个int类型，10 * 4  = 40</span></span><br><span class="line">	<span class="type">int</span> n0 = <span class="keyword">sizeof</span>(a[<span class="number">0</span>]);<span class="comment">//数组第0个元素占用内存大小，第0个元素为int，4</span></span><br><span class="line"></span><br><span class="line">	<span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="keyword">sizeof</span>(a) / <span class="keyword">sizeof</span>(a[<span class="number">0</span>]); i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, a[i]);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">tao@Taoc:~/Desktop/C/5$ ./5.2.3 </span><br><span class="line">a = 0x7ffcfbfe16d0</span><br><span class="line">&amp;a[0]=0x7ffcfbfe16d0</span><br><span class="line">12345678910</span><br></pre></td></tr></table></figure>
<h4 id="强化训练">5.2.4 强化训练</h4>
<h5 id="一维数组的最值">1. 一维数组的最值</h5>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> a[] = &#123;  <span class="number">1</span>, <span class="number">-2</span>, <span class="number">3</span>,- <span class="number">4</span>, <span class="number">5</span>, <span class="number">-6</span>, <span class="number">7</span>, <span class="number">-8</span>, <span class="number">-9</span>, <span class="number">10</span> &#125;;<span class="comment">//定义一个数组，同时初始化所有成员变量</span></span><br><span class="line"></span><br><span class="line">	<span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">	<span class="type">int</span> max = a[<span class="number">0</span>];</span><br><span class="line">	<span class="keyword">for</span> (i = <span class="number">1</span>; i &lt; <span class="keyword">sizeof</span>(a) / <span class="keyword">sizeof</span>(a[<span class="number">0</span>]); i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (a[i] &gt; max)</span><br><span class="line">		&#123;</span><br><span class="line">			max = a[i];</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;数组中最大值为：%d\n&quot;</span>, max);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tao@Taoc:~/Desktop/C/5$ ./5.2.4-1 </span><br><span class="line">数组中最大值为:10</span><br></pre></td></tr></table></figure>
<h5 id="一维数组的逆置">2. 一维数组的逆置</h5>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">	<span class="type">int</span> a[] = &#123;  <span class="number">1</span>, <span class="number">-2</span>, <span class="number">3</span>,- <span class="number">4</span>, <span class="number">5</span>, <span class="number">-6</span>, <span class="number">7</span>, <span class="number">-8</span>, <span class="number">-9</span>, <span class="number">10</span> &#125;;</span><br><span class="line">	<span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">	<span class="type">int</span> j = <span class="keyword">sizeof</span>(a) / <span class="keyword">sizeof</span>(a[<span class="number">0</span>]) - <span class="number">1</span>;</span><br><span class="line">	<span class="type">int</span> tmp;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span> (i &lt; j)&#123;</span><br><span class="line">		tmp = a[i];</span><br><span class="line">		a[i] = a[j];</span><br><span class="line">		a[j] = tmp;	</span><br><span class="line">		i++;</span><br><span class="line">		j--;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; <span class="keyword">sizeof</span>(a)/<span class="keyword">sizeof</span>(a[<span class="number">0</span>]); i++)&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;%d, &quot;</span>, a[i]);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tao@Taoc:~/Desktop/C/5$ ./5.2.4-2 </span><br><span class="line">10, -9, -8, 7, -6, 5, -4, 3, -2, 1, </span><br></pre></td></tr></table></figure>
<blockquote>
<p>源文件的代码是有问题的，因为它<code>i++, j++</code>
放在了交换位置的前面，导致数组的第一个没有反转</p>
</blockquote>
<h5 id="冒泡排序">3. 冒泡排序</h5>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#include &lt;stdio.h&gt;</span></span><br><span class="line"></span><br><span class="line">int <span class="function"><span class="title">main</span></span>()</span><br><span class="line">&#123;</span><br><span class="line">	int a[] = &#123;  1, -2, 3,- 4, 5, -6, 7, -8, -9, 10 &#125;;</span><br><span class="line">	int i = 0;</span><br><span class="line">	int j = 0;</span><br><span class="line">	int n = sizeof(a)/sizeof(a[0]);</span><br><span class="line">	int tmp;</span><br><span class="line"></span><br><span class="line">	// 1. 流程</span><br><span class="line">	// 2. 试数</span><br><span class="line">	<span class="keyword">for</span>(i = 0; i &lt; n; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span>(j = 0; j &lt; n - i - 1; j++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">if</span>(a[j] &gt; a[j+1])</span><br><span class="line">			&#123;</span><br><span class="line">				tmp = a[j];</span><br><span class="line">				a[j] = a[j+1];</span><br><span class="line">				a[j+1] = tmp;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(i = 0; i &lt; n; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,a[i]);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="built_in">return</span> 0;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tao@Taoc:~/Desktop/C/5$ ./5.2.4-3 </span><br><span class="line">-9-8-6-4-2135710</span><br></pre></td></tr></table></figure>
<h3 id="二维数组">5.3 二维数组</h3>
<h4 id="二维数组的定义和使用">5.3.1 二维数组的定义和使用</h4>
<blockquote>
<p>二维数组定义的一般形式是：</p>
<p><code>类型说明符 数组名[常量表达式1][常量表达式2]</code></p>
</blockquote>
<p>其中常量表达式1表示第一维下标的长度，常量表达式2
表示第二维下标的长度。</p>
<p><code>int a[3][4];</code></p>
<ul>
<li>命名规则同一维数组</li>
<li>定义了一个三行四列的数组，数组名为a其元素类型为整型，该数组的元素个数为3×4个，即：</li>
</ul>
<figure>
<img src="/img/loading.gif" data-original="https://cdn.jsdelivr.net/gh/Aubuty/picgoimage@main/img/202206010000907.png" alt="img">
<figcaption aria-hidden="true">img</figcaption>
</figure>
<p>二维数组a是按行进行存放的，先存放a[0]行，再存放a[1]行、a[2]行，并且每行有四个元素，也是依次存放的</p>
<ul>
<li>二维数组在概念上是二维的：其下标在两个方向上变化，对其访问一般需要两个下标。</li>
<li>在内存中并不存在二维数组，二维数组实际的硬件存储器是连续编址的，<font color="red">也就是说内存中只有一维数组</font>，即放完一行之后顺次放入第二行，和一维数组存放方式是一样的。</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">// 定义一个二维数组，名字叫a</span></span><br><span class="line">    <span class="comment">// 由3个一维数组组成，这个一维数组是int[4]</span></span><br><span class="line">    <span class="comment">// 这3个一维数组的数组名分别为a[0],a[1],a[2]</span></span><br><span class="line">    <span class="type">int</span> a[<span class="number">3</span>][<span class="number">4</span>];</span><br><span class="line">    </span><br><span class="line">    a[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    a[<span class="number">2</span>][<span class="number">3</span>] = <span class="number">12</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 给数组每个元素赋值</span></span><br><span class="line">    <span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> j = <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> num = <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; j &lt; <span class="number">4</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(j = <span class="number">0</span>; j &lt; <span class="number">4</span>; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            a[i][j] = num++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 遍历数组，并输出每个成员的值</span></span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(j = <span class="number">0</span>; j &lt; <span class="number">4</span>; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, a[i][j]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="二维数组的初始化">5.3.2 二维数组的初始化</h4>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//分段赋值 	int a[3][4] = &#123;&#123; 1, 2, 3, 4 &#125;,&#123; 5, 6, 7, 8, &#125;,&#123; 9, 10, 11, 12 &#125;&#125;;</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> a[<span class="number">3</span>][<span class="number">4</span>] = </span><br><span class="line">	&#123; </span><br><span class="line">		&#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span> &#125;,</span><br><span class="line">		&#123; <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, &#125;,</span><br><span class="line">		&#123; <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span> &#125;</span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="comment">// 连续赋值</span></span><br><span class="line">	<span class="type">int</span> a[<span class="number">3</span>][<span class="number">4</span>] = &#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span> , <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>  &#125;;</span><br><span class="line">	<span class="comment">// 可以只给部分元素赋初值，未初始化则为0</span></span><br><span class="line">	<span class="type">int</span> a[<span class="number">3</span>][<span class="number">4</span>] = &#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>  &#125;;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//所有的成员都设置为0</span></span><br><span class="line">	<span class="type">int</span> a[<span class="number">3</span>][<span class="number">4</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//[]中不定义元素个数，定义时必须初始化</span></span><br><span class="line">	<span class="type">int</span> a[][<span class="number">4</span>] = &#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="数组名-1">5.3.3 数组名</h4>
<p><font color="red">数组名是一个地址的常量，代表数组中首元素的地址</font></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">//定义了一个二维数组，名字叫a</span></span><br><span class="line">	<span class="comment">//二维数组是本质上还是一维数组，此一维数组有3个元素</span></span><br><span class="line"><span class="comment">//每个元素又是一个一维数组int[4]</span></span><br><span class="line">	<span class="type">int</span> a[<span class="number">3</span>][<span class="number">4</span>] = &#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span> , <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>  &#125;;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//数组名为数组首元素地址，二维数组的第0个元素为一维数组</span></span><br><span class="line">	<span class="comment">//第0个一维数组的数组名为a[0]</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;a = %p\n&quot;</span>, a);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;a[0] = %p\n&quot;</span>, a[<span class="number">0</span>]);</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//测二维数组所占内存空间，有3个一维数组，每个一维数组的空间为4*4</span></span><br><span class="line">	<span class="comment">//sizeof(a) = 3 * 4 * 4 = 48</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;sizeof(a) = %d\n&quot;</span>, <span class="keyword">sizeof</span>(a));</span><br><span class="line"></span><br><span class="line">	<span class="comment">//测第0个元素所占内存空间，a[0]为第0个一维数组int[4]的数组名，4*4=16</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;sizeof(a[0]) = %d\n&quot;</span>, <span class="keyword">sizeof</span>(a[<span class="number">0</span>]) );</span><br><span class="line"></span><br><span class="line">	<span class="comment">//测第0行0列元素所占内存空间，第0行0列元素为一个int类型，4字节</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;sizeof(a[0][0]) = %d\n&quot;</span>, <span class="keyword">sizeof</span>(a[<span class="number">0</span>][<span class="number">0</span>]));</span><br><span class="line"></span><br><span class="line">	<span class="comment">//求二维数组行数</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;i = %d\n&quot;</span>, <span class="keyword">sizeof</span>(a) / <span class="keyword">sizeof</span>(a[<span class="number">0</span>]));</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 求二维数组列数</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;j = %d\n&quot;</span>, <span class="keyword">sizeof</span>(a[<span class="number">0</span>]) / <span class="keyword">sizeof</span>(a[<span class="number">0</span>][<span class="number">0</span>]));</span><br><span class="line"></span><br><span class="line">	<span class="comment">//求二维数组行*列总数</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;n = %d\n&quot;</span>, <span class="keyword">sizeof</span>(a) / <span class="keyword">sizeof</span>(a[<span class="number">0</span>][<span class="number">0</span>]));</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">tao@Taoc:~/Desktop/C/<span class="number">5</span>$ ./<span class="number">5.3</span><span class="number">.3</span> </span><br><span class="line">a = <span class="number">0x7ffe09fd1e60</span></span><br><span class="line">a[<span class="number">0</span>] = <span class="number">0x7ffe09fd1e60</span></span><br><span class="line"><span class="keyword">sizeof</span>(a) = <span class="number">48</span></span><br><span class="line"><span class="keyword">sizeof</span>(a[<span class="number">0</span>]) = <span class="number">16</span></span><br><span class="line"><span class="keyword">sizeof</span>(a[<span class="number">0</span>][<span class="number">0</span>]) = <span class="number">4</span></span><br><span class="line">i = <span class="number">3</span></span><br><span class="line">j = <span class="number">4</span></span><br><span class="line">n = <span class="number">12</span></span><br></pre></td></tr></table></figure>
<h4 id="强化训练-1">5.3.4 强化训练</h4>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#include &lt;stdio.h&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> <span class="title function_ invoke__">main</span>()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//二维数组：  五行、三列</span></span><br><span class="line">	<span class="comment">//行代表人：  老大到老五</span></span><br><span class="line">	<span class="comment">//列代表科目：语、数、外</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">float</span> a[<span class="number">5</span>][<span class="number">3</span>] =  &#123; &#123; <span class="number">80</span>, <span class="number">75</span>, <span class="number">56</span> &#125;, &#123; <span class="number">59</span>, <span class="number">65</span>, <span class="number">71</span> &#125;, &#123; <span class="number">59</span>, <span class="number">63</span>, <span class="number">70</span> &#125;, &#123; <span class="number">85</span>, <span class="number">45</span>, <span class="number">90</span> &#125;, &#123; <span class="number">76</span>, <span class="number">77</span>, <span class="number">45</span> &#125; &#125;;</span><br><span class="line">   	</span><br><span class="line">    <span class="keyword">int</span> i,j,person_low[<span class="number">3</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="keyword">float</span> s=<span class="number">0</span>,lesson_aver[<span class="number">3</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(j = <span class="number">0</span>;j &lt; <span class="number">5</span>; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            s = s + a[i][j];</span><br><span class="line">            <span class="keyword">if</span>(a[i][j] &lt; <span class="number">60</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                person_low[i]++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        lesson_aver[i] = s/<span class="number">5</span>;</span><br><span class="line">        s = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_ invoke__">printf</span>(<span class="string">&quot;各科的平均成绩:\n&quot;</span>);</span><br><span class="line">	<span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="title function_ invoke__">printf</span>(<span class="string">&quot;%.2f\n&quot;</span>, lesson_aver[i]);</span><br><span class="line">	&#125;</span><br><span class="line">		</span><br><span class="line">	<span class="title function_ invoke__">printf</span>(<span class="string">&quot;各科不及格的人数:\n&quot;</span>);</span><br><span class="line">	<span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="title function_ invoke__">printf</span>(<span class="string">&quot;%d\n&quot;</span>, person_low[i]);</span><br><span class="line">	&#125;</span><br><span class="line">		</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">tao@Taoc:~/Desktop/C/5$ ./5.3.4 </span><br><span class="line">各科的平均成绩:</span><br><span class="line">67.00</span><br><span class="line">63.40</span><br><span class="line">64.40</span><br><span class="line">各科不及格的人数:</span><br><span class="line">2</span><br><span class="line">2</span><br><span class="line">2</span><br></pre></td></tr></table></figure>
<h3 id="多维数组了解">5.4 多维数组(了解)</h3>
<p>多维数组的定义与二维数组类似，其语法格式具体如下：</p>
<p><code>数组类型修饰符 数组名 [n1][n2]…[nn];</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a[<span class="number">3</span>][<span class="number">4</span>][<span class="number">5</span>];</span><br></pre></td></tr></table></figure>
<p>定义了一个三维数组，数组的名字是a，数组的长度为3，每个数组的元素又是一个二维数组，这个二维数组的长度是4，并且这个二维数组中的每个元素又是一个一维数组，这个一维数组的长度是5，元素类型是<code>int</code>;</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">	<span class="comment">// int a[3][4][5]; //定义了一个三维数组，有3个二维数组int[4][5]</span></span><br><span class="line">	<span class="type">int</span> a[<span class="number">3</span>][<span class="number">4</span>][<span class="number">5</span>] = &#123; &#123; &#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span> &#125;, &#123; <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span> &#125;, &#123; <span class="number">0</span> &#125;, &#123; <span class="number">0</span> &#125; &#125;, &#123; &#123; <span class="number">0</span> &#125;, &#123; <span class="number">0</span> &#125;, &#123; <span class="number">0</span> &#125;, &#123; <span class="number">0</span> &#125; &#125;, &#123; &#123; <span class="number">0</span> &#125;, &#123; <span class="number">0</span> &#125;, &#123; <span class="number">0</span> &#125;, &#123; <span class="number">0</span> &#125; &#125; &#125;;</span><br><span class="line">    <span class="type">int</span> i, j, k;</span><br><span class="line">	<span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; <span class="number">4</span>; j++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">for</span> (k = <span class="number">0</span>; k &lt; <span class="number">5</span>; k++)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="comment">//添加访问元素代码</span></span><br><span class="line">				<span class="built_in">printf</span>(<span class="string">&quot;%d, &quot;</span>, a[i][j][k]);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">tao@Taoc:~/Desktop/C/<span class="number">5</span>$ ./<span class="number">5.4</span> </span><br><span class="line"><span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, </span><br><span class="line"><span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, </span><br><span class="line"><span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, </span><br><span class="line"><span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, </span><br><span class="line"><span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, </span><br><span class="line"><span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, </span><br><span class="line"><span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, </span><br><span class="line"><span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, </span><br><span class="line"><span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, </span><br><span class="line"><span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, </span><br><span class="line"><span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, </span><br><span class="line"><span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, </span><br></pre></td></tr></table></figure>
<h3 id="字符数组与字符串">5.5 字符数组与字符串</h3>
<h4 id="字符数组与字符串区别">5.5.1 字符数组与字符串区别</h4>
<ul>
<li>C语言中没有字符串这种数据类型，可以通过char的数组来替代；</li>
<li>字符串一定是一个char的数组，但char的数组未必是字符串；</li>
<li><font color="red">数字0(和字符‘<code>\0</code>’等价)结尾的char数组就是一个字符串</font>，但如果char数组没有以数字0结尾，那么就不是一个字符串，只是普通字符数组，所以<font color="red">字符串是一种特殊的char的数组</font></li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">char</span> c1[] = &#123; <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27; &#x27;</span>, <span class="string">&#x27;p&#x27;</span>, <span class="string">&#x27;r&#x27;</span>, <span class="string">&#x27;o&#x27;</span>, <span class="string">&#x27;g&#x27;</span> &#125;; <span class="comment">//普通字符数组</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;c1 = %s\n&quot;</span>, c1); <span class="comment">//乱码，因为没有’\0’结束符</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//以‘\0’(‘\0’就是数字0)结尾的字符数组是字符串</span></span><br><span class="line">	<span class="type">char</span> c2[] = &#123; <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27; &#x27;</span>, <span class="string">&#x27;p&#x27;</span>, <span class="string">&#x27;r&#x27;</span>, <span class="string">&#x27;o&#x27;</span>, <span class="string">&#x27;g&#x27;</span>, <span class="string">&#x27;\0&#x27;</span>&#125;; </span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;c2 = %s\n&quot;</span>, c2);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//字符串处理以‘\0’(数字0)作为结束符，后面的&#x27;h&#x27;, &#x27;l&#x27;, &#x27;l&#x27;, &#x27;e&#x27;, &#x27;o&#x27;不会输出</span></span><br><span class="line">	<span class="type">char</span> c3[] = &#123; <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27; &#x27;</span>, <span class="string">&#x27;p&#x27;</span>, <span class="string">&#x27;r&#x27;</span>, <span class="string">&#x27;o&#x27;</span>, <span class="string">&#x27;g&#x27;</span>, <span class="string">&#x27;\0&#x27;</span>, <span class="string">&#x27;h&#x27;</span>, <span class="string">&#x27;l&#x27;</span>, <span class="string">&#x27;l&#x27;</span>, <span class="string">&#x27;e&#x27;</span>, <span class="string">&#x27;o&#x27;</span>, <span class="string">&#x27;\0&#x27;</span>&#125;;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;c3 = %s\n&quot;</span>, c3);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure>
<img src="/img/loading.gif" data-original="https://cdn.jsdelivr.net/gh/Aubuty/picgoimage@main/img/202206010000908.png" alt="image-20200920211035690">
<figcaption aria-hidden="true">image-20200920211035690</figcaption>
</figure>
<h4 id="字符串的初始化">5.5.2 字符串的初始化</h4>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// C语言没有字符串类型，通过字符数组模拟</span></span><br><span class="line"><span class="comment">// C语言字符串，以字符&#x27;\0&#x27;, 数字0</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//不指定长度, 没有0结束符，有多少个元素就有多长</span></span><br><span class="line">    <span class="type">char</span> buf[] = &#123;<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>&#125;;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;buf = %s\n&quot;</span>, buf);	<span class="comment">//乱码</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//指定长度，后面没有赋值的元素，自动补0</span></span><br><span class="line">	<span class="type">char</span> buf2[<span class="number">100</span>] = &#123; <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span> &#125;;</span><br><span class="line">	<span class="type">char</span> buf[<span class="number">1000</span>]=&#123;<span class="string">&quot;hello&quot;</span>&#125;;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;buf2 = %s\n&quot;</span>, buf2);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//所有元素赋值为0</span></span><br><span class="line">	<span class="type">char</span> buf3[<span class="number">100</span>] = &#123; <span class="number">0</span> &#125;;</span><br><span class="line">    <span class="comment">//char buf4[2] = &#123; &#x27;1&#x27;, &#x27;2&#x27;, &#x27;3&#x27; &#125;;//数组越界</span></span><br><span class="line">    <span class="type">char</span> buf5[<span class="number">50</span>] = &#123; <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;0&#x27;</span>, <span class="string">&#x27;7&#x27;</span> &#125;;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;buf5 = %s\n&quot;</span>, buf5);</span><br><span class="line"></span><br><span class="line">	<span class="type">char</span> buf6[<span class="number">50</span>] = &#123; <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="number">0</span>, <span class="string">&#x27;7&#x27;</span> &#125;;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;buf6 = %s\n&quot;</span>, buf6);</span><br><span class="line">    </span><br><span class="line">    <span class="type">char</span> buf7[<span class="number">50</span>] = &#123; <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;\0&#x27;</span>, <span class="string">&#x27;7&#x27;</span> &#125;;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;buf7 = %s\n&quot;</span>, buf7);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//使用字符串初始化，编译器自动在后面补0，常用</span></span><br><span class="line">	<span class="type">char</span> buf8[] = <span class="string">&quot;agjdslgjlsdjg&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//&#x27;\0&#x27;后面最好不要连着数字，有可能几个数字连起来刚好是一个转义字符</span></span><br><span class="line">	<span class="comment">//&#x27;\ddd&#x27;八进制字义字符，&#x27;\xdd&#x27;十六进制转移字符</span></span><br><span class="line">	<span class="comment">// \012相当于\n</span></span><br><span class="line">	<span class="type">char</span> str[] = <span class="string">&quot;\012abc&quot;</span>;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;str == %s\n&quot;</span>, str);	</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="字符串的输入输出">5.5.3 字符串的输入输出</h4>
<blockquote>
<p>由于字符串采用了'\0'标志，字符串的输入输出将变得简单方便</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">char</span> str[<span class="number">100</span>];</span><br><span class="line">   </span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;input string1 : \n&quot;</span>);</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>, str);<span class="comment">//scanf(“%s”,str)默认以空格分隔</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;output:%s\n&quot;</span>, str);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="gets">1. gets()</h5>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">char</span> *<span class="title function_">gets</span><span class="params">(<span class="type">char</span> *s)</span>;</span><br></pre></td></tr></table></figure>
<p>功能：从标准输入读入字符，并保存到s指定的内存空间，直到出现换行符或读到文件结尾为止。
参数： <code>s</code>：字符串首地址 返回值： 成功：读入的字符串
失败：NULL</p>
<p><code>gets(str)</code>与<code>scanf(“%s”,str)</code>的区别：</p>
<ul>
<li><code>gets(str)</code>允许输入的字符串含有空格</li>
<li><code>scanf(“%s”,str)</code>不允许含有空格</li>
</ul>
<blockquote>
<p>注意：由于<code>scanf()</code>和<code>gets()</code>无法知道字符串s大小，必须遇到换行符或读到文件结尾为止才接收输入，因此容易导致字符数组越界(缓冲区溢出)的情况</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> str[<span class="number">100</span>];</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;请输入str: &quot;</span>);</span><br><span class="line">	gets(str);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;str = %s\n&quot;</span>, str);</span><br></pre></td></tr></table></figure>
<h5 id="fgets">2. fgets()</h5>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">char</span> *<span class="title function_">fgets</span><span class="params">(<span class="type">char</span> *s, <span class="type">int</span> size, FILE *stream)</span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>功能：从stream指定的文件内读入字符，保存到s所指定的内存空间，直到出现换行字符、读到文件结尾或是已读了<code>size - 1</code>个字符为止，最后会自动加上字符
'<code>\0</code>' 作为字符串结束。 参数： <code>s</code>：字符串
<code>size</code>：指定最大读取字符串的长度（size - 1）
<code>stream</code>：文件指针，如果读键盘输入的字符串，固定写为stdin
返回值： 成功：成功读取的字符串 读到文件尾或出错： NULL</p>
</blockquote>
<blockquote>
<p><code>fgets()</code>在读取一个用户通过键盘输入的字符串的时候，同时把用户输入的回车也做为字符串的一部分。通过<code>scanf</code>和<code>gets</code>输入一个字符串的时候，不包含结尾的“<code>\n</code>”，但通过<code>fgets</code>结尾多了“<code>\n</code>”。<code>fgets()</code>函数是安全的，不存在缓冲区溢出的问题</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> str[<span class="number">100</span>];</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;请输入str: &quot;</span>);</span><br><span class="line">	fgets(str, <span class="keyword">sizeof</span>(str), <span class="built_in">stdin</span>);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;str = \&quot;%s\&quot;\n&quot;</span>, str);</span><br></pre></td></tr></table></figure>
<h5 id="puts">3. puts()</h5>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">puts</span><span class="params">(<span class="type">const</span> <span class="type">char</span> *s)</span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>功能：标准设备输出s字符串，<font color="red">在输出完成后自动输出一个''。</font></p>
<p>参数：</p>
<p>​ s：字符串首地址</p>
<p>返回值：</p>
<p>​ 成功：非负数</p>
<p>​ 失败：-1</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;hello world&quot;</span>);</span><br><span class="line">	<span class="built_in">puts</span>(<span class="string">&quot;hello world&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="fputs">4. fputs()</h5>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">fputs</span><span class="params">(<span class="type">const</span> <span class="type">char</span> * str, FILE * stream)</span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>功能：将str所指定的字符串写入到stream指定的文件中， 字符串结束符 '\0'
不写入文件。</p>
<p>参数：</p>
<p>​ str：字符串</p>
<p>​
stream：文件指针，<font color="red">如果把字符串输出到屏幕，固定写为stdout</font></p>
<p>返回值：</p>
<p>​ 成功：0</p>
<p>​ 失败：-1</p>
</blockquote>
<p><code>fputs()</code>是<code>puts()</code>的文件操作版本，但<code>fputs()</code><font color="red">不会</font>自动输出一个'<code>\n</code>'</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;hello world&quot;</span>);</span><br><span class="line"><span class="built_in">puts</span>(<span class="string">&quot;hello world&quot;</span>);</span><br><span class="line"><span class="built_in">fputs</span>(<span class="string">&quot;hello world&quot;</span>, <span class="built_in">stdout</span>);</span><br></pre></td></tr></table></figure>
<h5 id="strlen">5. strlen()</h5>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="type">size_t</span> <span class="title function_">strlen</span><span class="params">(<span class="type">const</span> <span class="type">char</span> *s)</span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>功能：计算指定指定字符串s的长度，<font color="red">不包含字符串结束符‘<code>\0</code>’</font></p>
<p>参数：</p>
<p>​ s：字符串首地址</p>
<p>返回值：字符串s的长度，size_t为unsigned int类型</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">	<span class="type">char</span> str[] = <span class="string">&quot;abc\0defg&quot;</span>;</span><br><span class="line">	<span class="type">int</span> n = <span class="built_in">strlen</span>(str);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;n = %d\n&quot;</span>, n);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出 n = 3</span></span><br></pre></td></tr></table></figure>
<h4 id="字符串追加">5.5.4 字符串追加</h4>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">char</span> str1[] = <span class="string">&quot;abcdef&quot;</span>;</span><br><span class="line">	<span class="type">char</span> str2[] = <span class="string">&quot;123456&quot;</span>;</span><br><span class="line">	<span class="type">char</span> dst[<span class="number">100</span>];</span><br><span class="line"></span><br><span class="line">	<span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span> (str1[i] != <span class="number">0</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		dst[i] = str1[i];</span><br><span class="line">		i++;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="type">int</span> j = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span> (str2[j] != <span class="number">0</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		dst[i + j] = str2[j];</span><br><span class="line">		j++;</span><br><span class="line">	&#125;</span><br><span class="line">	dst[i + j] = <span class="number">0</span>; <span class="comment">//字符串结束符</span></span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;dst = %s\n&quot;</span>, dst);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="函数">6. 函数</h2>
<h3 id="概述-2">6.1 概述</h3>
<h4 id="函数分类">6.1.1 函数分类</h4>
<p>C 程序是由函数组成的，我们写的代码都是由主函数
main()开始执行的。函数是 C
程序的基本模块，是用于完成特定任务的程序代码单元</p>
<p>从函数定义的角度看，函数可分为系统函数和用户定义函数两种：</p>
<ul>
<li><p>系统函数，即库函数：这是由编译系统提供的，用户不必自己定义这些函数，可以直接使用它们，如我们常用的打印函数printf()。</p></li>
<li><p>用户定义函数：用以解决用户的专门需要</p></li>
</ul>
<h4 id="函数的作用">6.1.2 函数的作用</h4>
<blockquote>
<p>函数的使用可以省去重复代码的编写，降低代码重复率</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="comment">// 求两数的最大值</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">max</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">if</span> (a &gt; b)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> a;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> b;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> a1 = <span class="number">10</span>, b1 = <span class="number">20</span>, c1 = <span class="number">0</span>;</span><br><span class="line">    c1 = max(a1, b1); <span class="comment">// 调用max()</span></span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> a2 = <span class="number">11</span>, b2 = <span class="number">21</span>, c2 = <span class="number">0</span>;</span><br><span class="line">    c2 = max(a2, b2);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tao@Taoc:~/Desktop/C/<span class="number">6</span>$ ./<span class="number">6.1</span><span class="number">.2</span> </span><br><span class="line">c1= <span class="number">20</span>, c2 = <span class="number">21</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>函数可以让程序更加模块化，从而有利于程序的阅读，修改和完善</p>
</blockquote>
<p>假如我们编写一个实现以下功能的程序：读入一行数字；对数字进行排序；找到它们的平均值；打印出一个柱状图。如果我们把这些操作直接写在main()里，这样可能会给用户感觉代码会有点凌乱。但，假如我们使用函数，这样可以让程序更加清晰、模块化：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">float</span> <span class="built_in">list</span>[<span class="number">50</span>];</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 这里只是举例，函数还没有实现</span></span><br><span class="line">	readlist(<span class="built_in">list</span>, <span class="number">50</span>);</span><br><span class="line">	sort(<span class="built_in">list</span>, <span class="number">50</span>);</span><br><span class="line">	average(<span class="built_in">list</span>, <span class="number">50</span>);</span><br><span class="line">	bargraph(<span class="built_in">list</span>, <span class="number">50</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>这里我们可以这么理解，<font color="red">程序就像公司，公司是由部门组成的，这个部门就类似于C程序的函数</font>。默认情况下，公司就是一个大部门(
只有一个部门的情况下
)，相当于C程序的<code>main()</code>函数。如果公司比较小( 程序比较小
)，因为任务少而简单，一个部门即可( <code>main()</code>函数
)胜任。但是，如果这个公司很大( 大型应用程序
)，任务多而杂，如果只是一个部门管理( 相当于没有部门，没有分工
)，我们可想而知，公司管理、运营起来会有多混乱，不是说这样不可以运营，只是这样不完美而已，如果根据公司要求分成一个个部门(
根据功能封装一个一个函数
)，招聘由行政部门负责，研发由技术部门负责等，这样就可以分工明确，结构清晰，方便管理，各部门之间还可以相互协调</p>
<h4 id="函数的调用产生随机数">6.1.3 函数的调用：产生随机数</h4>
<p>当调用函数时，需要关心5要素：</p>
<ul>
<li><p>头文件：包含指定的头文件</p></li>
<li><p>函数名字：函数名字必须和头文件声明的名字一样</p></li>
<li><p>功能：需要知道此函数能干嘛后才调用</p></li>
<li><p>参数：参数类型要匹配</p></li>
<li><p>返回值：根据需要接收返回值</p></li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;time.h&gt;</span></span></span><br><span class="line"><span class="type">time_t</span> <span class="title function_">time</span><span class="params">(<span class="type">time_t</span> *t)</span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>功能：获取当前系统时间</p>
<p>参数：常设置为NULL</p>
<p>返回值：当前系统时间, <em>time_t</em> 相当于long类型，单位为毫秒</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="type">void</span> <span class="title function_">srand</span><span class="params">(<span class="type">unsigned</span> <span class="type">int</span> seed)</span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>功能：用来设置<code>rand()</code>产生随机数时的随机种子</p>
<p>参数：如果每次seed相等，<code>rand()</code>产生随机数相等</p>
<p>返回值：无</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">rand</span><span class="params">(<span class="type">void</span>)</span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>功能：返回一个随机数值</p>
<p>参数：无</p>
<p>返回值：随机数</p>
</blockquote>
<h3 id="函数的定义">6.2 函数的定义</h3>
<h4 id="函数定义格式">6.2.1 函数定义格式</h4>
<p>函数定义的一般形式：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">返回类型 函数名(形式参数列表)</span><br><span class="line">	&#123;</span><br><span class="line">		数据定义部分;</span><br><span class="line">		执行语句部分;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure>
<img src="/img/loading.gif" data-original="https://cdn.jsdelivr.net/gh/Aubuty/picgoimage@main/img/202206010000909.jpg" alt="20150310105403075">
<figcaption aria-hidden="true">20150310105403075</figcaption>
</figure>
<h4 id="函数名字形参函数体返回值">6.2.2
函数名字、形参、函数体、返回值</h4>
<h5 id="函数名">1. 函数名</h5>
<p>理论上是可以随意起名字，最好起的名字见名知意，应该让用户看到这个函数名字就知道这个函数的功能。注意，函数名的后面有个圆换号()，代表这个为函数，不是普通的变量名。</p>
<h5 id="形参列表">2. 形参列表</h5>
<p>在定义函数时指定的形参，<font color="red">在未出现函数调用时，它们并不占内存中的存储单元</font>，因此称它们是形式参数或虚拟参数，简称形参，表示它们并不是实际存在的数据，所以，形参里的变量不能赋值</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">max</span><span class="params">(<span class="type">int</span> a = <span class="number">10</span>, <span class="type">int</span> b = <span class="number">20</span>)</span> <span class="comment">// error, 形参不能赋值</span></span><br><span class="line">&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>在定义函数时指定的形参，必须是，类型+变量的形式：</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1: right, 类型+变量</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">max</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span></span><br><span class="line">&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//2: error, 只有类型，没有变量</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">max</span><span class="params">(<span class="type">int</span>, <span class="type">int</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//3: error, 只有变量，没有类型</span></span><br><span class="line"><span class="type">int</span> a, <span class="type">int</span> b;</span><br><span class="line"><span class="type">void</span> <span class="title function_">max</span><span class="params">(a, b)</span></span><br><span class="line">&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在定义函数时指定的形参，可有可无，根据函数的需要来设计，<font color="red">如果没有形参，圆括号内容为空，或写一个<code>void</code>关键字：</font></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 没形参， 圆括号内容为空</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">max</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 没形参， 圆括号内容为void关键字</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">max</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="函数体">3. 函数体</h5>
<p>花括号{
}里的内容即为函数体的内容，这里<font color="red">为函数功能实现的过程</font>，这和以前的写代码没太大区别，以前我们把代码写在main()函数里，现在只是把这些写到别的函数里。</p>
<h5 id="返回值">4. 返回值</h5>
<p>函数的返回值是通过函数中的return语句获得的，return后面的值也可以是一个表达式</p>
<ul>
<li><p>尽量保证return语句中表达式的值和函数返回类型是同一类型</p></li>
<li><p>```c int max() // 函数的返回值为int类型 { int a = 10; return a;//
返回值a为int类型，函数返回类型也是int，匹配 } <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- 如果函数返回的类型和return语句中表达式的值不一致，则以函数返回类型为准，即&lt;font color=&quot;red&quot;&gt;函数返回类型决定返回值的类型&lt;/font&gt;。对数值型数据，可以自动进行类型转换</span><br><span class="line"></span><br><span class="line">- ```c</span><br><span class="line">  double max() // 函数的返回值为double类型</span><br><span class="line">  &#123;</span><br><span class="line">  	int a = 10;</span><br><span class="line">  	return a;// 返回值a为int类型，它会转为double类型再返回</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>注意：如果函数返回的类型和return语句中表达式的值不一致，而它又无法自动进行类型转换，程序则会报错</p>
</blockquote></li>
<li><p>return语句的另一个作用为中断return所在的执行函数，类似于break中断循环、switch语句一样</p></li>
<li><p>```c int max() { return 1;//
执行到，函数已经被中断，所以下面的return 2无法被执行到 return 2;//
没有执行 } <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- 如果函数带返回值，return后面必须跟着一个值，如果函数没有返回值，函数名字的前面必须写一个`void`关键字，这时候，我们写代码时也可以通过return中断函数(也可以不用)，只是这时，`return`后面不带内容( 分号“`;`”除外)</span><br><span class="line"></span><br><span class="line">- ```c</span><br><span class="line">  void max()// 最好要有void关键字</span><br><span class="line">  &#123;</span><br><span class="line">  	return; // 中断函数，这个可有可无</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></p></li>
</ul>
<h3 id="函数的调用">6.3 函数的调用</h3>
<p><font color="red">定义函数后，我们需要调用此函数才能执行到这个函数里的代码段</font>。这和main()函数不一样，main()为编译器设定好自动调用的主函数，无需人为调用，我们都是在main()函数里调用别的函数，<font color="red">一个
C 程序里有且只有一个main()函数</font></p>
<h4 id="函数执行流程">6.3.1 函数执行流程</h4>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">print_test</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;this is for test\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	print_test();	<span class="comment">// print_test函数的调用</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>1.进入<code>mian()</code>函数</li>
<li>2.调用<code>print_test()</code>函数
<ul>
<li><ol type="a">
<li>它会在main()函数的前寻找有没有一个名字叫“print_test”的函数定义；</li>
</ol></li>
<li><ol start="2" type="a">
<li>如果找到，接着检查函数的参数，这里调用函数时没有传参，函数定义也没有形参，参数类型匹配；</li>
</ol></li>
<li><ol start="3" type="a">
<li>开始执行<code>print_test()</code>函数，这时候，<code>main()</code>函数里面的执行会阻塞(
停
)在<code>print_test()</code>这一行代码，等待<code>print_test()</code>函数的执行</li>
</ol></li>
</ul></li>
<li><code>print_test()</code>函数执行完( 这里打印一句话
)，<code>main()</code>才会继续往下执行，执行到<code>return 0</code>,
程序执行完毕</li>
</ul>
<h4 id="函数的形参和实参">6.3.2 函数的形参和实参</h4>
<ul>
<li>形参出现在函数定义中，在整个函数体内都可以使用，离开该函数则不能使用</li>
<li>实参出现在主调函数中，进入被调函数后，实参也不能使用</li>
<li>实参变量对形参变量的数据传递是“值传递”，即单向传递，只<font color="red">由实参传给形参，而不能由形参传回来给实参</font></li>
<li>在调用函数时，编译系统临时给形参分配存储单元。调用结束后，形参单元被释放</li>
<li>实参单元与形参单元是不同的单元。调用结束后，形参单元被释放，函数调用结束返回主调函数后则不能再使用该形参变量。实参单元仍保留并维持原值。<font color="red">因此，在执行一个被调用函数时，形参的值如果发生改变，并不会改变主调函数中实参的值</font></li>
</ul>
<h4 id="无参函数调用">6.3.3 无参函数调用</h4>
<blockquote>
<p>如果是调用无参函数，则不能加上“实参”，但括号不能省略</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 函数的定义</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">test</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">// 函数的调用</span></span><br><span class="line">	test();	<span class="comment">// right, 圆括号()不能省略</span></span><br><span class="line">	test(<span class="number">250</span>); <span class="comment">// error, 函数定义时没有参数</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="有参函数调用">6.3.4 有参函数调用</h4>
<blockquote>
<p>如果实参表列包含多个实参，则各参数间用逗号隔开</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 函数的定义</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">test</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span></span><br><span class="line">&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> p = <span class="number">10</span>, q = <span class="number">20</span>;</span><br><span class="line">	test(p, q);	<span class="comment">// 函数的调用</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>实参与形参的个数应相等，类型应匹配(相同或赋值兼容)。实参与形参按顺序对应，一对一地传递数据</li>
<li>实参可以是常量、变量或表达式，<font color="red">无论实参是何种类型的量，在进行函数调用时，它们都必须具有确定的值，以便把这些值传送给形参</font>。所以，这里的变量是在圆括号(
)外面定义好、赋好值的变量</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 函数的定义</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">test</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span></span><br><span class="line">&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">// 函数的调用</span></span><br><span class="line">	<span class="type">int</span> p = <span class="number">10</span>, q = <span class="number">20</span>;</span><br><span class="line">	test(p, q);	<span class="comment">// right</span></span><br><span class="line">	test(<span class="number">11</span>, <span class="number">30</span> - <span class="number">10</span>); <span class="comment">// right</span></span><br><span class="line"></span><br><span class="line">	test(<span class="type">int</span> a, <span class="type">int</span> b); <span class="comment">// error, 不应该在圆括号里定义变量</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="函数返回值">6.3.5 函数返回值</h4>
<blockquote>
<p>如果函数定义没有返回值，函数调用时不能写<code>void</code>关键字，调用函数时也不能接收函数的返回值</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 函数的定义</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">test</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">// 函数的调用</span></span><br><span class="line">	test(); <span class="comment">// right</span></span><br><span class="line">	<span class="type">void</span> <span class="title function_">test</span><span class="params">()</span>; <span class="comment">// error, void关键字只能出现在定义，不可能出现在调用的地方</span></span><br><span class="line">	<span class="type">int</span> a = test();	<span class="comment">// error, 函数定义根本就没有返回值</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如果函数定义有返回值，这个返回值我们根据用户需要可用可不用，但是，假如我们需要使用这个函数返回值，<font color="red">我们需要定义一个匹配类型的变量来接收</font></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 函数的定义, 返回值为int类型</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">test</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">// 函数的调用</span></span><br><span class="line">	<span class="type">int</span> a = test(); <span class="comment">// right, a为int类型</span></span><br><span class="line">	<span class="type">int</span> b;</span><br><span class="line">	b = test();	<span class="comment">// right, 和上面等级</span></span><br><span class="line"></span><br><span class="line">	<span class="type">char</span> *p = test(); <span class="comment">// 虽然调用成功没有意义, p为char *, 函数返回值为int, 类型不匹配</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// error, 必须定义一个匹配类型的变量来接收返回值</span></span><br><span class="line">	<span class="comment">// int只是类型，没有定义变量</span></span><br><span class="line">	<span class="type">int</span> = test();	</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// error, 必须定义一个匹配类型的变量来接收返回值</span></span><br><span class="line">	<span class="comment">// int只是类型，没有定义变量</span></span><br><span class="line">	<span class="type">int</span> <span class="title function_">test</span><span class="params">()</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="函数的声明">6.4 函数的声明</h3>
<p>如果使用用户自己定义的函数，而该函数与调用它的函数（即主调函数）不在同一文件中，或者<font color="red">函数定义的位置在主调函数之后</font>，则必须在调用此函数之前对被调用的函数作声明</p>
<p>所谓函数声明，就是在函数尚在未定义的情况下，事先将该函数的有关信息通知编译系统，相当于告诉编译器，函数在后面定义，以便使编译能正常进行</p>
<blockquote>
<p>注意：一个函数只能被定义一次，但可以声明多次</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">max</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span>; <span class="comment">// 函数的声明，分号不能省略</span></span><br><span class="line"><span class="comment">// int max(int, int); // 另一种方式</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> a = <span class="number">10</span>, b = <span class="number">25</span>, num_max = <span class="number">0</span>;</span><br><span class="line">	num_max = max(a, b); <span class="comment">// 函数的调用</span></span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;num_max = %d\n&quot;</span>, num_max);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 函数的定义</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">max</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> x &gt; y ? x : y;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>函数定义和声明的区别：</strong></p>
<ul>
<li>定义是指对函数功能的确立，包括指定函数名、函数类型、形参及其类型、函数体等，它是一个完整的、独立的函数单位</li>
<li>声明的作用则是把函数的名字、函数类型以及形参的个数、类型和顺序(注意，不包括函数体)通知编译系统，以便在对包含函数调用的语句进行编译时，据此对其进行对照检查（例如函数名是否正确，实参与形参的类型和个数是否一致）</li>
</ul>
<h3 id="main函数与exit函数">6.5 main函数与exit函数</h3>
<p>在<code>main</code>函数中调用<code>exit</code>和<code>return</code>结果是一样的，但在子函数中调用<code>return</code>只是代表子函数终止了，在子函数中调用<code>exit</code>，那么程序终止</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">fun</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;fun\n&quot;</span>);</span><br><span class="line">	<span class="comment">// return;</span></span><br><span class="line">	<span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	fun();</span><br><span class="line">	<span class="keyword">while</span> (<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="多文件分文件编程">6.6 多文件(分文件)编程</h3>
<h4 id="分文件编程">6.6.1 分文件编程</h4>
<ul>
<li>把函数声明放在头文件<code>xxx.h</code>中，在主函数中包含相应头文件</li>
<li>在头文件对应的<code>xxx.c</code>中实现<code>xxx.h</code>声明的函数</li>
</ul>
<figure>
<img src="/img/loading.gif" data-original="https://cdn.jsdelivr.net/gh/Aubuty/picgoimage@main/img/202206010000910.jpg" alt="2016-06-04_014552">
<figcaption aria-hidden="true">2016-06-04_014552</figcaption>
</figure>
<h4 id="防止头文件重复包含">6.6.2 防止头文件重复包含</h4>
<blockquote>
<p>当一个项目比较大时，往往都是分文件，这时候有可能不小心把同一个头文件
include 多次，或者头文件嵌套包含</p>
</blockquote>
<p>a.h 中包含 b.h ：<code>#include "b.h"</code></p>
<p>b.h 中包含 a.h：<code>#include "a.h"</code></p>
<p>main.c中使用其中头文件：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;a.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>编译报错!!!</p>
<p>为了避免同一个文件被include多次，C/C++中有两种方式解决：</p>
<ul>
<li><p>法1：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> __SOMEFILE_H__</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __SOMEFILE_H__</span></span><br><span class="line"><span class="comment">// 声明语句</span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure></li>
<li><p>法2：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">pragma</span> once</span></span><br><span class="line"><span class="comment">// 声明语句</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="指针">7. 指针</h2>
<h3 id="概述-3">7.1 概述</h3>
<h4 id="内存">7.1.1 内存</h4>
<p>内存含义：</p>
<ul>
<li><p>存储器：计算机的组成中，用来存储程序和数据，辅助CPU进行运算处理的重要部分。</p></li>
<li><p>内存：内部存贮器，暂存程序/数据——掉电丢失
SRAM、DRAM、DDR、DDR2、DDR3。</p></li>
<li><p>外存：外部存储器，长时间保存程序/数据—掉电不丢ROM、ERRROM、FLASH（NAND、NOR）、硬盘、光盘</p></li>
</ul>
<p>内存是沟通CPU与硬盘的桥梁：</p>
<ul>
<li><p>暂存放CPU中的运算数据</p></li>
<li><p>暂存与硬盘等外部存储器交换的数据</p></li>
</ul>
<h4 id="物理存储器和存储地址空间">7.1.2 物理存储器和存储地址空间</h4>
<blockquote>
<p>有关内存的两个概念：物理存储器和存储地址空间</p>
</blockquote>
<p>物理存储器：实际存在的具体存储器芯片。</p>
<ul>
<li><p>主板上装插的内存条</p></li>
<li><p>显示卡上的显示RAM芯片</p></li>
<li><p>各种适配卡上的RAM芯片和ROM芯片</p></li>
</ul>
<p>存储地址空间：对存储器编码的范围。我们在软件上常说的内存是指这一层含义</p>
<ul>
<li>编码：对每个物理存储单元（一个字节）分配一个号码</li>
<li>寻址：可以根据分配的号码找到相应的存储单元，完成数据的读写</li>
</ul>
<h4 id="内存地址">7.1.3 内存地址</h4>
<ul>
<li><p>将内存抽象成一个很大的一维字符数组</p></li>
<li><p>编码就是对内存的每一个字节分配一个32位或64位的编号（与32位或者64位处理器相关）</p></li>
<li><p>这个内存编号我们称之为内存地址。</p>
<p>内存中的每一个数据都会分配相应的地址：</p>
<ul>
<li><code>char</code>:占一个字节分配一个地址</li>
<li><code>int</code>: 占四个字节分配四个地址</li>
<li><code>float</code>、<code>struct</code>、函数、数组等</li>
</ul></li>
</ul>
<figure>
<img src="/img/loading.gif" data-original="https://cdn.jsdelivr.net/gh/Aubuty/picgoimage@main/img/202206010000911.png" alt="图片1">
<figcaption aria-hidden="true">图片1</figcaption>
</figure>
<h4 id="指针和指针变量">7.1.4 指针和指针变量</h4>
<ul>
<li><font color="red">内存区的每一个字节都有一个编号，这就是“地址”</font></li>
<li>如果在程序中定义了一个变量，在对程序进行编译或运行时，系统就会给这个变量分配内存单元，并确定它的内存地址(编号)</li>
<li>指针的实质就是内存“地址”。指针就是地址，地址就是指针</li>
<li><font color="red">指针是内存单元的编号，指针变量是存放地址的变量</font></li>
<li>通常我们叙述时会把指针变量简称为指针，实际他们含义并不一样</li>
</ul>
<figure>
<img src="/img/loading.gif" data-original="https://cdn.jsdelivr.net/gh/Aubuty/picgoimage@main/img/202206010000912.png" alt="图片2">
<figcaption aria-hidden="true">图片2</figcaption>
</figure>
<h3 id="指针基础知识">7.2 指针基础知识</h3>
<h4 id="指针变量的定义和使用">7.2.1 指针变量的定义和使用</h4>
<ul>
<li><p>指针也是一种数据类型，指针变量也是一种变量</p></li>
<li><p>指针变量指向谁，就把谁的地址赋值给指针变量</p></li>
<li><p>“*”操作符操作的是指针变量指向的内存空间</p></li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> a = <span class="number">0</span>;</span><br><span class="line">	<span class="type">char</span> b = <span class="number">100</span>;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%p, %p\n&quot;</span>, &amp;a, &amp;b); <span class="comment">//打印a, b的地址</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//int *代表是一种数据类型，int*指针类型，p才是变量名</span></span><br><span class="line">	<span class="comment">//定义了一个指针类型的变量，可以指向一个int类型变量的地址</span></span><br><span class="line">	<span class="type">int</span> *p;</span><br><span class="line">	p = &amp;a;<span class="comment">//将a的地址赋值给变量p，p也是一个变量，值是一个内存地址编号</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, *p);<span class="comment">//p指向了a的地址，*p就是a的值</span></span><br><span class="line"></span><br><span class="line">	<span class="type">char</span> *p1 = &amp;b;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%c\n&quot;</span>, *p1);<span class="comment">//*p1指向了b的地址，*p1就是b的值</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：<code>&amp;</code>可以取得一个变量在内存中的地址。但是，<font color="red">不能取寄存器变量</font>，因为寄存器变量不在内存里，而在CPU里面，所以是没有地址的</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">tao@Taoc:~/Desktop/C/7$ ./7.2.1 </span><br><span class="line">0x7ffda2091cf4, 0x7ffda2091cf3</span><br><span class="line">0</span><br><span class="line">100</span><br></pre></td></tr></table></figure>
<h4 id="通过指针间接修改变量的值">7.2.2 通过指针间接修改变量的值</h4>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a = <span class="number">0</span>;</span><br><span class="line"><span class="type">int</span> b = <span class="number">11</span>;</span><br><span class="line"><span class="type">int</span> *p = &amp;a;</span><br><span class="line"></span><br><span class="line">*p = <span class="number">100</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;a=%d, *p=%d\n&quot;</span>, a, *p);</span><br><span class="line"></span><br><span class="line">p = &amp;b</span><br><span class="line">*p = <span class="number">22</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;b = %d, *p = %d\n&quot;</span>, b, *p);</span><br></pre></td></tr></table></figure>
<h4 id="指针大小">7.2.3 指针大小</h4>
<ul>
<li><font color="red">使用sizeof()测量指针的大小，得到的总是：4或8</font></li>
<li><code>sizeof()</code>测的是指针变量指向存储地址的大小</li>
<li>在32位平台，所有的指针（地址）都是32位(4字节)</li>
<li>在64位平台，所有的指针（地址）都是64位(8字节)</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> *p1;</span><br><span class="line">    <span class="type">int</span> **p2;</span><br><span class="line">    <span class="type">char</span> *p3;</span><br><span class="line">    <span class="type">char</span> **p4;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;sizeof(p1) = %d\n&quot;</span>, <span class="keyword">sizeof</span>(p1));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;sizeof(p2) = %d\n&quot;</span>, <span class="keyword">sizeof</span>(p2));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;sizeof(p3) = %d\n&quot;</span>, <span class="keyword">sizeof</span>(p3));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;sizeof(p4) = %d\n&quot;</span>, <span class="keyword">sizeof</span>(p4));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;sizeof(double *) = %d\n&quot;</span>, <span class="keyword">sizeof</span>(<span class="type">double</span> *));</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">sizeof</span>(p1) = <span class="number">8</span></span><br><span class="line"><span class="keyword">sizeof</span>(p2) = <span class="number">8</span></span><br><span class="line"><span class="keyword">sizeof</span>(p3) = <span class="number">8</span></span><br><span class="line"><span class="keyword">sizeof</span>(p4) = <span class="number">8</span></span><br><span class="line"><span class="keyword">sizeof</span>(<span class="type">double</span> *) = <span class="number">8</span></span><br></pre></td></tr></table></figure>
<h4 id="野指针和空指针">7.2.4 野指针和空指针</h4>
<p>指针变量也是变量，是变量就可以任意赋值，不要越界即可（32位为4字节，64位为8字节），但是，<font color="red">任意数值赋值给指针变量没有意义，因为这样的指针就成了野指针</font>，此指针指向的区域是未知(操作系统不允许操作此指针指向的内存区域)。所以，<font color="red">野指针不会直接引发错误，操作野指针指向的内存区域才会出问题</font>。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a = <span class="number">100</span>;</span><br><span class="line"><span class="type">int</span> *p;</span><br><span class="line">p = a; <span class="comment">//把a的值赋值给指针变量p，p为野指针， ok，不会有问题，但没有意义</span></span><br><span class="line"></span><br><span class="line">p = <span class="number">0x12345678</span>; <span class="comment">//给指针变量p赋值，p为野指针， ok，不会有问题，但没有意义</span></span><br><span class="line"></span><br><span class="line">*p = <span class="number">1000</span>;  <span class="comment">//操作野指针指向未知区域，内存出问题，err</span></span><br></pre></td></tr></table></figure>
<p>但是，野指针和有效指针变量保存的都是数值，为了标志此指针变量没有指向任何变量(空闲可用)，C语言中，可以把NULL赋值给此指针，这样就标志此指针为空指针，没有任何指针</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> *p = <span class="literal">NULL</span>;</span><br></pre></td></tr></table></figure>
<p>NULL是一个值为0的宏常量：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> NULL    ((void *)0)</span></span><br></pre></td></tr></table></figure>
<h4 id="万能指针void">7.2.5 万能指针void *</h4>
<blockquote>
<p><code>void *</code>指针可以指向任意变量的内存空间</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> *p = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> a = <span class="number">10</span>;</span><br><span class="line">p = (<span class="type">void</span> *)&amp;a; <span class="comment">//指向变量时，最好转换为void *</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//使用指针变量指向的内存时，转换为int *</span></span><br><span class="line">*( (<span class="type">int</span> *)p ) = <span class="number">11</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;a = %d\n&quot;</span>, a);</span><br></pre></td></tr></table></figure>
<h4 id="const修饰的指针变量">7.2.6 const修饰的指针变量</h4>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a = <span class="number">100</span>;</span><br><span class="line"><span class="type">int</span> b = <span class="number">200</span>;</span><br><span class="line"><span class="comment">//指向常量的指针</span></span><br><span class="line"><span class="comment">//修饰*，指针指向内存区域不能修改，指针指向可以变</span></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> * p1 = &amp;a;</span><br><span class="line"><span class="comment">// *p1 = 111 // err</span></span><br><span class="line">p1 = &amp;b; <span class="comment">// ok</span></span><br><span class="line"><span class="comment">//指针常量</span></span><br><span class="line"><span class="comment">//修饰p1，指针指向不能变，指针指向的内存可以修改</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> * <span class="type">const</span> p2 = &amp;a;</span><br><span class="line"><span class="comment">// p2 = &amp;b; //err</span></span><br><span class="line">*p2 = <span class="number">333</span>; <span class="comment">//ok</span></span><br></pre></td></tr></table></figure>
<p><font color="red">在编辑程序时，指针作为函数参数，如果不想修改指针对应内存空间的值，需要使用const修饰指针数据类型</font></p>
<h3 id="指针和数组">7.3 指针和数组</h3>
<h4 id="数组名-2">7.3.1 数组名</h4>
<p>数组名字是数组的首元素地址，但它是一个地址常量：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a[] = &#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span> &#125;; </span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;a = %p\n&quot;</span>, a);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;&amp;a[0] = %p\n&quot;</span>, &amp;a[<span class="number">0</span>]);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//a = 10; //err, 数组名只是常量，不能修改</span></span><br></pre></td></tr></table></figure>
<h4 id="指针操作数组元素">7.3.2 指针操作数组元素</h4>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> a[] = &#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span> &#125;;</span><br><span class="line">    <span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> n = <span class="keyword">sizeof</span>(a)/<span class="keyword">sizeof</span>(a[<span class="number">0</span>]);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">    	<span class="comment">// printf(&quot;%d, &quot; a[i]);</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d,&quot;</span>, *(a+i));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> *p = a;</span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">    	p[i] = <span class="number">2</span> * i;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, *(p+i));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tao@Taoc:~/Desktop/C/<span class="number">7</span>$ ./<span class="number">7.3</span><span class="number">.2</span> </span><br><span class="line"><span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,</span><br><span class="line"><span class="number">0246810121416</span></span><br></pre></td></tr></table></figure>
<h4 id="指针加减运算">7.3.3 指针加减运算</h4>
<h5 id="加法运算">1. 加法运算</h5>
<ul>
<li><font color="red">指针计算不是简单的整数相加</font></li>
<li>如果是一个<code>int *</code>，+1的结果是增加一个int的大小</li>
<li>如果是一个<code>char *</code>，+1的结果是增加一个char大小</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> a;</span><br><span class="line">    <span class="type">int</span> *p = &amp;a;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, p);</span><br><span class="line">    p += <span class="number">2</span>; <span class="comment">//移动了2个int</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, p);</span><br><span class="line">    </span><br><span class="line">    <span class="type">char</span> b = <span class="number">0</span>;</span><br><span class="line">    <span class="type">char</span> *p1 = &amp;b;</span><br><span class="line">   	<span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, p1);</span><br><span class="line">    p1 += <span class="number">2</span>;	<span class="comment">// 移动了2个char</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,p1);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>通过改变指针指向操作数组元素：</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> a[] = &#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span> &#125;;</span><br><span class="line">	<span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">	<span class="type">int</span> n = <span class="keyword">sizeof</span>(a) / <span class="keyword">sizeof</span>(a[<span class="number">0</span>]);</span><br><span class="line"></span><br><span class="line">	<span class="type">int</span> *p = a;</span><br><span class="line">	<span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;%d, &quot;</span>, *p);</span><br><span class="line">		p++;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="减法运算">2. 减法运算</h5>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> a[] = &#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span> &#125;;</span><br><span class="line">	<span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">	<span class="type">int</span> n = <span class="keyword">sizeof</span>(a) / <span class="keyword">sizeof</span>(a[<span class="number">0</span>]);</span><br><span class="line"></span><br><span class="line">	<span class="type">int</span> *p = a+n<span class="number">-1</span>;</span><br><span class="line">	<span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;%d, &quot;</span>, *p);</span><br><span class="line">		p--;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tao@Taoc:~/Desktop/C/7$ ./7.3.3-2 </span><br><span class="line">9, 8, 7, 6, 5, 4, 3, 2, 1, </span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> a[] = &#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span> &#125;;</span><br><span class="line">	<span class="type">int</span> *p2 = &amp;a[<span class="number">2</span>]; <span class="comment">//第2个元素地址</span></span><br><span class="line">	<span class="type">int</span> *p1 = &amp;a[<span class="number">1</span>]; <span class="comment">//第1个元素地址</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;p1 = %p, p2 = %p\n&quot;</span>, p1, p2);</span><br><span class="line"></span><br><span class="line">	<span class="type">int</span> n1 = p2 - p1; <span class="comment">//n1 = 1</span></span><br><span class="line">	<span class="type">int</span> n2 = (<span class="type">int</span>)p2 - (<span class="type">int</span>)p1; <span class="comment">//n2 = 4</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;n1 = %d, n2 = %d\n&quot;</span>, n1, n2);</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="指针数组">7.3.4 指针数组</h4>
<p>指针数组，它是数组，数组的每个元素都是指针类型</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">// 指针数组</span></span><br><span class="line">	<span class="type">int</span> *p[<span class="number">3</span>];</span><br><span class="line">	<span class="type">int</span> a = <span class="number">1</span>;</span><br><span class="line">	<span class="type">int</span> b = <span class="number">2</span>;</span><br><span class="line">	<span class="type">int</span> c = <span class="number">3</span>;</span><br><span class="line">	<span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">	</span><br><span class="line">	p[<span class="number">0</span>] = &amp;b;</span><br><span class="line">	p[<span class="number">1</span>] = &amp;b;</span><br><span class="line">	p[<span class="number">2</span>] = &amp;c;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; <span class="keyword">sizeof</span>(p)/<span class="keyword">sizeof</span>(p[<span class="number">0</span>]);i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;%d, &quot;</span>, *(p[i]));</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="多级指针">7.4 多级指针</h3>
<ul>
<li>C语言允许有多级指针存在，在实际的程序中一级指针最常用，其次是二级指针</li>
<li>二级指针就是指向一个一级指针变量地址的指针</li>
<li>三级指针基本用不着，但考试会考</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a = <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> *p = &amp;a; <span class="comment">//一级指针</span></span><br><span class="line">*p = <span class="number">100</span>; <span class="comment">//*p就是a</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> **q = &amp;p;</span><br><span class="line"><span class="comment">//*q就是p</span></span><br><span class="line"><span class="comment">//**q就是a</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> ***t = &amp;q;</span><br><span class="line"><span class="comment">//*t就是q</span></span><br><span class="line"><span class="comment">//**t就是p</span></span><br><span class="line"><span class="comment">//***t就是a</span></span><br></pre></td></tr></table></figure>
<h3 id="指针和函数">7.5 指针和函数</h3>
<h4 id="函数形参改变实参的值">7.5.1 函数形参改变实参的值</h4>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">swap1</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> tmp;</span><br><span class="line">	tmp = x;</span><br><span class="line">	x = y;</span><br><span class="line">	y = tmp;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;x=%d, y=%d\n&quot;</span>, x, y);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">swap2</span><span class="params">(<span class="type">int</span> *x, <span class="type">int</span> *y)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> tmp;</span><br><span class="line">	tmp = *x;</span><br><span class="line">	*x = *y;</span><br><span class="line">	*y = tmp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> a = <span class="number">3</span>;</span><br><span class="line">	<span class="type">int</span> b = <span class="number">5</span>;</span><br><span class="line">	swap1(a, b); <span class="comment">// 值传递</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;a = %d, b = %d\n&quot;</span>, a, b);</span><br><span class="line"></span><br><span class="line">	a = <span class="number">3</span>;</span><br><span class="line">	b = <span class="number">5</span>;</span><br><span class="line">	swap2(&amp;a, &amp;b);	<span class="comment">// 地址传递</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;a2 = %d, b2=%d\n&quot;</span>, a, b);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">tao@Taoc:~/Desktop/C/7$ ./7.5.1 </span><br><span class="line">x=5, y=3</span><br><span class="line">a = 3, b = 5</span><br><span class="line">a2 = 5, b2=3</span><br></pre></td></tr></table></figure>
<h4 id="数组名做函数参数">7.5.2 数组名做函数参数</h4>
<blockquote>
<p>数组名做函数参数，函数的形参会退化为指针：</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">printArrary</span><span class="params">(<span class="type">int</span> *a, <span class="type">int</span> n)</span>	</span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;%d, &quot;</span>, a[i]);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> a[] = &#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span> &#125;;</span><br><span class="line">	<span class="type">int</span> n = <span class="keyword">sizeof</span>(a) / <span class="keyword">sizeof</span>(a[<span class="number">0</span>]);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//数组名做函数参数</span></span><br><span class="line">	printArrary(a, n); </span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果:</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, </span><br></pre></td></tr></table></figure>
<h4 id="指针做为函数的返回值">7.5.3 指针做为函数的返回值</h4>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> a = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> *<span class="title function_">getA</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> &amp;a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;	</span><br><span class="line">	*(getA()) = <span class="number">111</span>;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;a = %d\n&quot;</span>, a);</span><br><span class="line">	<span class="comment">// 输出： a = 111;</span></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="指针和字符串">7.6 指针和字符串</h3>
<h4 id="字符指针">7.6.1 字符指针</h4>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">char</span> str[] = <span class="string">&quot;hello world&quot;</span>;</span><br><span class="line">	<span class="type">char</span> *p = str;</span><br><span class="line">	*p = <span class="string">&#x27;m&#x27;</span>;</span><br><span class="line">	p++;</span><br><span class="line">	*p=<span class="string">&#x27;i&#x27;</span>;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>, str);</span><br><span class="line">	</span><br><span class="line">	p = <span class="string">&quot;mike Tao&quot;</span>;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>, p);</span><br><span class="line">	</span><br><span class="line">	<span class="type">char</span> *q = <span class="string">&quot;test&quot;</span>;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>, q);</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">tao@Taoc:~/Desktop/C/<span class="number">7</span>$ ./<span class="number">7.6</span><span class="number">.1</span> </span><br><span class="line">millo world</span><br><span class="line">mike Tao</span><br><span class="line">test</span><br></pre></td></tr></table></figure>
<h4 id="字符指针做函数参数">7.6.2 字符指针做函数参数</h4>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">mystract</span><span class="params">(<span class="type">char</span> *dest, <span class="type">const</span> <span class="type">char</span> *src)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> len1 = <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> len2 = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(dest[len1])</span><br><span class="line">    &#123;</span><br><span class="line">        len1++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(src[len2])</span><br><span class="line">    &#123;</span><br><span class="line">        len2++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> i;</span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; len2; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        dest[len1 + i] = src[i];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">char</span> dst[<span class="number">100</span>] = <span class="string">&quot;hello mike&quot;</span>;</span><br><span class="line">    <span class="type">char</span> src[] = <span class="string">&quot;123456&quot;</span>;</span><br><span class="line">    </span><br><span class="line">    mystract(dst,src);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;dst = %s\n&quot;</span>, dst);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果；</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tao@Taoc:~/Desktop/C/<span class="number">7</span>$ ./<span class="number">7.7</span><span class="number">.3</span> </span><br><span class="line">dst = hello mike123456</span><br></pre></td></tr></table></figure>
<h4 id="const-修饰的指针变量">7.6.3 const 修饰的指针变量</h4>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// const 修饰一个变量为只读</span></span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> a = <span class="number">10</span>;</span><br><span class="line">    <span class="comment">// a = 100; 	//error</span></span><br><span class="line">    </span><br><span class="line">    /指针变量， 指针指向的内存， <span class="number">2</span>个不同概念</span><br><span class="line">	<span class="type">char</span> buf[] = <span class="string">&quot;aklgjdlsgjlkds&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//从左往右看，跳过类型，看修饰哪个字符</span></span><br><span class="line">	<span class="comment">//如果是*， 说明指针指向的内存不能改变</span></span><br><span class="line">	<span class="comment">//如果是指针变量，说明指针的指向不能改变，指针的值不能修改</span></span><br><span class="line">	<span class="type">const</span> <span class="type">char</span> *p = buf;</span><br><span class="line">    <span class="comment">// 等价于上同  char const *p1 = buf;</span></span><br><span class="line">    <span class="comment">//p[1] = &#x27;2&#x27;; //err</span></span><br><span class="line">    </span><br><span class="line">    p = <span class="string">&quot;agdlsjaglkdsajgl&quot;</span>; <span class="comment">//ok</span></span><br><span class="line">	<span class="type">char</span> * <span class="type">const</span> p2 = buf;</span><br><span class="line">    p2[<span class="number">1</span>] = <span class="string">&#x27;3&#x27;</span>;</span><br><span class="line">	<span class="comment">//p2 = &quot;salkjgldsjaglk&quot;; //err</span></span><br><span class="line">	</span><br><span class="line">    <span class="comment">//p3为只读，指向不能变，指向的内存也不能变</span></span><br><span class="line">	<span class="type">const</span> <span class="type">char</span> * <span class="type">const</span> p3 = buf;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="指针数组做为main函数的形参">7.6.4
指针数组做为main函数的形参</h4>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span>;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>main</code>函数是操作系统调用的，第一个参数标明<code>argc</code>数组的成员数量，<code>argv</code>数组的每个成员都是<code>char *</code>类型</li>
<li><code>argv</code>是命令行参数的字符串数组</li>
<li><code>argc</code>代表命令行参数的数量，程序名字本身算一个参数</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//argc: 传参数的个数（包含可执行程序）</span></span><br><span class="line"><span class="comment">//argv：指针数组，指向输入的参数</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//指针数组，它是数组，每个元素都是指针</span></span><br><span class="line">	<span class="type">char</span> *a[] = &#123; <span class="string">&quot;aaaaaaa&quot;</span>, <span class="string">&quot;bbbbbbbbbb&quot;</span>, <span class="string">&quot;ccccccc&quot;</span> &#125;;</span><br><span class="line">	<span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;argc = %d\n&quot;</span>, argc);</span><br><span class="line">	<span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; argc; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>, argv[i]);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="项目开发常用字符串应用模型">7.6.5
项目开发常用字符串应用模型</h4>
<h5 id="strstr中的while和do-while模型">1.
strstr中的while和do-while模型</h5>
<blockquote>
<p>利用strstr标准库函数找出一个字符串中substr出现的个数</p>
</blockquote>
<h6 id="a.-while模型">a. while模型</h6>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">char</span> *p = <span class="string">&quot;11abcd111122abcd333abcd3322abcd3333322qqq&quot;</span>;</span><br><span class="line">	<span class="type">int</span> n = <span class="number">0</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">while</span>((p = <span class="built_in">strstr</span>(p, <span class="string">&quot;abcd&quot;</span>)) != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//能进来，肯定有匹配的子串</span></span><br><span class="line">		<span class="comment">//重新设置起点位置</span></span><br><span class="line">        p = p + <span class="built_in">strlen</span>(<span class="string">&quot;abcd&quot;</span>);</span><br><span class="line">        n++;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(*p == <span class="number">0</span>) <span class="comment">// 结束符</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;n = %d\n&quot;</span>, n);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出 n = 4</span></span><br></pre></td></tr></table></figure>
<h6 id="b.-do-while">b. do-while</h6>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">char</span> *p = <span class="string">&quot;11abcd111122abcd333abcd3322abcd3333322qqq&quot;</span>;</span><br><span class="line">	<span class="type">int</span> n = <span class="number">0</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">do</span></span><br><span class="line">	&#123;</span><br><span class="line">		p = <span class="built_in">strstr</span>(p, <span class="string">&quot;abcd&quot;</span>);</span><br><span class="line">		<span class="keyword">if</span>(p != <span class="literal">NULL</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			n++;</span><br><span class="line">			<span class="comment">// 重新设置查找的起点</span></span><br><span class="line">			p = p + <span class="built_in">strlen</span>(<span class="string">&quot;abcd&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;<span class="keyword">while</span>(*p != <span class="number">0</span>);</span><br><span class="line">	</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;n=%d\n&quot;</span>, n);</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="两头堵模型">5. 两头堵模型</h5>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stype.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">fun</span><span class="params">(<span class="type">char</span> *p, <span class="type">int</span> *n)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(p = <span class="literal">NULL</span> || n = <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> begin = <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> end = <span class="built_in">strlen</span>(p) - <span class="number">1</span>;</span><br><span class="line">    </span><br><span class="line">   	<span class="comment">//从左边开始</span></span><br><span class="line">	<span class="comment">//如果当前字符为空，而且没有结束</span></span><br><span class="line">    <span class="keyword">while</span>(p[begin] = <span class="string">&#x27;&#x27; &amp;&amp; p[begin] != 0)</span></span><br><span class="line"><span class="string">    &#123;</span></span><br><span class="line"><span class="string">        begin++;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    //从右往左移动</span></span><br><span class="line"><span class="string">	while (p[end] == &#x27;</span> <span class="string">&#x27; &amp;&amp; end &gt; 0)</span></span><br><span class="line"><span class="string">	&#123;</span></span><br><span class="line"><span class="string">		end--; //往左移动</span></span><br><span class="line"><span class="string">	&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">	if (end == 0)</span></span><br><span class="line"><span class="string">	&#123;</span></span><br><span class="line"><span class="string">		return -2;</span></span><br><span class="line"><span class="string">	&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">	//非空元素个数</span></span><br><span class="line"><span class="string">	*n = end - begin + 1;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">	return 0;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">int main(void)</span></span><br><span class="line"><span class="string">&#123;</span></span><br><span class="line"><span class="string">    char *p = &quot;      abcddsgadsgefg      &quot;;</span></span><br><span class="line"><span class="string">    int ret = 0;</span></span><br><span class="line"><span class="string">    int n = 0;</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    ret = fun(p, &amp;n);</span></span><br><span class="line"><span class="string">    if(ret != 0)</span></span><br><span class="line"><span class="string">    &#123;</span></span><br><span class="line"><span class="string">        return ret;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    printf(&quot;非空字符串元素个数：%d\n&quot;, n);</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    return 0;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tao@Taoc:~/Desktop/C/<span class="number">7</span>$ ./<span class="number">7.6</span><span class="number">.5</span><span class="number">-2</span> </span><br><span class="line">非空字符串元素个数：<span class="number">14</span></span><br></pre></td></tr></table></figure>
<h5 id="字符串反转模型逆置">3. 字符串反转模型(逆置)</h5>
<figure>
<img src="/img/loading.gif" data-original="https://cdn.jsdelivr.net/gh/Aubuty/picgoimage@main/img/202206010000913.png" alt="图片1">
<figcaption aria-hidden="true">图片1</figcaption>
</figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">inverse</span><span class="params">(<span class="type">char</span> *p)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(p == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">char</span> *str = p;</span><br><span class="line">    <span class="type">int</span> begin = <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> end = <span class="built_in">strlen</span>(str) - <span class="number">1</span>;</span><br><span class="line">    <span class="type">char</span> tmp;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(begin &lt; end)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// 交换元素</span></span><br><span class="line">        tmp = str[begin];</span><br><span class="line">        str[begin] = str[end];</span><br><span class="line">        str[end] = tmp;</span><br><span class="line">        </span><br><span class="line">        begin++;  <span class="comment">//往右移动位置</span></span><br><span class="line">        end--;	<span class="comment">// 往左移动位置</span></span><br><span class="line">    &#125;</span><br><span class="line">       </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">        <span class="comment">//char *str = &quot;abcdefg&quot;; //文件常量区，内容不允许修改</span></span><br><span class="line">        <span class="type">char</span> str[] = <span class="string">&quot;abcdef&quot;</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="type">int</span> ret = inverse(str);</span><br><span class="line">       </span><br><span class="line">        <span class="keyword">if</span>(ret != <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> ret;</span><br><span class="line">        &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;str = %s\n&quot;</span>, str);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tao@Taoc:~/Desktop/C/<span class="number">7</span>$ ./<span class="number">7.6</span><span class="number">.5</span><span class="number">-3</span> </span><br><span class="line">str = fedcba</span><br></pre></td></tr></table></figure>
<h4 id="字符串处理函数">7.6.6 字符串处理函数</h4>
<h5 id="strcpy">1. strcpy()</h5>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="type">char</span> *<span class="title function_">strcpy</span><span class="params">(<span class="type">char</span> *dest, <span class="type">const</span> <span class="type">char</span> *src)</span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>功能：把src所指向的字符串复制到dest所指向的空间中，<font color="red">'\0'也会拷贝过去</font></p>
<p>参数：</p>
<p>​ dest：目的字符串首地址</p>
<p>​ src：源字符首地址</p>
<p>返回值：</p>
<p>​ 成功：返回dest字符串的首地址</p>
<p>​ 失败：NULL</p>
</blockquote>
<p><font color="red">注意：如果参数dest所指的内存空间不够大，可能会造成缓冲溢出的错误情况</font></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> dest[<span class="number">20</span>] = <span class="string">&quot;123456789&quot;</span>;</span><br><span class="line"><span class="type">char</span> src[] = <span class="string">&quot;hello world&quot;</span>;</span><br><span class="line"><span class="built_in">strcpy</span>(dest, src);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>, dest);</span><br></pre></td></tr></table></figure>
<h5 id="strncpy">2. strncpy()</h5>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="type">char</span> *<span class="title function_">strncpy</span><span class="params">(<span class="type">char</span> *dest, <span class="type">const</span> <span class="type">char</span> *src, <span class="type">size_t</span> n)</span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>功能：把src指向字符串的前n个字符复制到dest所指向的空间中，<font color="red">是否拷贝结束符看指定的长度是否包含'\0'。</font>&gt;</p>
<p>参数：</p>
<p>​ dest：目的字符串首地址</p>
<p>​ src：源字符首地址</p>
<p>​ n：指定需要拷贝字符串个数</p>
<p>返回值：</p>
<p>​ 成功：返回dest字符串的首地址</p>
<p>​ 失败：NULL</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> dest[<span class="number">20</span>] ;</span><br><span class="line"><span class="type">char</span> src[] = <span class="string">&quot;hello world&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">strncpy</span>(dest, src, <span class="number">5</span>);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>, dest);</span><br><span class="line"></span><br><span class="line">dest[<span class="number">5</span>] = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>, dest);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h5 id="strcat">3. strcat()</h5>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="type">char</span> *<span class="title function_">strcat</span><span class="params">(<span class="type">char</span> *dest, <span class="type">const</span> <span class="type">char</span> *src)</span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>功能：将src字符串连接到dest的尾部，‘\0’也会追加过去</p>
<p>参数：</p>
<p>​ dest：目的字符串首地址</p>
<p>​ src：源字符首地址</p>
<p>返回值：</p>
<p>​ 成功：返回dest字符串的首地址</p>
<p>​ 失败：NULL</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">   <span class="type">char</span> str[<span class="number">20</span>] = <span class="string">&quot;123&quot;</span>;</span><br><span class="line"><span class="type">char</span> *src = <span class="string">&quot;hello world&quot;</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>, <span class="built_in">strcat</span>(str, src));</span><br></pre></td></tr></table></figure>
<h5 id="strncat">4. strncat</h5>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="type">char</span> *<span class="title function_">strncat</span><span class="params">(<span class="type">char</span> *dest, <span class="type">const</span> <span class="type">char</span> *src, <span class="type">size_t</span> n)</span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>功能：将src字符串前n个字符连接到dest的尾部，‘\0’也会追加过去</p>
<p>参数：</p>
<p>​ dest：目的字符串首地址</p>
<p>​ src：源字符首地址</p>
<p>​ n：指定需要追加字符串个数</p>
<p>返回值：</p>
<p>​ 成功：返回dest字符串的首地址</p>
<p>​ 失败：NULL</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> str[<span class="number">20</span>] = <span class="string">&quot;123&quot;</span>;</span><br><span class="line"><span class="type">char</span> *src = <span class="string">&quot;hello world&quot;</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>, <span class="built_in">strncat</span>(str, src, <span class="number">5</span>));</span><br></pre></td></tr></table></figure>
<h5 id="strcmp">5. strcmp</h5>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">strcmp</span><span class="params">(<span class="type">const</span> <span class="type">char</span> *s1, <span class="type">const</span> <span class="type">char</span> *s2)</span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>功能：比较 s1 和 s2
的大小，<font color="red">比较的是字符ASCII码大小。</font></p>
<p>参数：</p>
<p>​ s1：字符串1首地址</p>
<p>​ s2：字符串2首地址</p>
<p>返回值：</p>
<p>​ 相等：0</p>
<p>​ 大于：&gt;0 在不同操作系统strcmp结果会不同 返回ASCII差值</p>
<p>​ 小于：&lt;0</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> *str1 = <span class="string">&quot;hello world&quot;</span>;</span><br><span class="line"><span class="type">char</span> *str2 = <span class="string">&quot;hello mike&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">strcmp</span>(str1, str2) == <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;str1==str2\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">strcmp</span>(str1, str2) &gt; <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;str1&gt;str2\n&quot;</span>);</span><br><span class="line">&#125;	</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;str1&lt;str2\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h5 id="strncmp">6. strncmp()</h5>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">strncmp</span><span class="params">(<span class="type">const</span> <span class="type">char</span> *s1, <span class="type">const</span> <span class="type">char</span> *s2, <span class="type">size_t</span> n)</span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>功能：比较 s1 和 s2
前n个字符的大小，<font color="red">比较的是字符ASCII码大小。</font></p>
<p>参数：</p>
<p>​ s1：字符串1首地址</p>
<p>​ s2：字符串2首地址</p>
<p>​ n：指定比较字符串的数量</p>
<p>返回值：</p>
<p>​ 相等：0</p>
<p>​ 大于： &gt; 0</p>
<p>​ 小于： &lt; 0</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> *str1 = <span class="string">&quot;hello world&quot;</span>;</span><br><span class="line"><span class="type">char</span> *str2 = <span class="string">&quot;hello mike&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">strncmp</span>(str1, str2, <span class="number">5</span>) == <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;str1==str2\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">strcmp</span>(str1, <span class="string">&quot;hello world&quot;</span>) &gt; <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;str1&gt;str2\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;str1&lt;str2\n&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="sprintf">7. sprintf()</h5>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">sprintf</span><span class="params">(<span class="type">char</span> *str, <span class="type">const</span> <span class="type">char</span> *format, ...)</span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>功能：根据参数format字符串来转换并格式化数据，然后将结果输出到str指定的空间中，直到出现字符串结束符
'<code>\0</code>' 为止。</p>
<p>参数：</p>
<p>​ str：字符串首地址</p>
<p>​ format：字符串格式，用法和printf()一样</p>
<p>返回值：</p>
<p>​ 成功：实际格式化的字符个数</p>
<p>​ 失败： - 1</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> dst[<span class="number">100</span>] = &#123; <span class="number">0</span> &#125;;</span><br><span class="line"><span class="type">int</span> a = <span class="number">10</span>;</span><br><span class="line"><span class="type">char</span> src[] = <span class="string">&quot;hello world&quot;</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;a = %d, src = %s&quot;</span>, a, src);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> len=<span class="built_in">sprintf</span>(dst, <span class="string">&quot;a = %d, src = %s&quot;</span>, a, src);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;dst = \&quot; %s\&quot;\n&quot;</span>, dst);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;len = %d\n&quot;</span>, len);</span><br></pre></td></tr></table></figure>
<h5 id="sscanf">8. sscanf()</h5>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">sscanf</span><span class="params">(<span class="type">const</span> <span class="type">char</span> *str, <span class="type">const</span> <span class="type">char</span> *format, ...)</span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>功能：从str指定的字符串读取数据，并根据参数format字符串来转换并格式化数据。</p>
<p>参数：</p>
<p>​ str：指定的字符串首地址</p>
<p>​ format：字符串格式，用法和scanf()一样</p>
<p>返回值：</p>
<p>​ 成功：参数数目，成功转换的值的个数</p>
<p>​ 失败： - 1</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> src[] = <span class="string">&quot;a=10, b=20&quot;</span>;</span><br><span class="line"><span class="type">int</span> a;</span><br><span class="line"><span class="type">int</span> b;</span><br><span class="line"><span class="built_in">sscanf</span>(src, <span class="string">&quot;a=%d,  b=%d&quot;</span>, &amp;a, &amp;b);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;a:%d, b:%d\n&quot;</span>, a, b);</span><br></pre></td></tr></table></figure>
<h5 id="strchr">9.strchr()</h5>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="type">char</span> *<span class="title function_">strchr</span><span class="params">(<span class="type">const</span> <span class="type">char</span> *s, <span class="type">int</span> c)</span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>功能</strong>：在字符串s中查找字母c出现的位置</p>
<p><strong>参数</strong>：</p>
<p>​ s：字符串首地址</p>
<p>​ c：匹配字母(字符)</p>
<p><strong>返回值</strong>：</p>
<p>​ 成功：返回第一次出现的c地址</p>
<p>​ 失败：NULL</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> src[] = <span class="string">&quot;ddda123abcd&quot;</span>;</span><br><span class="line"><span class="type">char</span> *p = <span class="built_in">strchr</span>(src, <span class="string">&#x27;a&#x27;</span>);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;p = %s\n&quot;</span>, p);</span><br></pre></td></tr></table></figure>
<h5 id="strstr">10. strstr()</h5>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="type">char</span> *<span class="title function_">strstr</span><span class="params">(<span class="type">const</span> <span class="type">char</span> *haystack, <span class="type">const</span> <span class="type">char</span> *needle)</span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>功能：在字符串haystack中查找字符串needle出现的位置</p>
<p>参数：</p>
<p>​ haystack：源字符串首地址</p>
<p>​ needle：匹配字符串首地址</p>
<p>返回值：</p>
<p>​ 成功：返回第一次出现的needle地址</p>
<p>​ 失败：NULL</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> src[] = <span class="string">&quot;ddddabcd123abcd333abcd&quot;</span>;</span><br><span class="line"><span class="type">char</span> *p = <span class="built_in">strstr</span>(src, <span class="string">&quot;abcd&quot;</span>);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;p = %s\n&quot;</span>, p);</span><br></pre></td></tr></table></figure>
<h5 id="strtok">11. strtok()</h5>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="type">char</span> *<span class="title function_">strtok</span><span class="params">(<span class="type">char</span> *str, <span class="type">const</span> <span class="type">char</span> *delim)</span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>功能：来将字符串分割成一个个片段。当<code>strtok()</code>在参数s的字符串中发现参数delim中包含的分割字符时,
则会将该字符改为\0 字符，当连续出现多个时只替换第一个为\0。</p>
<p>参数：</p>
<p>​ str：指向欲分割的字符串</p>
<p>​ delim：为分割字符串中包含的所有字符</p>
<p>返回值：</p>
<p>​ 成功：分割后字符串首地址</p>
<p>​ 失败：NULL</p>
</blockquote>
<ul>
<li>在第一次调用时：<code>strtok()</code>必需给予参数s字符串</li>
<li>往后的调用则将参数s设置成NULL，每次调用成功则返回指向被分割出片段的指针</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> a[<span class="number">100</span>] = <span class="string">&quot;adc*fvcv.ebcy*hghbdfg$casdert&quot;</span>;</span><br><span class="line"><span class="type">char</span> *s = strtok(a, <span class="string">&quot;.*$&quot;</span>);<span class="comment">//将&quot;*&quot;分割的子串取出</span></span><br><span class="line"><span class="keyword">while</span> (s != <span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>, s);</span><br><span class="line">	s = strtok(<span class="literal">NULL</span>, <span class="string">&quot;*&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="atoi">12. atoi()</h5>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">atoi</span><span class="params">(<span class="type">const</span> <span class="type">char</span> *nptr)</span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>功能：<code>atoi()</code>会扫描nptr字符串，跳过前面的空格字符，直到遇到数字或正负号才开始做转换，而遇到非数字或字符串结束符('\0')才结束转换，并将结果返回返回值。</p>
<p>参数：</p>
<p>​ nptr：待转换的字符串</p>
<p>返回值：成功转换后整数</p>
</blockquote>
<p>类似的函数有：</p>
<ul>
<li><code>atof()</code>：把一个小数形式的字符串转化为一个浮点数</li>
<li><code>atol()</code>：将一个字符串转化为long类型</li>
</ul>
<figure class="highlight d"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">char</span> str1[] = <span class="string">&quot;          -10&quot;</span>;</span><br><span class="line"><span class="keyword">int</span> num1 = atoi(str1);</span><br><span class="line">printf(<span class="string">&quot;num1 = %d\n&quot;</span>, num1);</span><br><span class="line"></span><br><span class="line"><span class="built_in">char</span> str2[] = <span class="string">&quot;0.123&quot;</span>;</span><br><span class="line"><span class="built_in">double</span> num2 = atof(str2);</span><br><span class="line">printf(<span class="string">&quot;num2 = %lf\n&quot;</span>, num2);</span><br><span class="line"></span><br><span class="line"><span class="built_in">char</span> str3[] = <span class="string">&quot;123L&quot;</span>;</span><br><span class="line"><span class="built_in">long</span> num3 = atol(str3);</span><br><span class="line">printf(<span class="string">&quot;num3 = %ld\n&quot;</span>, num3);</span><br></pre></td></tr></table></figure>
<h3 id="指针小结">7.7 指针小结</h3>
<table>
<thead>
<tr class="header">
<th><strong>定义</strong></th>
<th><strong>说明</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>int i</code></td>
<td>定义整形变量</td>
</tr>
<tr class="even">
<td><code>int *p</code></td>
<td>定义一个指向int的指针变量</td>
</tr>
<tr class="odd">
<td><code>int a[10]</code></td>
<td>定义一个有10个元素的数组，每个元素类型为int</td>
</tr>
<tr class="even">
<td><code>int *p[10]</code></td>
<td>定义一个有10个元素的数组，每个元素类型为int*</td>
</tr>
<tr class="odd">
<td><code>int func()</code></td>
<td>定义一个函数，返回值为int型</td>
</tr>
<tr class="even">
<td><code>int *func()</code></td>
<td>定义一个函数，返回值为int *型</td>
</tr>
<tr class="odd">
<td><code>int **p</code></td>
<td>定义一个指向int的指针的指针，二级指针</td>
</tr>
</tbody>
</table>
<h2 id="内存管理">8. 内存管理</h2>
<h3 id="作用域">8.1 作用域</h3>
<p>C语言变量的作用域分为：</p>
<ul>
<li><p>代码块作用域(代码块是{}之间的一段代码)</p></li>
<li><p>函数作用域</p></li>
<li><p>文件作用域</p></li>
</ul>
<h4 id="局部变量">8.1.1 局部变量</h4>
<p>局部变量也叫<code>auto自动变量</code>(auto可写可不写)，一般情况下代码块<code>&#123;&#125;</code>内部定义的变量都是自动变量，它有如下特点：</p>
<ul>
<li>在一个函数内定义，只在函数范围内有效</li>
<li>在复合语句中定义，只在复合语句中有效</li>
<li><font color="red">随着函数调用的结束或复合语句的结束局部变量的声明声明周期也结束</font></li>
<li>如果没有赋初值，内容为随机</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">test</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">// auto 写不写是一样的</span></span><br><span class="line">	<span class="comment">// auto 只能出现在&#123;&#125;内部</span></span><br><span class="line">	<span class="keyword">auto</span> <span class="type">int</span> b = <span class="number">10</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">// b = 100; //err 在main作用域中没有b</span></span><br><span class="line">	<span class="keyword">if</span>(<span class="number">1</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">// 在复合语句中定义，只在复合语句中有效</span></span><br><span class="line">		<span class="type">int</span> a = <span class="number">10</span>;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;a = %d\n&quot;</span>, a);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// a = 10;//err离开if()的复合语句，a已经不存在</span></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="静态static局部变量">8.1.2 静态(static)局部变量</h4>
<ul>
<li>static局部变量的作用域也是在定义的函数内有效</li>
<li>static局部变量的生命周期和程序运行周期一样，<font color="red">同时staitc局部变量的值只初始化一次，但可以赋值多次</font></li>
<li>static局部变量若未赋以初值，则由系统自动赋值：数值型变量自动赋初值0，字符型变量赋空字符</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">fun1</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">	i++;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;i = %d\n&quot;</span>, i);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">fun2</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 静态局部变量，没有赋值，系统赋值为0，而且只会初始化一次</span></span><br><span class="line">    <span class="type">static</span> <span class="type">int</span> a;</span><br><span class="line">    a++;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;a = %d\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    fun1();</span><br><span class="line">    fun1();</span><br><span class="line">    fun2();</span><br><span class="line">    fun2();</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="全局变量">8.1.3 全局变量</h4>
<ul>
<li>在函数外定义，可被本文件及其它文件中的函数所共用，若其它文件中的函数调用此变量,须用<code>extern</code>声明</li>
<li>全局变量的生命周期和程序运行周期一样</li>
<li>不同文件的全局变量不可重名</li>
</ul>
<h4 id="静态static全局变量">8.1.4 静态(static)全局变量</h4>
<ul>
<li>在函数外定义,作用范围被限制在所定义的文件中</li>
<li>不同文件静态全局变量可以重名,但作用域不冲突</li>
<li><code>static</code>全局变量的生命周期和程序运行周期一样，同时staitc全局变量的值只初始化一次</li>
</ul>
<h4 id="extern全局变量声明">8.1.5 extern全局变量声明</h4>
<p><code>extern int a;</code>声明一个变量，这个全局变量在别的文件中已经定义了，这里只是声明，而不是定义</p>
<h4 id="全局函数和静态函数">8.1.6 全局函数和静态函数</h4>
<p>在C语言中函数默认都是全局的，使用关键字<code>static</code>可以将函数声明为静态，函数定义为<code>static</code>就意味着这个函数只能在定义这个函数的文件中使用，在其他文件中不能调用，即使在其他文件中声明这个函数都没用</p>
<p>对于不同文件中的<code>staitc</code>函数名字可以相同</p>
<figure>
<img src="/img/loading.gif" data-original="https://cdn.jsdelivr.net/gh/Aubuty/picgoimage@main/img/202206010000914.jpg" alt="2016-06-05_011701">
<figcaption aria-hidden="true">2016-06-05_011701</figcaption>
</figure>
<p>注意：</p>
<ul>
<li><p>允许在不同的函数中使用相同的变量名，它们代表不同的对象，分配不同的单元，互不干扰。</p></li>
<li><p>同一源文件中,允许全局变量和局部变量同名，在局部变量的作用域内，全局变量不起作用。</p></li>
<li><p>所有的函数默认都是全局的，意味着所有的函数都不能重名，但如果是<code>staitc</code>函数，那么作用域是文件级的，所以不同的文件<code>static</code>函数名是可以相同的</p></li>
</ul>
<h4 id="总结">8.1.7 总结</h4>
<table>
<thead>
<tr class="header">
<th><strong>类型</strong></th>
<th><strong>作用域</strong></th>
<th><strong>生命周期</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>auto变量</td>
<td>一对{}内</td>
<td>当前函数</td>
</tr>
<tr class="even">
<td>static局部变量</td>
<td>一对{}内</td>
<td>整个程序运行期</td>
</tr>
<tr class="odd">
<td>extern变量</td>
<td>整个程序</td>
<td>整个程序运行期</td>
</tr>
<tr class="even">
<td>static全局变量</td>
<td>当前文件</td>
<td>整个程序运行期</td>
</tr>
<tr class="odd">
<td>extern函数</td>
<td>整个程序</td>
<td>整个程序运行期</td>
</tr>
<tr class="even">
<td>static函数</td>
<td>当前文件</td>
<td>整个程序运行期</td>
</tr>
<tr class="odd">
<td>register变量</td>
<td>一对{}内</td>
<td>当前函数</td>
</tr>
<tr class="even">
<td>全局变量</td>
<td>整个程序</td>
<td>整个程序运行期</td>
</tr>
</tbody>
</table>
<h3 id="内存布局">8.2 内存布局</h3>
<h4 id="内存分区">8.2.1 内存分区</h4>
<p>C代码经过<font color="red">预处理、编译、汇编、链接</font>4步后生成一个可执行程序。</p>
<p>在 Windows
下，程序是一个普通的可执行文件，以下列出一个二进制可执行文件的基本情况：</p>
<figure>
<img src="/img/loading.gif" data-original="https://cdn.jsdelivr.net/gh/Aubuty/picgoimage@main/img/202206010000916.png" alt="image-20200925161021903">
<figcaption aria-hidden="true">image-20200925161021903</figcaption>
</figure>
<p>通过上图可以得知，在没有运行程序前，也就是说<font color="red">程序没有加载到内存前</font>，可执行程序内部已经分好3段信息，分别为<font color="red">代码区（text）、数据区（data）和未初始化数据区（bss）</font>3
个部分（有些人直接把data和bss合起来叫做静态区或全局区）。</p>
<ul>
<li>代码区
<ul>
<li>存放 CPU
执行的机器指令。通常代码区是可共享的（即另外的执行程序可以调用它），使其可共享的目的是对于频繁被执行的程序，只需要在内存中有一份代码即可。<font color="red">代码区通常是只读的</font>，使其只读的原因是防止程序意外地修改了它的指令。另外，代码区还规划了局部变量的相关信息</li>
</ul></li>
<li>全局初始化数据区/静态数据区（data段）
<ul>
<li>该区包含了在程序中明确被初始化的全局变量、已经初始化的静态变量（包括全局静态变量和局部静态变量）和常量数据（如字符串常量）</li>
</ul></li>
<li>未初始化数据区（又叫 bss 区）
<ul>
<li>存入的是全局未初始化变量和未初始化静态变量。未初始化数据区的数据在程序开始执行之前被内核初始化为
0 或者空（NULL）</li>
<li>程序在加载到内存前，<font color="red">代码区和全局区(data和bss)的大小就是固定的</font>，程序运行期间不能改变。然后，运行可执行程序，系统把程序加载到内存，<font color="red">除了根据可执行程序的信息分出代码区（text）、数据区（data）和未初始化数据区（bss）之外，还额外增加了栈区、堆区</font></li>
</ul></li>
</ul>
<figure>
<img src="/img/loading.gif" data-original="https://cdn.jsdelivr.net/gh/Aubuty/picgoimage@main/img/202206010000917.jpg" alt="img">
<figcaption aria-hidden="true">img</figcaption>
</figure>
<ul>
<li>代码区（text segment）
<ul>
<li>加载的是可执行文件代码段，所有的可执行代码都加载到代码区，这块内存是不可以在运行期间修改的。</li>
</ul></li>
<li>未初始化数据区（BSS）
<ul>
<li>加载的是可执行文件BSS段，位置可以分开亦可以紧靠数据段，存储于数据段的数据（全局未初始化，静态未初始化数据）的生存周期为整个程序运行过程。</li>
</ul></li>
<li>全局初始化数据区/静态数据区（data segment）
<ul>
<li>加载的是可执行文件数据段，存储于数据段（全局初始化，静态初始化数据，文字常量(只读)）的数据的生存周期为整个程序运行过程。</li>
</ul></li>
<li>栈区（stack）
<ul>
<li>栈是一种先进后出的内存结构，由编译器自动分配释放，存放函数的参数值、返回值、局部变量等。在程序运行过程中实时加载和释放，因此，局部变量的生存周期为申请到释放该段栈空间。</li>
</ul></li>
<li>堆区（heap）
<ul>
<li>堆是一个大容器，它的容量要远远大于栈，但没有栈那样先进后出的顺序。用于动态内存分配。堆在内存中位于BSS区和栈区之间。一般由程序员分配和释放，若程序员不释放，程序结束时由操作系统回收</li>
</ul></li>
</ul>
<h4 id="存储类型总结">8.2.2 存储类型总结</h4>
<table>
<colgroup>
<col style="width: 20%">
<col style="width: 14%">
<col style="width: 20%">
<col style="width: 44%">
</colgroup>
<thead>
<tr class="header">
<th><strong>类型</strong></th>
<th><strong>作用域</strong></th>
<th><strong>生命周期</strong></th>
<th><strong>存储位置</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>auto变量</td>
<td>一对{}内</td>
<td>当前函数</td>
<td>栈区</td>
</tr>
<tr class="even">
<td>static局部变量</td>
<td>一对{}内</td>
<td>整个程序运行期</td>
<td>初始化在data段，未初始化在BSS段</td>
</tr>
<tr class="odd">
<td>extern变量</td>
<td>整个程序</td>
<td>整个程序运行期</td>
<td>初始化在data段，未初始化在BSS段</td>
</tr>
<tr class="even">
<td>static全局变量</td>
<td>当前文件</td>
<td>整个程序运行期</td>
<td>初始化在data段，未初始化在BSS段</td>
</tr>
<tr class="odd">
<td>extern函数</td>
<td>整个程序</td>
<td>整个程序运行期</td>
<td>代码区</td>
</tr>
<tr class="even">
<td>static函数</td>
<td>当前文件</td>
<td>整个程序运行期</td>
<td>代码区</td>
</tr>
<tr class="odd">
<td>register变量</td>
<td>一对{}内</td>
<td>当前函数</td>
<td>运行时存储在CPU寄存器</td>
</tr>
<tr class="even">
<td>字符串常量</td>
<td>当前文件</td>
<td>整个程序运行期</td>
<td>data段</td>
</tr>
</tbody>
</table>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> e;</span><br><span class="line"><span class="type">static</span> <span class="type">int</span> f;</span><br><span class="line"><span class="type">int</span> g = <span class="number">10</span>;</span><br><span class="line"><span class="type">static</span> <span class="type">int</span> h = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> a;</span><br><span class="line">	<span class="type">int</span> b = <span class="number">10</span>;</span><br><span class="line">	<span class="type">static</span> <span class="type">int</span> c;</span><br><span class="line">	<span class="type">static</span> <span class="type">int</span> d = <span class="number">10</span>;</span><br><span class="line">	<span class="type">char</span> *i = <span class="string">&quot;test&quot;</span>;</span><br><span class="line">	<span class="type">char</span> *k = <span class="literal">NULL</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;&amp;a\t %p\t //局部未初始化变量\n&quot;</span>, &amp;a);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;&amp;b\t %p\t //局部初始化变量\n&quot;</span>, &amp;b);</span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;&amp;c\t %p\t //静态局部未初始化变量\n&quot;</span>, &amp;c);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;&amp;d\t %p\t //静态局部初始化变量\n&quot;</span>, &amp;d);</span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;&amp;e\t %p\t //全局未初始化变量\n&quot;</span>, &amp;e);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;&amp;f\t %p\t //全局静态未初始化变量\n&quot;</span>, &amp;f);</span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;&amp;g\t %p\t //全局初始化变量\n&quot;</span>, &amp;g);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;&amp;h\t %p\t //全局静态初始化变量\n&quot;</span>, &amp;h);</span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;i\t %p\t //只读数据(文字常量区)\n&quot;</span>, i);</span><br><span class="line">    </span><br><span class="line">	k = (<span class="type">char</span> *)<span class="built_in">malloc</span>(<span class="number">10</span>);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;k\t %p\t //动态分配的内存\n&quot;</span>, k);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">tao@Taoc:~/Desktop/C/<span class="number">8</span>$ ./<span class="number">8.2</span><span class="number">.2</span> </span><br><span class="line">&amp;a	 <span class="number">0x7ffe96a0a7e0</span>	 <span class="comment">//局部未初始化变量</span></span><br><span class="line">&amp;b	 <span class="number">0x7ffe96a0a7e4</span>	 <span class="comment">//局部初始化变量</span></span><br><span class="line">&amp;c	 <span class="number">0x559add9ab024</span>	 <span class="comment">//静态局部未初始化变量</span></span><br><span class="line">&amp;d	 <span class="number">0x559add9ab018</span>	 <span class="comment">//静态局部初始化变量</span></span><br><span class="line">&amp;e	 <span class="number">0x559add9ab028</span>	 <span class="comment">//全局未初始化变量</span></span><br><span class="line">&amp;f	 <span class="number">0x559add9ab020</span>	 <span class="comment">//全局静态未初始化变量</span></span><br><span class="line">&amp;g	 <span class="number">0x559add9ab010</span>	 <span class="comment">//全局初始化变量</span></span><br><span class="line">&amp;h	 <span class="number">0x559add9ab014</span>	 <span class="comment">//全局静态初始化变量</span></span><br><span class="line">i	 <span class="number">0x559add9a9008</span>	 <span class="comment">//只读数据(文字常量区)</span></span><br><span class="line">k	 <span class="number">0x559adeaac670</span>	 <span class="comment">//动态分配的内存</span></span><br></pre></td></tr></table></figure>
<h4 id="内存操作函数">8.2.3 内存操作函数</h4>
<h5 id="memset">1. memset()</h5>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="type">void</span> *<span class="title function_">memset</span><span class="params">(<span class="type">void</span> *s, <span class="type">int</span> c, <span class="type">size_t</span> n)</span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>功能：将s的内存区域的前n个字节以参数c填入</p>
<p>参数：</p>
<p>​ s：需要操作内存s的首地址</p>
<p>​ c：填充的字符，c虽然参数为int，但必须是unsigned char ,
范围为0~255</p>
<p>​ n：指定需要设置的大小</p>
<p>返回值：s的首地址</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a[<span class="number">10</span>];</span><br><span class="line"></span><br><span class="line"><span class="built_in">memset</span>(a, <span class="number">0</span>, <span class="keyword">sizeof</span>(a));</span><br><span class="line"><span class="built_in">memset</span>(a, <span class="number">97</span>, <span class="keyword">sizeof</span>(a));</span><br><span class="line"><span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%c\n&quot;</span>, a[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="memcpy">2. memcpy()</h5>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="type">void</span> *<span class="title function_">memcpy</span><span class="params">(<span class="type">void</span> *dest, <span class="type">const</span> <span class="type">void</span> *src, <span class="type">size_t</span> n)</span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>功能：拷贝src所指的内存内容的前n个字节到dest所值的内存地址上。</p>
<p>参数：</p>
<p>​ dest：目的内存首地址</p>
<p>​
src：源内存首地址，<font color="red">注意：dest和src所指的内存空间不可重叠，可能会导致程序报错</font></p>
<p>​ n：需要拷贝的字节数</p>
<p>返回值：dest的首地址</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a[<span class="number">10</span>] = &#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span> &#125;;</span><br><span class="line"><span class="type">int</span> b[<span class="number">10</span>];</span><br><span class="line"></span><br><span class="line"><span class="built_in">memcpy</span>(b, a, <span class="keyword">sizeof</span>(a));</span><br><span class="line"><span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%d, &quot;</span>, b[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//memcpy(&amp;a[3], a, 5 * sizeof(int)); //err, 内存重叠</span></span><br></pre></td></tr></table></figure>
<h5 id="memmove">3. memmove()</h5>
<p>memmove()功能用法和memcpy()一样，区别在于：dest和src所指的内存空间重叠时，memmove()仍然能处理，不过执行效率比memcpy()低些</p>
<h5 id="memcmp">4. memcmp()</h5>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">memcmp</span><span class="params">(<span class="type">const</span> <span class="type">void</span> *s1, <span class="type">const</span> <span class="type">void</span> *s2, <span class="type">size_t</span> n)</span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>功能：比较s1和s2所指向内存区域的前n个字节</p>
<p>参数：</p>
<p>​ s1：内存首地址1</p>
<p>​ s2：内存首地址2</p>
<p>​ n：需比较的前n个字节</p>
<p>返回值：</p>
<p>​ 相等：=0</p>
<p>​ 大于：&gt;0</p>
<p>​ 小于：&lt;0</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a[<span class="number">10</span>] = &#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span> &#125;;</span><br><span class="line"><span class="type">int</span> b[<span class="number">10</span>] = &#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> flag = <span class="built_in">memcmp</span>(a, b, <span class="keyword">sizeof</span>(a));</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;flag = %d\n&quot;</span>, flag);</span><br></pre></td></tr></table></figure>
<h4 id="堆区内存分配和释放">8.2.4 堆区内存分配和释放</h4>
<h5 id="malloc">1. malloc()</h5>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="type">void</span> *<span class="title function_">malloc</span><span class="params">(<span class="type">size_t</span> size)</span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>功能：在内存的动态存储区(堆区)中分配一块长度为size字节的连续区域，用来存放类型说明符指定的类型。分配的内存空间内容不确定，一般使用memset初始化。</p>
<p>参数：</p>
<p>​ size：需要分配内存大小(单位：字节)</p>
<p>返回值：</p>
<p>成功：分配空间的起始地址</p>
<p>失败：NULL</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> count, *<span class="built_in">array</span>, n;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入要申请数组的个数：\n&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">array</span> = (<span class="type">int</span> *)<span class="built_in">malloc</span>(n * <span class="keyword">sizeof</span>(<span class="type">int</span>));</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">array</span> == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;申请空间失败!\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//将申请到空间清0</span></span><br><span class="line">    <span class="built_in">memset</span>(<span class="built_in">array</span>, <span class="number">0</span>, <span class="keyword">sizeof</span>(<span class="type">int</span>)*n);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(count = <span class="number">0</span>; count &lt; n; count++)</span><br><span class="line">        <span class="built_in">array</span>[count] = count;</span><br><span class="line">    <span class="keyword">for</span>(count = <span class="number">0</span>; count &lt; n; count++)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%2d&quot;</span>, <span class="built_in">array</span>[count]);</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">free</span>(<span class="built_in">array</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">/<span class="number">8</span>$ ./<span class="number">8.2</span><span class="number">.4</span><span class="number">-1</span> </span><br><span class="line">请输入要申请数组的个数：</span><br><span class="line"><span class="number">5</span></span><br><span class="line"> <span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span>tao@Taoc:~/Desktop/C/<span class="number">8</span>$ </span><br></pre></td></tr></table></figure>
<h5 id="free">2. free()</h5>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="type">void</span> <span class="title function_">free</span><span class="params">(<span class="type">void</span> *ptr)</span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>功能：释放ptr所指向的一块内存空间，ptr是一个任意类型的指针变量，指向被释放区域的首地址。对同一内存空间多次释放会出错。</p>
<p>参数：</p>
<p>ptr：需要释放空间的首地址，被释放区应是由malloc函数所分配的区域。</p>
<p>返回值：无</p>
</blockquote>
<h3 id="内存分区代码分析">8.3 内存分区代码分析</h3>
<h4 id="返回栈区地址">1. 返回栈区地址</h4>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> *<span class="title function_">fun</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> a = <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">return</span> &amp;a;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> *p = <span class="literal">NULL</span>;</span><br><span class="line">    p = fun();</span><br><span class="line">    *p = <span class="number">100</span>; <span class="comment">// 操作野指针指向的内存，err</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="返回data区地址">2. 返回data区地址</h4>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> *<span class="title function_">fun</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">static</span> <span class="type">int</span> a = <span class="number">10</span>;</span><br><span class="line">    </span><br><span class="line">	<span class="keyword">return</span> &amp;a; <span class="comment">// 函数调用完毕,a不释放</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> *p = <span class="literal">NULL</span>;</span><br><span class="line">    p = func();</span><br><span class="line">    *p = <span class="number">100</span>; <span class="comment">// ok</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;*p = %d\n&quot;</span>, *p);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="值传递1">3. 值传递1</h4>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">fun</span><span class="params">(<span class="type">int</span> *tmp)</span></span><br><span class="line">&#123;</span><br><span class="line">	tmp = (<span class="type">int</span> *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="type">int</span>));</span><br><span class="line">	*tmp = <span class="number">100</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argc[])</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> *p = <span class="literal">NULL</span>;</span><br><span class="line">	fun(p); <span class="comment">// 值传递，形参修改不会影响实参</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;*p = %d\n&quot;</span>, *p);</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="值传递2">4. 值传递2</h4>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">fun</span><span class="params">(<span class="type">int</span> *tmp)</span></span><br><span class="line">&#123;</span><br><span class="line">	*tmp = <span class="number">100</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> *p = <span class="literal">NULL</span>;</span><br><span class="line">	p = (<span class="type">int</span> *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="type">int</span>));</span><br><span class="line"></span><br><span class="line">	fun(p); <span class="comment">//值传递</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;*p = %d\n&quot;</span>, *p); <span class="comment">//ok，*p为100</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="返回堆区地址">5. 返回堆区地址</h4>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> *<span class="title function_">fun</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> *tmp = <span class="literal">NULL</span>;</span><br><span class="line">	tmp = (<span class="type">int</span> *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="type">int</span>));</span><br><span class="line">	*tmp = <span class="number">100</span>;</span><br><span class="line">	<span class="keyword">return</span> tmp; <span class="comment">// 返回堆区地址，函数调用完毕，不释放</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> *p = <span class="literal">NULL</span>;</span><br><span class="line">	p = fun();</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;*p = %d\n&quot;</span>, *p);<span class="comment">//ok</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//堆区空间，使用完毕，手动释放</span></span><br><span class="line">    <span class="keyword">if</span>( p != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">free</span>(p);</span><br><span class="line">        p = <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="复合类型自定义类型">9. 复合类型(自定义类型)</h2>
<h3 id="结构体">9.1 结构体</h3>
<h4 id="概述-4">9.1.1 概述</h4>
<p>数组：描述一组具有相同类型数据的有序集合，用于处理大量相同类型的数据运算</p>
<p>有时我们需要将不同类型的数据组合成一个有机的整体，如：一个学生有学号/姓名/性别/年龄/地址等属性。显然单独定义以上变量比较繁琐，数据不便于管理</p>
<p>Ｃ语言中给出了另一种构造数据类型——结构体</p>
<figure>
<img src="/img/loading.gif" data-original="https://cdn.jsdelivr.net/gh/Aubuty/picgoimage@main/img/202206010000918.jpg" alt="2016-06-05_152127">
<figcaption aria-hidden="true">2016-06-05_152127</figcaption>
</figure>
<h4 id="结构体变量的定义和初始化">9.1.2 结构体变量的定义和初始化</h4>
<p>定义结构体变量的方式：</p>
<ul>
<li><p>先声明结构体类型再定义变量名</p></li>
<li><p>在声明类型的同时定义变量</p></li>
<li><p>直接定义结构体类型变量（无类型名）</p></li>
</ul>
<figure>
<img src="/img/loading.gif" data-original="https://cdn.jsdelivr.net/gh/Aubuty/picgoimage@main/img/202206010000919.jpg" alt="2016-06-05_153150">
<figcaption aria-hidden="true">2016-06-05_153150</figcaption>
</figure>
<p>结构体类型和结构体变量关系：</p>
<ul>
<li>结构体类型：指定了一个结构体类型，它相当于一个模型，但其中并无具体数据，系统对之也不分配实际内存单元</li>
<li>结构体变量：系统根据结构体类型（内部成员状况）为之分配空间</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 结构体类型的定义</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">stu</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">char</span> name[<span class="number">50</span>];</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 先定义类型，再定义变量（常用）</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">stu</span> <span class="title">s1</span> =</span> &#123;<span class="string">&quot;Taoy&quot;</span>, <span class="number">18</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义类型同时定义变量</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">stu2</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">char</span> name[<span class="number">50</span>];</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">&#125;s2 = &#123;<span class="string">&quot;Tao&quot;</span>, <span class="number">19</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">char</span> name[<span class="number">50</span>];</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">&#125;s3 = &#123;<span class="string">&quot;Taooo&quot;</span>, <span class="number">21</span>&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="结构体成员的使用">9.1.3 结构体成员的使用</h4>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;sring.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 结构体类型的定义</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">stu</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">char</span> name[<span class="number">50</span>];</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">stu</span> <span class="title">s1</span>;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 如果是普通变量，通过点运算符操作结构体成员</span></span><br><span class="line">    <span class="built_in">strcpy</span>(s1.name, <span class="string">&quot;abc&quot;</span>);</span><br><span class="line">    s1.age = <span class="number">18</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;s1.name = %s, s1.age = %d\n&quot;</span>, s1.name, s1.age);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 如果是指针变量，通过-&gt;操作结构体成员</span></span><br><span class="line">    <span class="built_in">strcpy</span>((&amp;s1)-&gt;name, <span class="string">&quot;test&quot;</span>);</span><br><span class="line">    (&amp;s1)-&gt;age = <span class="number">22</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;(&amp;s1)-&gt;name = %s, (&amp;s1)-&gt;age = %d\n&quot;</span>, (&amp;s1)-&gt;name, (&amp;s1)-&gt;age);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="结构体数组">9.1.4 结构体数组</h4>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 统计学生成绩</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">stu</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="type">int</span> num;</span><br><span class="line">	<span class="type">char</span> name[<span class="number">20</span>];</span><br><span class="line">	<span class="type">char</span> sex;</span><br><span class="line">	<span class="type">float</span> score;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">stu</span> <span class="title">boy</span>[5] =</span> &#123;</span><br><span class="line">		&#123; <span class="number">101</span>, <span class="string">&quot;Li ping&quot;</span>, <span class="string">&#x27;M&#x27;</span>, <span class="number">45</span> &#125;,			</span><br><span class="line">		&#123; <span class="number">102</span>, <span class="string">&quot;Zhang ping&quot;</span>, <span class="string">&#x27;M&#x27;</span>, <span class="number">62.5</span> &#125;,</span><br><span class="line">		&#123; <span class="number">103</span>, <span class="string">&quot;He fang&quot;</span>, <span class="string">&#x27;F&#x27;</span>, <span class="number">92.5</span> &#125;,</span><br><span class="line">		&#123; <span class="number">104</span>, <span class="string">&quot;Cheng ling&quot;</span>, <span class="string">&#x27;F&#x27;</span>, <span class="number">87</span> &#125;,</span><br><span class="line">		&#123; <span class="number">105</span>, <span class="string">&quot;Wang ming&quot;</span>, <span class="string">&#x27;M&#x27;</span>, <span class="number">58</span> &#125;&#125;;</span><br><span class="line">	</span><br><span class="line">    <span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> c = <span class="number">0</span>;</span><br><span class="line">    <span class="type">float</span> ave,s = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        s += boy[i].score; <span class="comment">//计算总分</span></span><br><span class="line">        <span class="keyword">if</span>(boy[i].score &lt; <span class="number">60</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            c += <span class="number">1</span>;	<span class="comment">//统计不及格人的分数</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;s = %f\n&quot;</span>, s); <span class="comment">// 打印总分数</span></span><br><span class="line">    ave = s / <span class="number">5</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;average = %f\n count=%d\n\n&quot;</span>, ave, c);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;name = %s, score = %f\n&quot;</span>,boy[i].name, boy[i].score);</span><br><span class="line">        <span class="comment">// printf(&quot; name=%s,  score=%f\n&quot;, (boy + i )-&gt;name, (boy + i)-&gt;score);</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="结构体套结构体">9.1.5 结构体套结构体</h4>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">person</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">char</span> name[<span class="number">20</span>];</span><br><span class="line">    <span class="type">char</span> sex;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">stu</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">int</span> id;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">person</span> <span class="title">info</span>;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">stu</span> <span class="title">s</span>[2] =</span> &#123;<span class="number">1</span>, <span class="string">&quot;Lily&quot;</span>, <span class="string">&#x27;F&#x27;</span>, <span class="number">2</span>, <span class="string">&quot;yuri&quot;</span>, <span class="string">&quot;M&quot;</span>&#125;;</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; <span class="number">2</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;id = %d\tinfo.name=%s\tinfo.sex=%c\n&quot;</span>, s[i].id, s[i].info.name, s[i].info.sex);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="结构体赋值">9.1.6 结构体赋值</h4>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">stu</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">char</span> name[<span class="number">50</span>];</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">stu</span> <span class="title">s1</span>;</span></span><br><span class="line">    <span class="comment">//如果是普通变量，通过点运算符操作结构体成员</span></span><br><span class="line">    <span class="built_in">strcpy</span>(s1.name, <span class="string">&quot;abc&quot;</span>);</span><br><span class="line">    s1.age = <span class="number">18</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;s1.name = %s, s1.age = %d\n&quot;</span>, s1.name, s1.age);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//相同类型的两个结构体变量，可以相互赋值</span></span><br><span class="line">	<span class="comment">//把s1成员变量的值拷贝给s2成员变量的内存</span></span><br><span class="line">	<span class="comment">//s1和s2只是成员变量的值一样而已，它们还是没有关系的两个变量</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">stu</span> <span class="title">s2</span> =</span> s1;</span><br><span class="line">    <span class="comment">//memcpy(&amp;s2, &amp;s1, sizeof(s1));</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;s2.name = %s, s2.gae = %d\n&quot;</span>, s2.name, s2.age);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="结构体和指针">9.1.7 结构体和指针</h4>
<h5 id="指向普通结构体变量的指针">1. 指向普通结构体变量的指针</h5>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 结构类型的定义</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">stu</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">char</span> name[<span class="number">50</span>];</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">stu</span> <span class="title">s1</span> =</span> &#123;<span class="string">&quot;Tao&quot;</span>, <span class="number">18</span>&#125;;</span><br><span class="line">    <span class="comment">// 如果是指针变量，通过-&gt;操作结构体成员</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">stu</span> *<span class="title">p</span> =</span> &amp;s1;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;p-&gt;name = %s, p-&gt;age=%d\n&quot;</span>, p-&gt;name, p-&gt;age);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;(*p).name = %s, (*p).age=%d\n&quot;</span>,  (*p).name,  (*p).age);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="堆区结构体变量">2. 堆区结构体变量</h5>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">stu</span> </span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="type">char</span> name[<span class="number">50</span>];</span><br><span class="line">	<span class="type">int</span> age;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">stu</span> *<span class="title">p</span> =</span> <span class="literal">NULL</span>;</span><br><span class="line">    p = (<span class="keyword">struct</span> stu *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> stu));</span><br><span class="line">    <span class="comment">// 如果是指针变量，通过-&gt;操作结构体成员</span></span><br><span class="line">    <span class="built_in">strcpy</span>(p-&gt;name, <span class="string">&quot;test&quot;</span>);</span><br><span class="line">    p-&gt;age = <span class="number">22</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;p-&gt;name = %s, p-&gt;age=%d\n&quot;</span>, p-&gt;name, p-&gt;age);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;(*p).name = %s, (*p).age=%d\n&quot;</span>, (*p).name,  (*p).age);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">free</span>(p);</span><br><span class="line">    p = <span class="literal">NULL</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="结构体套一级指针">3. 结构体套一级指针</h5>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 机构体类型的定义</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">stu</span> </span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="type">char</span> *name; <span class="comment">// 一级指针</span></span><br><span class="line">	<span class="type">int</span> age;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">stu</span> *<span class="title">p</span> =</span> <span class="literal">NULL</span>;</span><br><span class="line">    p = (<span class="keyword">struct</span> stu *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> stu));</span><br><span class="line">    </span><br><span class="line">    p-&gt;name = <span class="built_in">malloc</span>(<span class="built_in">strlen</span>(<span class="string">&quot;test&quot;</span>) + <span class="number">1</span>);</span><br><span class="line">    <span class="built_in">strcpy</span>(p-&gt;name, <span class="string">&quot;test&quot;</span>);</span><br><span class="line">    p-&gt;age = <span class="number">19</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;p-&gt;name = %s, p-&gt;age = %d\n&quot;</span>, p-&gt;name, p-&gt;age);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;(*p).name = %s, (*p).age=%d\n&quot;</span>, (*p).name, (*p).age);</span><br><span class="line">    <span class="keyword">if</span>(p-&gt;name != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">free</span>(p-&gt;name);</span><br><span class="line">        p-&gt;name = <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span>(p != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">free</span>(p);</span><br><span class="line">        p = <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="结构体做函数参数">9.1.8 结构体做函数参数</h4>
<h5 id="结构体普通变量做函数参数">1. 结构体普通变量做函数参数</h5>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 结构类型的定义</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">stu</span> </span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="type">char</span> name[<span class="number">50</span>];</span><br><span class="line">	<span class="type">int</span> age;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 函数参数为结构体普通变量</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">set_stu</span><span class="params">(<span class="keyword">struct</span> stu tmp)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">strcpy</span>(tmp.name, <span class="string">&quot;Tao&quot;</span>);</span><br><span class="line">    tmp.age = <span class="number">18</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;tmp.name = %s, tmp.age = %d\n&quot;</span>, tmp.name, tmp.age);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">stu</span> <span class="title">s</span> =</span> &#123;<span class="number">0</span>&#125;;</span><br><span class="line">    set_stu(s);	<span class="comment">// 值传递</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;s.name = %s, s.age = %d\n&quot;</span>, s.name, s.age);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="结构体指针变量做函数参数">2. 结构体指针变量做函数参数</h5>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 结构体类型的定义</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">stu</span> </span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="type">char</span> name[<span class="number">50</span>];</span><br><span class="line">	<span class="type">int</span> age;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">set_stu_pro</span><span class="params">(<span class="keyword">struct</span> stu *tmp)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">strcpy</span>(tmp-&gt;name, <span class="string">&quot;Tao&quot;</span>);</span><br><span class="line">	tmp-&gt;age = <span class="number">18</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">stu</span> <span class="title">s</span> =</span> &#123;<span class="number">0</span>&#125;;</span><br><span class="line">	set_stu_pro(&amp;s); <span class="comment">// 地址传递</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;s.name = %s, s.age = %d\n&quot;</span>, s.name, s.age);</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="const修饰结构体指针形参变量">4. const修饰结构体指针形参变量</h5>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 结构体类型的定义</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">stu</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="type">char</span> name[<span class="number">50</span>];</span><br><span class="line">	<span class="type">int</span> age;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">fun1</span><span class="params">(<span class="keyword">struct</span> stu * <span class="type">const</span> p)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//p = NULL; // err</span></span><br><span class="line">    p-&gt;age = <span class="number">18</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// void(struct stu const* p)</span></span><br><span class="line"><span class="type">void</span>(<span class="type">const</span> <span class="keyword">struct</span> stu * p)</span><br><span class="line">&#123;</span><br><span class="line">    p = <span class="literal">NULL</span>; <span class="comment">// ok</span></span><br><span class="line">    <span class="comment">// p-&gt;age = 10; //err</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">fun3</span><span class="params">(<span class="type">const</span> <span class="keyword">struct</span> stu * <span class="type">const</span> p)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">//p = NULL; //err</span></span><br><span class="line">	<span class="comment">//p-&gt;age = 10; //err</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="共用体联合体">9.2 共用体(联合体)</h3>
<ul>
<li>联合union是一个能在同一个存储空间存储不同类型数据的类型；</li>
<li>联合体所占的内存长度等于其最长成员的长度倍数，也有叫做共用体；</li>
<li>同一内存段可以用来存放几种不同类型的成员，但每一瞬时只有一种起作用；</li>
<li>共用体变量中起作用的成员是最后一次存放的成员，在存入一个新的成员后原有的成员的值会被覆盖；</li>
<li>共用体变量的地址和它的各成员的地址都是同一地址</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 共用体也叫联合体</span></span><br><span class="line"><span class="class"><span class="keyword">union</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">unsigned</span> <span class="type">char</span> a;</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">int</span> b;</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">short</span> c;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 定义共用体变量</span></span><br><span class="line">    <span class="class"><span class="keyword">union</span> <span class="title">Test</span> <span class="title">tmp</span>;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 1. 所有成员的首地址是一样的</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%p, %p, %p\n&quot;</span>, &amp;(tmp.a), &amp;(tmp.b), &amp;(tmp.c));</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//2、共用体大小为最大成员类型的大小</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%lu\n&quot;</span>, <span class="keyword">sizeof</span>(<span class="keyword">union</span> Test));</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 3、一个成员赋值，会影响另外的成员</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//左边是高位，右边是低位</span></span><br><span class="line">	<span class="comment">//低位放低地址，高位放高地址</span></span><br><span class="line">	tmp.b = <span class="number">0x44332211</span>;</span><br><span class="line">	</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%x\n&quot;</span>, tmp.a); <span class="comment">//11</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%x\n&quot;</span>, tmp.c); <span class="comment">//2211</span></span><br><span class="line"></span><br><span class="line">	tmp.a = <span class="number">0x00</span>;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;short: %x\n&quot;</span>, tmp.c); <span class="comment">//2200</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;int: %x\n&quot;</span>, tmp.b); <span class="comment">//44332200</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="枚举">9.3 枚举</h3>
<p>枚举：将变量的值一一列举出来，变量的值只限于列举出来的值的范围内。</p>
<p>枚举类型定义：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span>  枚举名</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	枚举值表</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<ul>
<li>在枚举值表中应列出所有可用值，也称为枚举元素</li>
<li>枚举值是常量，不能在程序中用赋值语句再对它赋值</li>
<li>举元素本身由系统定义了一个表示序号的数值从0开始顺序定义为0，1，2
…</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">weekday</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	sun = <span class="number">2</span>, mon, tue, wed, thu, fri, sat</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">bool</span> </span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="literal">false</span>, <span class="literal">true</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="class"><span class="keyword">enum</span> <span class="title">weekday</span> <span class="title">a</span>,<span class="title">b</span>,<span class="title">c</span>;</span></span><br><span class="line">	a = sun;</span><br><span class="line">	b = mon;</span><br><span class="line">	c = tue;</span><br><span class="line">	</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%d,%d,%d\n&quot;</span>, a, b, c);</span><br><span class="line">	</span><br><span class="line">	<span class="class"><span class="keyword">enum</span> <span class="title">bool</span> <span class="title">flag</span>;</span></span><br><span class="line">	flag = <span class="literal">true</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">if</span>(flag == <span class="number">1</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;flag为真\n&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Taoc:~/Desktop/C/<span class="number">9</span>$ ./<span class="number">9.3</span> </span><br><span class="line"><span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span></span><br><span class="line">flag为真</span><br></pre></td></tr></table></figure>
<h3 id="typedef">9.4 typedef</h3>
<p>typedef为C语言的关键字，作用是为一种数据类型(基本类型或自定义数据类型)定义一个新名字，<font color="red">不能创建新类型</font></p>
<ul>
<li>与<code>#define</code>不同，<code>typedef</code>仅限于数据类型，而不是能是表达式或具体的值</li>
<li><code>#define</code>发生在预处理，typedef发生在编译阶段</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> INT;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">char</span> BYTE;</span><br><span class="line"><span class="keyword">typedef</span> BYTE T_BYTE;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">unsigned</span> <span class="type">char</span> UBYTE;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">unsigned</span> <span class="title">char</span> <span class="title">UBYTE</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">type</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	UBYTE a;</span><br><span class="line">	INT b;</span><br><span class="line">	T_BYTE c;</span><br><span class="line">&#125;TYPE, *PTYPE;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	TYPE t;</span><br><span class="line">	t.a = <span class="number">254</span>;</span><br><span class="line">	t.b = <span class="number">10</span>;</span><br><span class="line">	t.c = <span class="string">&#x27;c&#x27;</span>;</span><br><span class="line"></span><br><span class="line">	PTYPE p = &amp;t;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%u, %d, %c\n&quot;</span>, p-&gt;a, p-&gt;b, p-&gt;c);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="文件操作">10. 文件操作</h2>
<h3 id="概述-5">10.1 概述</h3>
<h4 id="磁盘文件和设备文件">10.1.1磁盘文件和设备文件</h4>
<ul>
<li><p>磁盘文件</p>
<ul>
<li>指一组相关数据的有序集合,通常存储在外部介质(如磁盘)上，使用时才调入内存</li>
</ul></li>
<li><p>设备文件</p>
<ul>
<li>在操作系统中把每一个与主机相连的输入、输出设备看作是一个文件，把它们的输入、输出等同于对磁盘文件的读和写</li>
</ul></li>
</ul>
<h4 id="磁盘文件的分类">10.1.2 磁盘文件的分类</h4>
<p>计算机的存储在物理上是二进制的，所以物理上所有的磁盘文件本质上都是一样的：以字节为单位进行顺序存储</p>
<figure>
<img src="/img/loading.gif" data-original="https://cdn.jsdelivr.net/gh/Aubuty/picgoimage@main/img/202206010000920.jpg" alt="2016-06-06_150022">
<figcaption aria-hidden="true">2016-06-06_150022</figcaption>
</figure>
<p>从用户或者操作系统使用的角度（逻辑上）把文件分为：</p>
<ul>
<li><p>文本文件：基于字符编码的文件</p></li>
<li><p>二进制文件：基于值编码的文件</p></li>
</ul>
<h4 id="文本文件和二进制文件">10.1.3 文本文件和二进制文件</h4>
<h5 id="文本文件">1. 文本文件</h5>
<ul>
<li><p>基于字符编码，常见编码有ASCII、UNICODE等</p></li>
<li><p>一般可以使用文本编辑器直接打开</p></li>
<li><p>数5678的以ASCII存储形式(ASCII码)为：</p>
<p>00110101 00110110 00110111 00111000</p></li>
</ul>
<h5 id="二进制文件">2. 二进制文件</h5>
<ul>
<li>基于值编码,自己根据具体应用,指定某个值是什么意思</li>
<li>把内存中的数据按其在内存中的存储形式原样输出到磁盘上</li>
<li>数5678的存储形式(二进制码)为：</li>
<li>00010110 00101110</li>
</ul>
<h3 id="文件的打开和关闭">10.2 文件的打开和关闭</h3>
<h4 id="文件指针">10.2.1 文件指针</h4>
<p>在C语言中用一个指针变量指向一个文件，这个指针称为文件指针</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="type">short</span>           level;	<span class="comment">//缓冲区&quot;满&quot;或者&quot;空&quot;的程度 </span></span><br><span class="line">	<span class="type">unsigned</span>        flags;	<span class="comment">//文件状态标志 </span></span><br><span class="line">	<span class="type">char</span>            fd;		<span class="comment">//文件描述符</span></span><br><span class="line">	<span class="type">unsigned</span> <span class="type">char</span>   hold;	<span class="comment">//如无缓冲区不读取字符</span></span><br><span class="line">	<span class="type">short</span>           bsize;	<span class="comment">//缓冲区的大小</span></span><br><span class="line">	<span class="type">unsigned</span> <span class="type">char</span>   *buffer;<span class="comment">//数据缓冲区的位置 </span></span><br><span class="line">	<span class="type">unsigned</span>        ar;	 <span class="comment">//指针，当前的指向 </span></span><br><span class="line">	<span class="type">unsigned</span>        istemp;	<span class="comment">//临时文件，指示器</span></span><br><span class="line">	<span class="type">short</span>           token;	<span class="comment">//用于有效性的检查 </span></span><br><span class="line">&#125;FILE;</span><br></pre></td></tr></table></figure>
<p>FILE是系统使用typedef定义出来的有关文件信息的一种结构体类型，<font color="red">结构中含有文件名、文件状态和文件当前位置等信息</font></p>
<p>声明FILE结构体类型的信息包含在头文件“stdio.h”中，一般设置一个指向FILE类型变量的指针变量，然后通过它来引用这些FILE类型变量。通过文件指针就可对它所指的文件进行各种操作</p>
<figure>
<img src="/img/loading.gif" data-original="https://cdn.jsdelivr.net/gh/Aubuty/picgoimage@main/img/202206010000921.png" alt="图片1">
<figcaption aria-hidden="true">图片1</figcaption>
</figure>
<p>C语言中有三个特殊的文件指针由系统默认打开，<font color="red">用户无需定义即可直接使用:</font></p>
<ul>
<li><code>stdin</code>：标准输入，默认为当前终端（键盘），我们使用的scanf、getchar函数默认从此终端获得数据</li>
<li><code>stdout</code>:
标准输出，默认为当前终端（屏幕），我们使用的printf、puts函数默认输出信息到此终端</li>
<li><code>stderr</code>:
标准出错，默认为当前终端（屏幕），我们使用的perror函数默认输出信息到此终端</li>
</ul>
<h4 id="文件的打开">10.2.2 文件的打开</h4>
<p>任何文件使用之前必须打开：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line">FILE * <span class="title function_">fopen</span><span class="params">(<span class="type">const</span> <span class="type">char</span> * filename, <span class="type">const</span> <span class="type">char</span> * mode)</span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>功能：打开文件</p>
<p>参数：</p>
<p>​ filename：需要打开的文件名，根据需要加上路径</p>
<p>​ mode：打开文件的模式设置</p>
<p>返回值：</p>
<p>​ 成功：文件指针</p>
<p>​ 失败：NULL</p>
</blockquote>
<p>第一个参数的几种形式:</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">FILE *fp_passwd = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//相对路径：</span></span><br><span class="line"><span class="comment">//打开当前目录passdw文件：源文件(源程序)所在目录</span></span><br><span class="line">FILE *fp_passwd = fopen(<span class="string">&quot;passwd.txt&quot;</span>, <span class="string">&quot;r&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//打开当前目录(test)下passwd.txt文件</span></span><br><span class="line">fp_passwd = fopen(<span class="string">&quot;. / test / passwd.txt&quot;</span>, <span class="string">&quot;r&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//打开当前目录上一级目录（相对当前目录）passwd.txt文件</span></span><br><span class="line">fp_passwd = fopen(<span class="string">&quot;.. / passwd.txt&quot;</span>, <span class="string">&quot;r&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//绝对路径：</span></span><br><span class="line"><span class="comment">//打开C盘test目录下一个叫passwd.txt文件</span></span><br><span class="line">fp_passwd = fopen(<span class="string">&quot;c:/test/passwd.txt&quot;</span>,<span class="string">&quot;r&quot;</span>);</span><br></pre></td></tr></table></figure>
<p>第二个参数的几种形式(打开文件的方式)：</p>
<table>
<colgroup>
<col style="width: 16%">
<col style="width: 83%">
</colgroup>
<thead>
<tr class="header">
<th><strong>打开模式</strong></th>
<th><strong>含义</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>r或rb</td>
<td>以只读方式打开一个文本文件（不创建文件，若文件不存在则报错）</td>
</tr>
<tr class="even">
<td>w或wb</td>
<td>以写方式打开文件(如果文件存在则清空文件，文件不存在则创建一个文件)</td>
</tr>
<tr class="odd">
<td>a或ab</td>
<td>以追加方式打开文件，在末尾添加内容，若文件不存在则创建文件</td>
</tr>
<tr class="even">
<td>r+或rb+</td>
<td>以可读、可写的方式打开文件(不创建新文件)</td>
</tr>
<tr class="odd">
<td>w+或wb+</td>
<td>以可读、可写的方式打开文件(如果文件存在则清空文件，文件不存在则创建一个文件)</td>
</tr>
<tr class="even">
<td>a+或ab+</td>
<td>以添加方式打开可读、可写的文件。若文件不存在则创建文件；如果文件存在，则写入的数据会被加到文件尾后，即文件原先的内容会被保留。</td>
</tr>
</tbody>
</table>
<p>注意：</p>
<ul>
<li>b是二进制模式的意思，b只是在Windows有效，在Linux用r和rb的结果是一样的</li>
<li>Unix和Linux下所有的文本文件行都是，而Windows所有的文本文件行都是</li>
<li>在Windows平台下，以“文本”方式打开文件，不加b：
<ul>
<li>n 当读取文件的时候，系统会将所有的 "" 转换成 ""</li>
<li>当写入文件的时候，系统会将 "" 转换成 "" 写入</li>
<li><font color="red">n
以"二进制"方式打开文件，则读写都不会进行这样的转换</font></li>
</ul></li>
<li>在Unix/Linux平台下，“文本”与“二进制”模式没有区别，""
作为两个字符原样输入输出</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	FILE *fp = <span class="literal">NULL</span>;</span><br><span class="line">	<span class="comment">// &quot;\\&quot;这样的路径形式，只能在windows使用</span></span><br><span class="line">	<span class="comment">// &quot;/&quot;这样的路径形式，windows和linux平台下都可用，建议使用这种</span></span><br><span class="line">	<span class="comment">// 路径可以是相对路径，也可是绝对路径</span></span><br><span class="line">	fp = fopen(<span class="string">&quot;../test&quot;</span>, <span class="string">&quot;w&quot;</span>);</span><br><span class="line">	<span class="comment">// fp = fopen(&quot;..\\test&quot;, &quot;w&quot;);</span></span><br><span class="line">	<span class="keyword">if</span>(fp == <span class="literal">NULL</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">//perror()是标准出错打印函数，能打印调用库函数出错原因</span></span><br><span class="line">		perror(<span class="string">&quot;open&quot;</span>);</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="文件的关闭">10.2.3 文件的关闭</h4>
<p>任何文件在使用后应该关闭：</p>
<ul>
<li>打开的文件会占用内存资源，如果总是打开不关闭，会消耗很多内存</li>
<li>一个进程同时打开的文件数是有限制的，超过最大同时打开文件数，再次调用<code>fopen</code>打开文件会失败</li>
<li>如果没有明确的调用<code>fclose</code>关闭打开的文件，那么程序在退出的时候，操作系统会统一关闭</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">fclose</span><span class="params">(FILE * stream)</span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>功能：关闭先前fopen()打开的文件。此动作让缓冲区的数据写入文件中，并释放系统所提供的文件资源。</p>
<p>参数：</p>
<p>​ stream：文件指针</p>
<p>返回值：</p>
<p>​ 成功：0</p>
<p>​ 失败：-1</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">FILE * fp = <span class="literal">NULL</span>;</span><br><span class="line">fp = fopen(<span class="string">&quot;abc.txt&quot;</span>, <span class="string">&quot;r&quot;</span>);</span><br><span class="line">fclose(fp);</span><br></pre></td></tr></table></figure>
<h3 id="文件的顺序读写">10.3 文件的顺序读写</h3>
<h4 id="按照字符读写文件fgetcfputc">10.3.1
按照字符读写文件fgetc、fputc</h4>
<h5 id="写文件">1. 写文件</h5>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">fputc</span><span class="params">(<span class="type">int</span> ch, FILE * stream)</span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>功能：将ch转换为unsigned char后写入stream指定的文件中</p>
<p>参数：</p>
<p>​ ch：需要写入文件的字符</p>
<p>​ stream：文件指针</p>
<p>返回值：</p>
<p>​ 成功：成功写入文件的字符</p>
<p>​ 失败：返回-1</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> buf[] = <span class="string">&quot;My name is Tao.&quot;</span>;</span><br><span class="line"><span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="type">int</span> n = <span class="built_in">strlen</span>(buf);</span><br><span class="line"><span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">// 往文件fp写入符buf[i]</span></span><br><span class="line">	<span class="type">int</span> ch = fputc(buf[i], fp);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;ch = %c\n&quot;</span>, ch);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="文件结尾">2. 文件结尾</h5>
<p>在C语言中，EOF表示文件结束符(end of
file)。在while循环中以EOF作为文件结束标志，<font color="red">这种以EOF作为文件结束标志的文件，必须是文本文件。</font>在文本文件中，数据都是以字符的ASCII代码值的形式存放。我们知道，ASCII代码值的范围是0~127，不可能出现-1，因此可以用EOF作为文件结束标志</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> EOF    (-1)</span></span><br></pre></td></tr></table></figure>
<p>当把数据以二进制形式存放到文件中时，就会有-1值的出现，因此不能采用EOF作为二进制文件的结束标志。为解决这一个问题，ANSI
C提供一个feof函数，用来判断文件是否结束。<font color="red">feof函数既可用以判断二进制文件又可用以判断文本文件</font></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">feof</span><span class="params">(FILE * stream)</span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>功能：检测是否读取到了文件结尾。<font color="red">判断的是最后一次“读操作的内容”，不是当前位置内容(上一个内容)。</font></p>
<p>参数：</p>
<p>​ stream：文件指针</p>
<p>返回值：</p>
<p>​ 非0值：已经到文件结尾</p>
<p>​ 0：没有到文件结尾</p>
</blockquote>
<h5 id="读文件">3. 读文件</h5>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">fgetc</span><span class="params">(FILE * stream)</span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>功能：从stream指定的文件中读取一个字符</p>
<p>参数：</p>
<p>​ stream：文件指针</p>
<p>返回值：</p>
<p>​ 成功：返回读取到的字符</p>
<p>​ 失败：-1</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> ch;</span><br><span class="line"><span class="meta">#<span class="keyword">if</span> 0</span></span><br><span class="line"><span class="keyword">while</span>((ch = fgetc(fp)) != EOF)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>, ch);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span>(!feop(fp)) <span class="comment">//文件没有结束，则执行循环</span></span><br><span class="line">&#123;</span><br><span class="line">	ch = fgetc(fp);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>, ch);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br></pre></td></tr></table></figure>
<h4 id="按照行读写文件fgetsfputs">10.3.2 按照行读写文件fgets、fputs</h4>
<h5 id="写文件-1">1. 写文件</h5>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">fputs</span><span class="params">(<span class="type">const</span> <span class="type">char</span> * str, FILE * stream)</span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>功能：将str所指定的字符串写入到stream指定的文件中，字符串结束符
'<code>\0</code>' 不写入文件。</p>
<p>参数：</p>
<p>​ str：字符串</p>
<p>​ stream：文件指针</p>
<p>返回值：</p>
<p>​ 成功：0</p>
<p>​ 失败：-1</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> *buf[] = &#123; <span class="string">&quot;123456\n&quot;</span>, <span class="string">&quot;bbbbbbbbbb\n&quot;</span>, <span class="string">&quot;ccccccccccc\n&quot;</span> &#125;;</span><br><span class="line"><span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="type">int</span> n = <span class="number">3</span>;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> len = <span class="built_in">fputs</span>(buf[i], fp);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;len = %d\n&quot;</span>, len);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="读文件-1">2. 读文件</h5>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">char</span> * <span class="title function_">fgets</span><span class="params">(<span class="type">char</span> * str, <span class="type">int</span> size, FILE * stream)</span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>功能：从stream指定的文件内读入字符，保存到str所指定的内存空间，直到出现换行字符、读到文件结尾或是已读了size
- 1个字符为止，最后会自动加上字符 '\0' 作为字符串结束。</p>
<p>参数：</p>
<p>​ str：字符串</p>
<p>​ size：指定最大读取字符串的长度（size - 1）</p>
<p>​ stream：文件指针</p>
<p>返回值：</p>
<p>​ 成功：成功读取的字符串</p>
<p>​ 读到文件尾或出错： NULL</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> buf[<span class="number">100</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line"><span class="keyword">while</span>(!feof(fp))</span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">memset</span>(buf, <span class="number">0</span>, <span class="keyword">sizeof</span>(buf));</span><br><span class="line">	<span class="type">char</span> *p = gets(buf, <span class="keyword">sizeof</span>(buf), fp);</span><br><span class="line">	<span class="keyword">if</span>(p != <span class="literal">NULL</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;buf = %s&quot;</span>, buf);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="强化训练文件版四则运算">3. 强化训练：文件版四则运算</h4>
<p>有个文件大小不确定，每行内容都是一个四则运算表达式，还没有算出结果，写一个程序，自动算出其结果后修改文件</p>
<figure>
<img src="/img/loading.gif" data-original="https://cdn.jsdelivr.net/gh/Aubuty/picgoimage@main/img/202206010000922.jpg" alt="2016-06-06_172151">
<figcaption aria-hidden="true">2016-06-06_172151</figcaption>
</figure>
<h4 id="按照格式化文件fprintffscanf">10.3.3
按照格式化文件fprintf、fscanf</h4>
<h5 id="写文件-2">1. 写文件</h5>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">fprintf</span><span class="params">(FILE * stream, <span class="type">const</span> <span class="type">char</span> * format, ...)</span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>功能：根据参数format字符串来转换并格式化数据，然后将结果输出到stream指定的文件中，指定出现字符串结束符
'\0' 为止。</p>
<p>参数：</p>
<p>​ stream：已经打开的文件</p>
<p>​ format：字符串格式，用法和printf()一样</p>
<p>返回值：</p>
<p>​ 成功：实际写入文件的字符个数</p>
<p>​ 失败：-1</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">fprintf</span>(fp, <span class="string">&quot;%d %d %d\n&quot;</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);</span><br></pre></td></tr></table></figure>
<h5 id="读文件-2">2. 读文件</h5>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">fscanf</span><span class="params">(FILE * stream, <span class="type">const</span> <span class="type">char</span> * format, ...)</span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>功能：从stream指定的文件读取字符串，并根据参数format字符串来转换并格式化数据。</p>
<p>参数：</p>
<p>​ stream：已经打开的文件</p>
<p>​ format：字符串格式，用法和scanf()一样</p>
<p>返回值：</p>
<p>​ 成功：参数数目，成功转换的值的个数</p>
<p>​ 失败： - 1</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a = <span class="number">0</span>;</span><br><span class="line"><span class="type">int</span> b = <span class="number">0</span>;</span><br><span class="line"><span class="type">int</span> c = <span class="number">0</span>;</span><br><span class="line"><span class="built_in">fscanf</span>(fp, <span class="string">&quot;%d %d %d\n&quot;</span>, &amp;a, &amp;b, &amp;c);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;a = %d, b = %d, c = %d\n&quot;</span>, a, b, c);</span><br></pre></td></tr></table></figure>
<figure>
<img src="/img/loading.gif" data-original="https://cdn.jsdelivr.net/gh/Aubuty/picgoimage@main/img/202206010000923.jpg" alt="2016-06-06_173443">
<figcaption aria-hidden="true">2016-06-06_173443</figcaption>
</figure>
<h4 id="按照块读写文件freadfwrite">10.3.4
按照块读写文件fread、fwrite</h4>
<h5 id="写文件-3">1. 写文件</h5>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">size_t</span> <span class="title function_">fwrite</span><span class="params">(<span class="type">const</span> <span class="type">void</span> *ptr, <span class="type">size_t</span> size, <span class="type">size_t</span> nmemb, FILE *stream)</span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>功能：以数据块的方式给文件写入内容</p>
<p>参数：</p>
<p>​ ptr：准备写入文件数据的地址</p>
<p>​ size： size_t 为 unsigned
int类型，此参数指定写入文件内容的块数据大小</p>
<p>​ nmemb：写入文件的块数，写入文件数据总大小为：size * nmemb</p>
<p>​ stream：已经打开的文件指针</p>
<p>返回值：</p>
<p>​ 成功：实际成功写入文件数据的块数目，此值和 nmemb 相等</p>
<p>​ 失败：0</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Stu</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="type">char</span> name[<span class="number">50</span>];</span><br><span class="line">	<span class="type">int</span> id; </span><br><span class="line">&#125;Stu;</span><br><span class="line"></span><br><span class="line">Stu s[<span class="number">3</span>];</span><br><span class="line"><span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">sprintf</span>(s[i].name, <span class="string">&quot;stu%d%d%d&quot;</span>, i, i, i);</span><br><span class="line">    s[i].id = i + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> ret = fwrite(s, <span class="keyword">sizeof</span>(Stu), <span class="number">3</span>, fp);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;ret = %d\n&quot;</span>, ret);</span><br></pre></td></tr></table></figure>
<h5 id="读文件-3">2. 读文件</h5>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">size_t</span> <span class="title function_">fread</span><span class="params">(<span class="type">void</span> *ptr, <span class="type">size_t</span> size, <span class="type">size_t</span> nmemb, FILE *stream)</span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>功能：以数据块的方式从文件中读取内容</p>
<p>参数：</p>
<p>​ ptr：存放读取出来数据的内存空间</p>
<p>​ size： size_t 为 unsigned
int类型，此参数指定读取文件内容的块数据大小</p>
<p>​ nmemb：读取文件的块数，读取文件数据总大小为：size * nmemb</p>
<p>​ stream：已经打开的文件指针</p>
<p>返回值：</p>
<p>​
成功：实际成功读取到内容的块数，如果此值比nmemb小，但大于0，说明读到文件的结尾。</p>
<p>​ 失败：0</p>
<p>​ 0: 表示读到文件结尾。(feof())</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Stu</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="type">char</span> name[<span class="number">50</span>];</span><br><span class="line">    <span class="type">int</span> id;</span><br><span class="line">&#125;Stu;</span><br><span class="line"></span><br><span class="line">Stu s[<span class="number">3</span>];</span><br><span class="line"><span class="type">int</span> ret = fread(s, <span class="keyword">sizeof</span>(Stu), <span class="number">3</span>, fp);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;ret = %d\n&quot;</span>, ret);</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;s = %s, %d\n&quot;</span>, s[i].name, s[i].id);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="文件的随机读写">10.4 文件的随机读写</h3>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">fseek</span><span class="params">(FILE *stream, <span class="type">long</span> offset, <span class="type">int</span> whence)</span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>功能：移动文件流（文件光标）的读写位置。</p>
<p>参数：</p>
<p>​ stream：已经打开的文件指针</p>
<p>offset：根据whence来移动的位移数（偏移量），可以是正数，也可以负数，如果正数，则相对于whence往右移动，如果是负数，则相对于whence往左移动。如果向前移动的字节数超过了文件开头则出错返回，如果向后移动的字节数超过了文件末尾，再次写入时将增大文件尺寸。</p>
<p>​ whence：其取值如下：</p>
<p>​ SEEK_SET：从文件开头移动offset个字节</p>
<p>​ SEEK_CUR：从当前位置移动offset个字节</p>
<p>​ SEEK_END：从文件末尾移动offset个字节</p>
<p>返回值：</p>
<p>​ 成功：0</p>
<p>​ 失败：-1</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">long</span> <span class="title function_">ftell</span><span class="params">(FILE *stream)</span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>功能：获取文件流（文件光标）的读写位置。</p>
<p>参数：</p>
<p>​ stream：已经打开的文件指针</p>
<p>返回值：</p>
<p>​ 成功：当前文件流（文件光标）的读写位置</p>
<p>​ 失败：-1</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">void</span> <span class="title function_">rewind</span><span class="params">(FILE *stream)</span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>功能：把文件流（文件光标）的读写位置移动到文件开头。</p>
<p>参数：</p>
<p>​ stream：已经打开的文件指针</p>
<p>返回值：</p>
<p>​ 无返回值</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Stu</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="type">char</span> name[<span class="number">50</span>];</span><br><span class="line">	<span class="type">int</span> id;</span><br><span class="line">&#125;Stu;</span><br><span class="line"></span><br><span class="line"><span class="comment">//假如已经往文件写入3个结构体</span></span><br><span class="line"><span class="comment">//fwrite(s, sizeof(Stu), 3, fp);</span></span><br><span class="line">Stu s[<span class="number">3</span>];</span><br><span class="line">Stu tmp; </span><br><span class="line"><span class="type">int</span> ret = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//文件光标读写位置从开头往右移动2个结构体的位置</span></span><br><span class="line">fseek(fp, <span class="number">2</span> * <span class="keyword">sizeof</span>(Stu), SEEK_SET);</span><br><span class="line"></span><br><span class="line"><span class="comment">//读第3个结构体</span></span><br><span class="line">ret = fread(&amp;tmp, <span class="keyword">sizeof</span>(Stu), <span class="number">1</span>, fp);</span><br><span class="line"><span class="keyword">if</span> (ret == <span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;[tmp]%s, %d\n&quot;</span>, tmp.name, tmp.id);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//把文件光标移动到文件开头</span></span><br><span class="line"><span class="comment">//fseek(fp, 0, SEEK_SET);</span></span><br><span class="line">rewind(fp);</span><br><span class="line"></span><br><span class="line">ret = fread(s, <span class="keyword">sizeof</span>(Stu), <span class="number">3</span>, fp);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;ret = %d\n&quot;</span>, ret);</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;s === %s, %d\n&quot;</span>, s[i].name, s[i].id);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="windows和linux文本文件区别">10.5 Windows和Linux文本文件区别</h3>
<ul>
<li>b是二进制模式的意思，b只是在Windows有效，在Linux用r和rb的结果是一样的</li>
<li>Unix和Linux下所有的文本文件行都是，而Windows所有的文本文件行都是</li>
<li>在Windows平台下，以“文本”方式打开文件，不加b：
<ul>
<li>n 当读取文件的时候，系统会将所有的 "" 转换成 ""</li>
<li>n 当写入文件的时候，系统会将 "" 转换成 "" 写入</li>
<li><font color="red">n 以"二进制"方式打开文件，则读</font></li>
</ul></li>
<li>在Unix/Linux平台下，“文本”与“二进制”模式没有区别，""
作为两个字符原样输入输出</li>
</ul>
<p>判断文本文件是Linux格式还是Windows格式:</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> **args)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(argc &lt; <span class="number">2</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    FILE *p = fopen(args[<span class="number">1</span>], <span class="string">&quot;rb&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span>(!p)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">char</span> a[<span class="number">1024</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">    fgets(a, <span class="keyword">sizeof</span>(a),p);</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> len = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(a[len])</span><br><span class="line">    &#123;</span><br><span class="line">       	<span class="keyword">if</span>(a[len] == <span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(a[len - <span class="number">1</span>] == <span class="string">&#x27;\r&#x27;</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;windows file\n&quot;</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;linux file\n&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    fclose(p);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="获取文件状态">10.6 获取文件状态</h3>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xxxxxxxxxx <span class="meta">#<span class="keyword">include</span> <span class="string">&lt;sys/types.h&gt;</span>#<span class="keyword">include</span> <span class="string">&lt;sys/stat.h&gt;</span>int stat(const char *path, struct stat *buf);</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>功能：获取文件状态信息</p>
<p>参数：</p>
<p>​ path：文件名</p>
<p>​ buf：保存文件信息的结构体</p>
<p>返回值：</p>
<p>​ 成功：0</p>
<p>​ 失败-1</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">stat</span> &#123;</span></span><br><span class="line">	<span class="type">dev_t</span>         st_dev;         <span class="comment">//文件的设备编号</span></span><br><span class="line">	<span class="type">ino_t</span>         st_ino;          <span class="comment">//节点</span></span><br><span class="line">	<span class="type">mode_t</span>        st_mode;   <span class="comment">//文件的类型和存取的权限</span></span><br><span class="line">	<span class="type">nlink_t</span>       st_nlink;     <span class="comment">//连到该文件的硬连接数目，刚建立的文件值为1</span></span><br><span class="line">	<span class="type">uid_t</span>         st_uid;         <span class="comment">//用户ID</span></span><br><span class="line">	<span class="type">gid_t</span>         st_gid;         <span class="comment">//组ID</span></span><br><span class="line">	<span class="type">dev_t</span>         st_rdev;      <span class="comment">//(设备类型)若此文件为设备文件，则为其设备编号</span></span><br><span class="line">	<span class="type">off_t</span>         st_size;        <span class="comment">//文件字节数(文件大小)</span></span><br><span class="line">	<span class="type">unsigned</span> <span class="type">long</span> st_blksize;   <span class="comment">//块大小(文件系统的I/O 缓冲区大小)</span></span><br><span class="line">	<span class="type">unsigned</span> <span class="type">long</span> st_blocks;    <span class="comment">//块数</span></span><br><span class="line">	<span class="type">time_t</span>        st_atime;     <span class="comment">//最后一次访问时间</span></span><br><span class="line">	<span class="type">time_t</span>        st_mtime;    <span class="comment">//最后一次修改时间</span></span><br><span class="line">	<span class="type">time_t</span>        st_ctime;     <span class="comment">//最后一次改变时间(指属性)</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;sys/types.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;sys/stat.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> **args)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">if</span>(argc &lt; <span class="number">2</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">stat</span> <span class="title">at</span> =</span> &#123; <span class="number">0</span> &#125;;</span><br><span class="line">    stat(args[<span class="number">1</span>], &amp;st);</span><br><span class="line">    <span class="type">int</span> size = st.st_size;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, size);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="删除文件重命名文件名">10.7 删除文件、重命名文件名</h3>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">remove</span><span class="params">(<span class="type">const</span> <span class="type">char</span> *pathname)</span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>功能：删除文件</p>
<p>参数：</p>
<p>​ pathname：文件名</p>
<p>返回值：</p>
<p>​ 成功：0</p>
<p>​ 失败：-1</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">rename</span><span class="params">(<span class="type">const</span> <span class="type">char</span> *oldpath, <span class="type">const</span> <span class="type">char</span> *newpath)</span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>功能：把oldpath的文件名改为newpath</p>
<p>参数：</p>
<p>oldpath：旧文件名</p>
<p>newpath：新文件名</p>
<p>返回值：</p>
<p>成功：0</p>
<p>失败： - 1</p>
</blockquote>
<h3 id="文件缓冲区">10.8 文件缓冲区</h3>
<h4 id="文件缓冲区-1">10.8.1 文件缓冲区</h4>
<p>ANSI C标准采用“缓冲文件系统”处理数据文件。</p>
<p>所谓缓冲文件系统是指系统自动地在内存区为程序中每一个正在使用的文件开辟一个文件缓冲区从内存向磁盘输出数据必须先送到内存中的缓冲区，装满缓冲区后才一起送到磁盘去。</p>
<p>如果从磁盘向计算机读入数据，则一次从磁盘文件将一批数据输入到内存缓冲区(充满缓冲区)，然后再从缓冲区逐个地将数据送到程序数据区(给程序变量)
。</p>
<h4 id="磁盘文件的存取">10.8.2 磁盘文件的存取</h4>
<figure>
<img src="/img/loading.gif" data-original="https://cdn.jsdelivr.net/gh/Aubuty/picgoimage@main/img/202206010000924.jpg" alt="2016-06-06_182106">
<figcaption aria-hidden="true">2016-06-06_182106</figcaption>
</figure>
<ul>
<li>磁盘文件，一般保存在硬盘、U盘等掉电不丢失的磁盘设备中，在需要时调入内存</li>
<li>在内存中对文件进行编辑处理后，保存到磁盘中</li>
<li>程序与磁盘之间交互，不是立即完成，系统或程序可根据需要设置缓冲区，以提高存取效率</li>
</ul>
<h4 id="更新缓冲区">10.8.3更新缓冲区</h4>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">fflush</span><span class="params">(FILE *stream)</span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>功能：更新缓冲区，让缓冲区的数据立马写到文件中。</p>
<p>参数：</p>
<p>​ stream：文件指针</p>
<p>返回值：</p>
<p>​ 成功：0</p>
<p>​ 失败：-1</p>
</blockquote>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="https://aubuty.top">小刘同学</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://aubuty.top/posts/4447.html">https://aubuty.top/posts/4447.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://aubuty.top" target="_blank">小刘同学</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/C-C/">C/C++</a></div><div class="post_share"><div class="social-share" data-image="https://alex-tyimg.oss-cn-huhehaote.aliyuncs.com/A5.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://unpkg.com/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://unpkg.com/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/35134.html" title="初识Python"><img class="cover" src="/img/loading.gif" data-original="https://alex-tyimg.oss-cn-huhehaote.aliyuncs.com/a4.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">初识Python</div></div></a></div><div class="next-post pull-right"><a href="/posts/58900.html" title="Java线程"><img class="cover" src="/img/loading.gif" data-original="https://alex-tyimg.oss-cn-huhehaote.aliyuncs.com/a2.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Java线程</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/posts/21238.html" title="冒泡排序"><img class="cover" src="/img/loading.gif" data-original="https://alex-tyimg.oss-cn-huhehaote.aliyuncs.com/9561.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-05-31</div><div class="title">冒泡排序</div></div></a></div><div><a href="/posts/51227.html" title="斐波那契数列"><img class="cover" src="/img/loading.gif" data-original="https://alex-tyimg.oss-cn-huhehaote.aliyuncs.com/A10.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-05-31</div><div class="title">斐波那契数列</div></div></a></div><div><a href="/posts/51203.html" title="选择排序"><img class="cover" src="/img/loading.gif" data-original="https://alex-tyimg.oss-cn-huhehaote.aliyuncs.com/12.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-05-31</div><div class="title">选择排序</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="waline-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/loading.gif" data-original="https://alex-tyimg.oss-cn-huhehaote.aliyuncs.com/v2-26f75c5243e4b44946d95fb69b49f8c1_r.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">小刘同学</div><div class="author-info__description">比你优秀的人都在学习,你怎么可以停下</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">46</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">42</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">15</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Aubuty"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://gitee.com/aubuty" target="_blank" title="Gitee"><i class="fab fa-github"></i></a><a class="social-icon" href="https://blog.csdn.net/weixin_44825347?spm=1000.2115.3001.5343" target="_blank" title="CSDN"><i class="fa fa-book-open"></i></a><a class="social-icon" href="mailto:262220478@qq.com" target="_blank" title="Email"><i class="fas fa-envelope-open-text"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">今日事❤️今日毕</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#c%E8%AF%AD%E8%A8%80%E7%AC%94%E8%AE%B0"><span class="toc-text">C语言笔记</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#c%E8%AF%AD%E8%A8%80%E6%A6%82%E8%BF%B0"><span class="toc-text">1. C语言概述</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#c%E8%AF%AD%E8%A8%80"><span class="toc-text">1.1 C语言</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%93%E6%9E%84%E7%BB%84%E6%88%90"><span class="toc-text">1.1.1 计算机结构组成</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E5%AD%A6c%E8%AF%AD%E8%A8%80"><span class="toc-text">1.2 为什么学C语言</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#c%E8%AF%AD%E8%A8%80%E7%89%B9%E7%82%B9"><span class="toc-text">1.2.1 C语言特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%A6%E4%B9%A0c%E8%AF%AD%E8%A8%80%E7%90%86%E7%94%B1"><span class="toc-text">1.2.2 学习C语言理由</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#c%E8%AF%AD%E8%A8%80%E5%BA%94%E7%94%A8%E9%A2%86%E5%9F%9F"><span class="toc-text">1.2.3 C语言应用领域</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#c%E8%AF%AD%E8%A8%80%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-text">1.2.4 C语言关键字</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E4%B8%AAc%E8%AF%AD%E8%A8%80%E7%A8%8B%E5%BA%8Fhelloworld"><span class="toc-text">1.3 第一个C语言程序：HelloWorld</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BC%96%E5%86%99c%E8%AF%AD%E8%A8%80%E4%BB%A3%E7%A0%81hello.c"><span class="toc-text">1.3.1 编写C语言代码：hello.c</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%9A%E8%BF%87gcc%E7%BC%96%E8%AF%91c%E4%BB%A3%E7%A0%81"><span class="toc-text">1.3.2 通过gcc编译C代码</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#windows%E5%B9%B3%E5%8F%B0%E4%B8%8Bgcc%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE"><span class="toc-text">2. Windows平台下gcc环境配置</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#linux%E5%B9%B3%E5%8F%B0%E4%B8%8Bgcc%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE"><span class="toc-text">3. linux平台下gcc环境配置</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E5%88%86%E6%9E%90"><span class="toc-text">1.3.3 代码分析</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#include%E5%A4%B4%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB"><span class="toc-text">1. include头文件包含</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#main%E5%87%BD%E6%95%B0"><span class="toc-text">2. main函数</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8B%AC%E5%8F%B7%E7%A8%8B%E5%BA%8F%E4%BD%93%E5%92%8C%E4%BB%A3%E7%A0%81%E5%9D%97"><span class="toc-text">3. {} 括号，程序体和代码块</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B3%A8%E9%87%8A"><span class="toc-text">4. 注释</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#printf%E5%87%BD%E6%95%B0"><span class="toc-text">5. printf函数</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#return%E8%AF%AD%E5%8F%A5"><span class="toc-text">6. return语句</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#system%E5%87%BD%E6%95%B0"><span class="toc-text">1.4 system函数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#system%E5%87%BD%E6%95%B0%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-text">1.4.1 system函数的使用</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#c%E8%AF%AD%E8%A8%80%E7%BC%96%E8%AF%91%E8%BF%87%E7%A8%8B"><span class="toc-text">1.5 C语言编译过程</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#c%E7%A8%8B%E5%BA%8F%E7%BC%96%E8%AF%91%E6%AD%A5%E9%AA%A4"><span class="toc-text">1.5.1 C程序编译步骤</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#gcc-%E7%BC%96%E8%AF%91%E8%BF%87%E7%A8%8B"><span class="toc-text">1.5.2 gcc 编译过程</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%86%E6%AD%A5%E7%BC%96%E8%AF%91"><span class="toc-text">1. 分步编译</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%80%E6%AD%A5%E7%BC%96%E8%AF%91"><span class="toc-text">2. 一步编译</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E6%89%BE%E7%A8%8B%E5%BA%8F%E6%89%80%E4%BE%9D%E8%B5%96%E7%9A%84%E5%8A%A8%E6%80%81%E5%BA%93"><span class="toc-text">1.5.3 查找程序所依赖的动态库</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#cpu%E5%86%85%E9%83%A8%E7%BB%93%E6%9E%84%E4%B8%8E%E5%AF%84%E5%AD%98%E5%99%A8%E4%BA%86%E8%A7%A3"><span class="toc-text">1.6 CPU内部结构与寄存器(了解)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%8D%E5%92%8C32%E4%BD%8D%E7%B3%BB%E7%BB%9F%E5%8C%BA%E5%88%AB"><span class="toc-text">1.6.1 64位和32位系统区别</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%84%E5%AD%98%E5%99%A8%E5%90%8D%E5%AD%97%E4%BA%86%E8%A7%A3"><span class="toc-text">1.6.2 寄存器名字(了解)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%84%E5%AD%98%E5%99%A8%E7%BC%93%E5%AD%98%E5%86%85%E5%AD%98%E4%B8%89%E8%80%85%E5%85%B3%E7%B3%BB"><span class="toc-text">1.6.3 寄存器、缓存、内存三者关系</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80"><span class="toc-text">1.7 汇编语言</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#vs%E4%B8%ADc%E8%AF%AD%E8%A8%80%E5%B5%8C%E5%A5%97%E6%B1%87%E7%BC%96%E4%BB%A3%E7%A0%81%E4%BA%86%E8%A7%A3"><span class="toc-text">1.7.1
VS中C语言嵌套汇编代码(了解)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#vs%E5%8F%8D%E7%BC%96%E8%AF%91"><span class="toc-text">1.7.2 VS反编译</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9B%86%E6%88%90%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83ide"><span class="toc-text">1.8 集成开发环境IDE</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#qt-creator"><span class="toc-text">1.8.1 Qt Creator</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#microsoft-visual-studio"><span class="toc-text">1.8.2 Microsoft Visual Studio</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#vs%E5%B8%B8%E7%94%A8%E5%BF%AB%E6%8D%B7%E9%94%AE"><span class="toc-text">1. VS常用快捷键</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#vs2013%E7%9A%84c4996%E9%94%99%E8%AF%AF"><span class="toc-text">2. VS2013的C4996错误</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-text">2. 数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E9%87%8F%E4%B8%8E%E5%8F%98%E9%87%8F"><span class="toc-text">2.1 常量与变量</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-text">2.1.1 关键字</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B-1"><span class="toc-text">2.1.2 数据类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E9%87%8F"><span class="toc-text">2.1.3 常量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%98%E9%87%8F"><span class="toc-text">2.1.4 变量</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8F%98%E9%87%8F-1"><span class="toc-text">1. 变量</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A3%B0%E6%98%8E%E5%92%8C%E5%AE%9A%E4%B9%89%E5%8C%BA%E5%88%AB"><span class="toc-text">2. 声明和定义区别</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B"><span class="toc-text">2.1.5 使用示例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B4%E6%95%B0int"><span class="toc-text">2.2 整数：int</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B4%E5%9E%8B%E5%8F%98%E9%87%8F%E7%9A%84%E5%AE%9A%E4%B9%89%E5%92%8C%E8%BE%93%E5%87%BA"><span class="toc-text">2.2.1 整型变量的定义和输出</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B4%E5%9E%8B%E5%8F%98%E9%87%8F%E7%9A%84%E8%BE%93%E5%85%A5"><span class="toc-text">2.2.2 整型变量的输入</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#shortintlonglong-long"><span class="toc-text">2.2.3 short、int、long、long long</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%89%E7%AC%A6%E5%8F%B7%E6%95%B0%E5%92%8C%E6%97%A0%E7%AC%A6%E5%8F%B7%E6%95%B0%E5%8C%BA%E5%88%AB"><span class="toc-text">2.2.4 有符号数和无符号数区别</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9C%89%E7%AC%A6%E5%8F%B7%E6%95%B0"><span class="toc-text">1. 有符号数</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%97%A0%E7%AC%A6%E5%8F%B7%E6%95%B0"><span class="toc-text">2. 无符号数</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9C%89%E7%AC%A6%E5%8F%B7%E5%92%8C%E6%97%A0%E7%AC%A6%E5%8F%B7%E6%95%B4%E5%9E%8B%E5%8F%96%E5%80%BC%E8%8C%83%E5%9B%B4"><span class="toc-text">3. 有符号和无符号整型取值范围</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sizeof-%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-text">2.3 sizeof 关键字</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E5%9E%8Bchar"><span class="toc-text">2.4 字符型：char</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E5%8F%98%E9%87%8F%E7%9A%84%E5%AE%9A%E4%B9%89%E5%92%8C%E8%BE%93%E5%87%BA"><span class="toc-text">2.4.1 字符变量的定义和输出</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E5%8F%98%E9%87%8F%E7%9A%84%E8%BE%93%E5%85%A5"><span class="toc-text">2.4.2 字符变量的输入</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ascii-%E5%AF%B9%E7%85%A7%E8%A1%A8"><span class="toc-text">2.4.3 ASCII 对照表</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BD%AC%E4%B9%89%E5%AD%97%E7%AC%A6"><span class="toc-text">2.4.4 转义字符</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E5%9E%8B%E6%B5%AE%E7%82%B9%E5%9E%8Bfloatdouble"><span class="toc-text">2.5 实型(浮点型)：float、double</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9B%E5%88%B6"><span class="toc-text">2.6 进制</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8C%E8%BF%9B%E5%88%B6"><span class="toc-text">2.6.1 二进制</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%AB%E8%BF%9B%E5%88%B6"><span class="toc-text">2.6.2 八进制</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%81%E5%85%AD%E8%BF%9B%E5%88%B6"><span class="toc-text">2.6.3 十六进制</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#c%E8%AF%AD%E8%A8%80%E5%A6%82%E4%BD%95%E8%A1%A8%E7%A4%BA%E7%9B%B8%E5%BA%94%E8%BF%9B%E5%88%B6%E6%95%B0"><span class="toc-text">2.6.4 C语言如何表示相应进制数</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%86%85%E5%AD%98%E6%95%B0%E5%80%BC%E5%AD%98%E5%82%A8%E6%96%B9%E5%BC%8F"><span class="toc-text">2.7 计算机内存数值存储方式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8E%9F%E7%A0%81"><span class="toc-text">2.7.1 原码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%8D%E7%A0%81"><span class="toc-text">2.7.2 反码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A1%A5%E7%A0%81"><span class="toc-text">2.7.3 补码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A1%A5%E7%A0%81%E7%9A%84%E6%84%8F%E4%B9%89"><span class="toc-text">2.7.4 补码的意义</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E5%80%BC%E6%BA%A2%E5%87%BA"><span class="toc-text">2.7.5 数值溢出</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E9%99%90%E5%AE%9A%E7%AC%A6"><span class="toc-text">2.8 类型限定符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%A0%BC%E5%BC%8F%E5%8C%96%E8%BE%93%E5%87%BA%E5%92%8C%E8%BE%93%E5%85%A5"><span class="toc-text">2.9 字符串格式化输出和输入</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%B8%B8%E9%87%8F"><span class="toc-text">2.9.1 字符串常量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#printf%E5%87%BD%E6%95%B0%E5%92%8Cputchar%E5%87%BD%E6%95%B0"><span class="toc-text">2.9.2 printf函数和putchar函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#scanf%E5%87%BD%E6%95%B0%E4%B8%8Egetchar%E5%87%BD%E6%95%B0"><span class="toc-text">2.9.3 scanf函数与getchar函数</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6%E4%B8%8E%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-text">3. 运算符与表达式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E8%BF%90%E7%AE%97%E7%AC%A6%E5%88%86%E7%B1%BB"><span class="toc-text">3.1 常用运算符分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">3.2 算术运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B5%8B%E5%80%BC%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">3.3 赋值运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AF%94%E8%BE%83%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">3.4 比较运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">3.5 逻辑运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6%E4%BC%98%E5%85%88%E7%BA%A7"><span class="toc-text">3.6 运算符优先级</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="toc-text">3.7 类型转换</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9A%90%E5%BC%8F%E8%BD%AC%E6%8D%A2"><span class="toc-text">3.7.1 隐式转换</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%BA%E5%88%B6%E8%BD%AC%E6%8D%A2"><span class="toc-text">3.7.2 强制转换</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A8%8B%E5%BA%8F%E6%B5%81%E7%A8%8B%E7%BB%93%E6%9E%84"><span class="toc-text">4. 程序流程结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0"><span class="toc-text">4.1 概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E7%BB%93%E6%9E%84"><span class="toc-text">4.2 选择结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#if%E8%AF%AD%E5%8F%A5"><span class="toc-text">4.2.1 if语句</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ifelse%E8%AF%AD%E5%8F%A5"><span class="toc-text">4.2.2 if…else语句</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ifelse-ifelse%E8%AF%AD%E5%8F%A5"><span class="toc-text">4.2.3 if…else if…else语句</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%89%E7%9B%AE%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">4.2.4 三目运算符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#switch%E8%AF%AD%E5%8F%A5"><span class="toc-text">4.2.5 switch语句</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E8%AF%AD%E5%8F%A5"><span class="toc-text">4.3 循环语句</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#while%E8%AF%AD%E5%8F%A5"><span class="toc-text">4.3.1 while语句</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#dowhile%E8%AF%AD%E5%8F%A5"><span class="toc-text">4.3.2 do…while语句</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#for-%E8%AF%AD%E5%8F%A5"><span class="toc-text">4.3.3 for 语句</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B5%8C%E5%A5%97%E5%BE%AA%E7%8E%AF"><span class="toc-text">4.3.4 嵌套循环</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%B3%E8%BD%AC%E8%AF%AD%E5%8F%A5breakcontinuegoto"><span class="toc-text">4.4
跳转语句break、continue、goto</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#break-%E8%AF%AD%E5%8F%A5"><span class="toc-text">4.3.1 break 语句</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#continue%E8%AF%AD%E5%8F%A5"><span class="toc-text">4.4.2 continue语句</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#goto%E8%AF%AD%E5%8F%A5%E6%97%A0%E6%9D%A1%E4%BB%B6%E8%B7%B3%E8%BD%AC%E5%B0%BD%E9%87%8F%E5%B0%91%E7%94%A8"><span class="toc-text">4.4.3
goto语句(无条件跳转，尽量少用)</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E5%92%8C%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-text">5. 数组和字符串</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0-1"><span class="toc-text">5.1 概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E7%BB%B4%E6%95%B0%E7%BB%84"><span class="toc-text">5.2 一维数组</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%80%E7%BB%B4%E6%95%B0%E7%BB%84%E7%9A%84%E5%AE%9A%E4%B9%89%E5%92%8C%E4%BD%BF%E7%94%A8"><span class="toc-text">5.2.1 一维数组的定义和使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%80%E7%BB%B4%E6%95%B0%E7%BB%84%E7%9A%84%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="toc-text">5.2.2 一维数组的初始化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E5%90%8D"><span class="toc-text">5.2.3 数组名</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%BA%E5%8C%96%E8%AE%AD%E7%BB%83"><span class="toc-text">5.2.4 强化训练</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%80%E7%BB%B4%E6%95%B0%E7%BB%84%E7%9A%84%E6%9C%80%E5%80%BC"><span class="toc-text">1. 一维数组的最值</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%80%E7%BB%B4%E6%95%B0%E7%BB%84%E7%9A%84%E9%80%86%E7%BD%AE"><span class="toc-text">2. 一维数组的逆置</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F"><span class="toc-text">3. 冒泡排序</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E7%BB%B4%E6%95%B0%E7%BB%84"><span class="toc-text">5.3 二维数组</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8C%E7%BB%B4%E6%95%B0%E7%BB%84%E7%9A%84%E5%AE%9A%E4%B9%89%E5%92%8C%E4%BD%BF%E7%94%A8"><span class="toc-text">5.3.1 二维数组的定义和使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8C%E7%BB%B4%E6%95%B0%E7%BB%84%E7%9A%84%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="toc-text">5.3.2 二维数组的初始化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E5%90%8D-1"><span class="toc-text">5.3.3 数组名</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%BA%E5%8C%96%E8%AE%AD%E7%BB%83-1"><span class="toc-text">5.3.4 强化训练</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E7%BB%B4%E6%95%B0%E7%BB%84%E4%BA%86%E8%A7%A3"><span class="toc-text">5.4 多维数组(了解)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E6%95%B0%E7%BB%84%E4%B8%8E%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-text">5.5 字符数组与字符串</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E6%95%B0%E7%BB%84%E4%B8%8E%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%8C%BA%E5%88%AB"><span class="toc-text">5.5.1 字符数组与字符串区别</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="toc-text">5.5.2 字符串的初始化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA"><span class="toc-text">5.5.3 字符串的输入输出</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#gets"><span class="toc-text">1. gets()</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#fgets"><span class="toc-text">2. fgets()</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#puts"><span class="toc-text">3. puts()</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#fputs"><span class="toc-text">4. fputs()</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#strlen"><span class="toc-text">5. strlen()</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BF%BD%E5%8A%A0"><span class="toc-text">5.5.4 字符串追加</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0"><span class="toc-text">6. 函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0-2"><span class="toc-text">6.1 概述</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%88%86%E7%B1%BB"><span class="toc-text">6.1.1 函数分类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-text">6.1.2 函数的作用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E7%9A%84%E8%B0%83%E7%94%A8%E4%BA%A7%E7%94%9F%E9%9A%8F%E6%9C%BA%E6%95%B0"><span class="toc-text">6.1.3 函数的调用：产生随机数</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E7%9A%84%E5%AE%9A%E4%B9%89"><span class="toc-text">6.2 函数的定义</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%AE%9A%E4%B9%89%E6%A0%BC%E5%BC%8F"><span class="toc-text">6.2.1 函数定义格式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%90%8D%E5%AD%97%E5%BD%A2%E5%8F%82%E5%87%BD%E6%95%B0%E4%BD%93%E8%BF%94%E5%9B%9E%E5%80%BC"><span class="toc-text">6.2.2
函数名字、形参、函数体、返回值</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%90%8D"><span class="toc-text">1. 函数名</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%BD%A2%E5%8F%82%E5%88%97%E8%A1%A8"><span class="toc-text">2. 形参列表</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E4%BD%93"><span class="toc-text">3. 函数体</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%BF%94%E5%9B%9E%E5%80%BC"><span class="toc-text">4. 返回值</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E7%9A%84%E8%B0%83%E7%94%A8"><span class="toc-text">6.3 函数的调用</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E6%89%A7%E8%A1%8C%E6%B5%81%E7%A8%8B"><span class="toc-text">6.3.1 函数执行流程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E7%9A%84%E5%BD%A2%E5%8F%82%E5%92%8C%E5%AE%9E%E5%8F%82"><span class="toc-text">6.3.2 函数的形参和实参</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%A0%E5%8F%82%E5%87%BD%E6%95%B0%E8%B0%83%E7%94%A8"><span class="toc-text">6.3.3 无参函数调用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%89%E5%8F%82%E5%87%BD%E6%95%B0%E8%B0%83%E7%94%A8"><span class="toc-text">6.3.4 有参函数调用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E8%BF%94%E5%9B%9E%E5%80%BC"><span class="toc-text">6.3.5 函数返回值</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E7%9A%84%E5%A3%B0%E6%98%8E"><span class="toc-text">6.4 函数的声明</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#main%E5%87%BD%E6%95%B0%E4%B8%8Eexit%E5%87%BD%E6%95%B0"><span class="toc-text">6.5 main函数与exit函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E6%96%87%E4%BB%B6%E5%88%86%E6%96%87%E4%BB%B6%E7%BC%96%E7%A8%8B"><span class="toc-text">6.6 多文件(分文件)编程</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E6%96%87%E4%BB%B6%E7%BC%96%E7%A8%8B"><span class="toc-text">6.6.1 分文件编程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%98%B2%E6%AD%A2%E5%A4%B4%E6%96%87%E4%BB%B6%E9%87%8D%E5%A4%8D%E5%8C%85%E5%90%AB"><span class="toc-text">6.6.2 防止头文件重复包含</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8C%87%E9%92%88"><span class="toc-text">7. 指针</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0-3"><span class="toc-text">7.1 概述</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%86%85%E5%AD%98"><span class="toc-text">7.1.1 内存</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%89%A9%E7%90%86%E5%AD%98%E5%82%A8%E5%99%A8%E5%92%8C%E5%AD%98%E5%82%A8%E5%9C%B0%E5%9D%80%E7%A9%BA%E9%97%B4"><span class="toc-text">7.1.2 物理存储器和存储地址空间</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%86%85%E5%AD%98%E5%9C%B0%E5%9D%80"><span class="toc-text">7.1.3 内存地址</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%87%E9%92%88%E5%92%8C%E6%8C%87%E9%92%88%E5%8F%98%E9%87%8F"><span class="toc-text">7.1.4 指针和指针变量</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%87%E9%92%88%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86"><span class="toc-text">7.2 指针基础知识</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%87%E9%92%88%E5%8F%98%E9%87%8F%E7%9A%84%E5%AE%9A%E4%B9%89%E5%92%8C%E4%BD%BF%E7%94%A8"><span class="toc-text">7.2.1 指针变量的定义和使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%9A%E8%BF%87%E6%8C%87%E9%92%88%E9%97%B4%E6%8E%A5%E4%BF%AE%E6%94%B9%E5%8F%98%E9%87%8F%E7%9A%84%E5%80%BC"><span class="toc-text">7.2.2 通过指针间接修改变量的值</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%87%E9%92%88%E5%A4%A7%E5%B0%8F"><span class="toc-text">7.2.3 指针大小</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%87%8E%E6%8C%87%E9%92%88%E5%92%8C%E7%A9%BA%E6%8C%87%E9%92%88"><span class="toc-text">7.2.4 野指针和空指针</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%87%E8%83%BD%E6%8C%87%E9%92%88void"><span class="toc-text">7.2.5 万能指针void *</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#const%E4%BF%AE%E9%A5%B0%E7%9A%84%E6%8C%87%E9%92%88%E5%8F%98%E9%87%8F"><span class="toc-text">7.2.6 const修饰的指针变量</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%87%E9%92%88%E5%92%8C%E6%95%B0%E7%BB%84"><span class="toc-text">7.3 指针和数组</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E5%90%8D-2"><span class="toc-text">7.3.1 数组名</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%87%E9%92%88%E6%93%8D%E4%BD%9C%E6%95%B0%E7%BB%84%E5%85%83%E7%B4%A0"><span class="toc-text">7.3.2 指针操作数组元素</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%87%E9%92%88%E5%8A%A0%E5%87%8F%E8%BF%90%E7%AE%97"><span class="toc-text">7.3.3 指针加减运算</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8A%A0%E6%B3%95%E8%BF%90%E7%AE%97"><span class="toc-text">1. 加法运算</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%87%8F%E6%B3%95%E8%BF%90%E7%AE%97"><span class="toc-text">2. 减法运算</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%87%E9%92%88%E6%95%B0%E7%BB%84"><span class="toc-text">7.3.4 指针数组</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E7%BA%A7%E6%8C%87%E9%92%88"><span class="toc-text">7.4 多级指针</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%87%E9%92%88%E5%92%8C%E5%87%BD%E6%95%B0"><span class="toc-text">7.5 指针和函数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%BD%A2%E5%8F%82%E6%94%B9%E5%8F%98%E5%AE%9E%E5%8F%82%E7%9A%84%E5%80%BC"><span class="toc-text">7.5.1 函数形参改变实参的值</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E5%90%8D%E5%81%9A%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0"><span class="toc-text">7.5.2 数组名做函数参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%87%E9%92%88%E5%81%9A%E4%B8%BA%E5%87%BD%E6%95%B0%E7%9A%84%E8%BF%94%E5%9B%9E%E5%80%BC"><span class="toc-text">7.5.3 指针做为函数的返回值</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%87%E9%92%88%E5%92%8C%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-text">7.6 指针和字符串</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E6%8C%87%E9%92%88"><span class="toc-text">7.6.1 字符指针</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E6%8C%87%E9%92%88%E5%81%9A%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0"><span class="toc-text">7.6.2 字符指针做函数参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#const-%E4%BF%AE%E9%A5%B0%E7%9A%84%E6%8C%87%E9%92%88%E5%8F%98%E9%87%8F"><span class="toc-text">7.6.3 const 修饰的指针变量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%87%E9%92%88%E6%95%B0%E7%BB%84%E5%81%9A%E4%B8%BAmain%E5%87%BD%E6%95%B0%E7%9A%84%E5%BD%A2%E5%8F%82"><span class="toc-text">7.6.4
指针数组做为main函数的形参</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91%E5%B8%B8%E7%94%A8%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%BA%94%E7%94%A8%E6%A8%A1%E5%9E%8B"><span class="toc-text">7.6.5
项目开发常用字符串应用模型</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#strstr%E4%B8%AD%E7%9A%84while%E5%92%8Cdo-while%E6%A8%A1%E5%9E%8B"><span class="toc-text">1.
strstr中的while和do-while模型</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#a.-while%E6%A8%A1%E5%9E%8B"><span class="toc-text">a. while模型</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#b.-do-while"><span class="toc-text">b. do-while</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%A4%E5%A4%B4%E5%A0%B5%E6%A8%A1%E5%9E%8B"><span class="toc-text">5. 两头堵模型</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%8F%8D%E8%BD%AC%E6%A8%A1%E5%9E%8B%E9%80%86%E7%BD%AE"><span class="toc-text">3. 字符串反转模型(逆置)</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%A4%84%E7%90%86%E5%87%BD%E6%95%B0"><span class="toc-text">7.6.6 字符串处理函数</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#strcpy"><span class="toc-text">1. strcpy()</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#strncpy"><span class="toc-text">2. strncpy()</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#strcat"><span class="toc-text">3. strcat()</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#strncat"><span class="toc-text">4. strncat</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#strcmp"><span class="toc-text">5. strcmp</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#strncmp"><span class="toc-text">6. strncmp()</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#sprintf"><span class="toc-text">7. sprintf()</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#sscanf"><span class="toc-text">8. sscanf()</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#strchr"><span class="toc-text">9.strchr()</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#strstr"><span class="toc-text">10. strstr()</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#strtok"><span class="toc-text">11. strtok()</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#atoi"><span class="toc-text">12. atoi()</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%87%E9%92%88%E5%B0%8F%E7%BB%93"><span class="toc-text">7.7 指针小结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86"><span class="toc-text">8. 内存管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-text">8.1 作用域</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F"><span class="toc-text">8.1.1 局部变量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9D%99%E6%80%81static%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F"><span class="toc-text">8.1.2 静态(static)局部变量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F"><span class="toc-text">8.1.3 全局变量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9D%99%E6%80%81static%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F"><span class="toc-text">8.1.4 静态(static)全局变量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#extern%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E5%A3%B0%E6%98%8E"><span class="toc-text">8.1.5 extern全局变量声明</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E5%87%BD%E6%95%B0%E5%92%8C%E9%9D%99%E6%80%81%E5%87%BD%E6%95%B0"><span class="toc-text">8.1.6 全局函数和静态函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-text">8.1.7 总结</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%85%E5%AD%98%E5%B8%83%E5%B1%80"><span class="toc-text">8.2 内存布局</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%86%85%E5%AD%98%E5%88%86%E5%8C%BA"><span class="toc-text">8.2.1 内存分区</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%98%E5%82%A8%E7%B1%BB%E5%9E%8B%E6%80%BB%E7%BB%93"><span class="toc-text">8.2.2 存储类型总结</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%86%85%E5%AD%98%E6%93%8D%E4%BD%9C%E5%87%BD%E6%95%B0"><span class="toc-text">8.2.3 内存操作函数</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#memset"><span class="toc-text">1. memset()</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#memcpy"><span class="toc-text">2. memcpy()</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#memmove"><span class="toc-text">3. memmove()</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#memcmp"><span class="toc-text">4. memcmp()</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A0%86%E5%8C%BA%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D%E5%92%8C%E9%87%8A%E6%94%BE"><span class="toc-text">8.2.4 堆区内存分配和释放</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#malloc"><span class="toc-text">1. malloc()</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#free"><span class="toc-text">2. free()</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%85%E5%AD%98%E5%88%86%E5%8C%BA%E4%BB%A3%E7%A0%81%E5%88%86%E6%9E%90"><span class="toc-text">8.3 内存分区代码分析</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%94%E5%9B%9E%E6%A0%88%E5%8C%BA%E5%9C%B0%E5%9D%80"><span class="toc-text">1. 返回栈区地址</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%94%E5%9B%9Edata%E5%8C%BA%E5%9C%B0%E5%9D%80"><span class="toc-text">2. 返回data区地址</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%80%BC%E4%BC%A0%E9%80%921"><span class="toc-text">3. 值传递1</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%80%BC%E4%BC%A0%E9%80%922"><span class="toc-text">4. 值传递2</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%94%E5%9B%9E%E5%A0%86%E5%8C%BA%E5%9C%B0%E5%9D%80"><span class="toc-text">5. 返回堆区地址</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%8D%E5%90%88%E7%B1%BB%E5%9E%8B%E8%87%AA%E5%AE%9A%E4%B9%89%E7%B1%BB%E5%9E%8B"><span class="toc-text">9. 复合类型(自定义类型)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93"><span class="toc-text">9.1 结构体</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0-4"><span class="toc-text">9.1.1 概述</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93%E5%8F%98%E9%87%8F%E7%9A%84%E5%AE%9A%E4%B9%89%E5%92%8C%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="toc-text">9.1.2 结构体变量的定义和初始化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93%E6%88%90%E5%91%98%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-text">9.1.3 结构体成员的使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93%E6%95%B0%E7%BB%84"><span class="toc-text">9.1.4 结构体数组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93%E5%A5%97%E7%BB%93%E6%9E%84%E4%BD%93"><span class="toc-text">9.1.5 结构体套结构体</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93%E8%B5%8B%E5%80%BC"><span class="toc-text">9.1.6 结构体赋值</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93%E5%92%8C%E6%8C%87%E9%92%88"><span class="toc-text">9.1.7 结构体和指针</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8C%87%E5%90%91%E6%99%AE%E9%80%9A%E7%BB%93%E6%9E%84%E4%BD%93%E5%8F%98%E9%87%8F%E7%9A%84%E6%8C%87%E9%92%88"><span class="toc-text">1. 指向普通结构体变量的指针</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A0%86%E5%8C%BA%E7%BB%93%E6%9E%84%E4%BD%93%E5%8F%98%E9%87%8F"><span class="toc-text">2. 堆区结构体变量</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93%E5%A5%97%E4%B8%80%E7%BA%A7%E6%8C%87%E9%92%88"><span class="toc-text">3. 结构体套一级指针</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93%E5%81%9A%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0"><span class="toc-text">9.1.8 结构体做函数参数</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93%E6%99%AE%E9%80%9A%E5%8F%98%E9%87%8F%E5%81%9A%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0"><span class="toc-text">1. 结构体普通变量做函数参数</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93%E6%8C%87%E9%92%88%E5%8F%98%E9%87%8F%E5%81%9A%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0"><span class="toc-text">2. 结构体指针变量做函数参数</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#const%E4%BF%AE%E9%A5%B0%E7%BB%93%E6%9E%84%E4%BD%93%E6%8C%87%E9%92%88%E5%BD%A2%E5%8F%82%E5%8F%98%E9%87%8F"><span class="toc-text">4. const修饰结构体指针形参变量</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B1%E7%94%A8%E4%BD%93%E8%81%94%E5%90%88%E4%BD%93"><span class="toc-text">9.2 共用体(联合体)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9E%9A%E4%B8%BE"><span class="toc-text">9.3 枚举</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#typedef"><span class="toc-text">9.4 typedef</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C"><span class="toc-text">10. 文件操作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0-5"><span class="toc-text">10.1 概述</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A3%81%E7%9B%98%E6%96%87%E4%BB%B6%E5%92%8C%E8%AE%BE%E5%A4%87%E6%96%87%E4%BB%B6"><span class="toc-text">10.1.1磁盘文件和设备文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A3%81%E7%9B%98%E6%96%87%E4%BB%B6%E7%9A%84%E5%88%86%E7%B1%BB"><span class="toc-text">10.1.2 磁盘文件的分类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E6%9C%AC%E6%96%87%E4%BB%B6%E5%92%8C%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%96%87%E4%BB%B6"><span class="toc-text">10.1.3 文本文件和二进制文件</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%87%E6%9C%AC%E6%96%87%E4%BB%B6"><span class="toc-text">1. 文本文件</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%96%87%E4%BB%B6"><span class="toc-text">2. 二进制文件</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E7%9A%84%E6%89%93%E5%BC%80%E5%92%8C%E5%85%B3%E9%97%AD"><span class="toc-text">10.2 文件的打开和关闭</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E6%8C%87%E9%92%88"><span class="toc-text">10.2.1 文件指针</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E7%9A%84%E6%89%93%E5%BC%80"><span class="toc-text">10.2.2 文件的打开</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E7%9A%84%E5%85%B3%E9%97%AD"><span class="toc-text">10.2.3 文件的关闭</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E7%9A%84%E9%A1%BA%E5%BA%8F%E8%AF%BB%E5%86%99"><span class="toc-text">10.3 文件的顺序读写</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%89%E7%85%A7%E5%AD%97%E7%AC%A6%E8%AF%BB%E5%86%99%E6%96%87%E4%BB%B6fgetcfputc"><span class="toc-text">10.3.1
按照字符读写文件fgetc、fputc</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%86%99%E6%96%87%E4%BB%B6"><span class="toc-text">1. 写文件</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E7%BB%93%E5%B0%BE"><span class="toc-text">2. 文件结尾</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AF%BB%E6%96%87%E4%BB%B6"><span class="toc-text">3. 读文件</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%89%E7%85%A7%E8%A1%8C%E8%AF%BB%E5%86%99%E6%96%87%E4%BB%B6fgetsfputs"><span class="toc-text">10.3.2 按照行读写文件fgets、fputs</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%86%99%E6%96%87%E4%BB%B6-1"><span class="toc-text">1. 写文件</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AF%BB%E6%96%87%E4%BB%B6-1"><span class="toc-text">2. 读文件</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%BA%E5%8C%96%E8%AE%AD%E7%BB%83%E6%96%87%E4%BB%B6%E7%89%88%E5%9B%9B%E5%88%99%E8%BF%90%E7%AE%97"><span class="toc-text">3. 强化训练：文件版四则运算</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%89%E7%85%A7%E6%A0%BC%E5%BC%8F%E5%8C%96%E6%96%87%E4%BB%B6fprintffscanf"><span class="toc-text">10.3.3
按照格式化文件fprintf、fscanf</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%86%99%E6%96%87%E4%BB%B6-2"><span class="toc-text">1. 写文件</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AF%BB%E6%96%87%E4%BB%B6-2"><span class="toc-text">2. 读文件</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%89%E7%85%A7%E5%9D%97%E8%AF%BB%E5%86%99%E6%96%87%E4%BB%B6freadfwrite"><span class="toc-text">10.3.4
按照块读写文件fread、fwrite</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%86%99%E6%96%87%E4%BB%B6-3"><span class="toc-text">1. 写文件</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AF%BB%E6%96%87%E4%BB%B6-3"><span class="toc-text">2. 读文件</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E7%9A%84%E9%9A%8F%E6%9C%BA%E8%AF%BB%E5%86%99"><span class="toc-text">10.4 文件的随机读写</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#windows%E5%92%8Clinux%E6%96%87%E6%9C%AC%E6%96%87%E4%BB%B6%E5%8C%BA%E5%88%AB"><span class="toc-text">10.5 Windows和Linux文本文件区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E6%96%87%E4%BB%B6%E7%8A%B6%E6%80%81"><span class="toc-text">10.6 获取文件状态</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E6%96%87%E4%BB%B6%E9%87%8D%E5%91%BD%E5%90%8D%E6%96%87%E4%BB%B6%E5%90%8D"><span class="toc-text">10.7 删除文件、重命名文件名</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E7%BC%93%E5%86%B2%E5%8C%BA"><span class="toc-text">10.8 文件缓冲区</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E7%BC%93%E5%86%B2%E5%8C%BA-1"><span class="toc-text">10.8.1 文件缓冲区</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A3%81%E7%9B%98%E6%96%87%E4%BB%B6%E7%9A%84%E5%AD%98%E5%8F%96"><span class="toc-text">10.8.2 磁盘文件的存取</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9B%B4%E6%96%B0%E7%BC%93%E5%86%B2%E5%8C%BA"><span class="toc-text">10.8.3更新缓冲区</span></a></li></ol></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/1106.html" title="数据结构"><img src="/img/loading.gif" data-original="https://alex-tyimg.oss-cn-huhehaote.aliyuncs.com/one.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="数据结构"/></a><div class="content"><a class="title" href="/posts/1106.html" title="数据结构">数据结构</a><time datetime="2023-04-23T03:13:00.000Z" title="发表于 2023-04-23 11:13:00">2023-04-23</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/54921.html" title="STM32学习笔记五"><img src="/img/loading.gif" data-original="https://alex-tyimg.oss-cn-huhehaote.aliyuncs.com/a3.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="STM32学习笔记五"/></a><div class="content"><a class="title" href="/posts/54921.html" title="STM32学习笔记五">STM32学习笔记五</a><time datetime="2023-01-09T13:36:19.000Z" title="发表于 2023-01-09 21:36:19">2023-01-09</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/17024.html" title="STM32学习笔记四"><img src="/img/loading.gif" data-original="https://alex-tyimg.oss-cn-huhehaote.aliyuncs.com/A9.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="STM32学习笔记四"/></a><div class="content"><a class="title" href="/posts/17024.html" title="STM32学习笔记四">STM32学习笔记四</a><time datetime="2023-01-07T10:45:36.000Z" title="发表于 2023-01-07 18:45:36">2023-01-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/48968.html" title="STM32学习笔记三"><img src="/img/loading.gif" data-original="https://alex-tyimg.oss-cn-huhehaote.aliyuncs.com/A8.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="STM32学习笔记三"/></a><div class="content"><a class="title" href="/posts/48968.html" title="STM32学习笔记三">STM32学习笔记三</a><time datetime="2022-12-27T03:19:13.000Z" title="发表于 2022-12-27 11:19:13">2022-12-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/56457.html" title="STM32学习笔记二"><img src="/img/loading.gif" data-original="https://alex-tyimg.oss-cn-huhehaote.aliyuncs.com/a2.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="STM32学习笔记二"/></a><div class="content"><a class="title" href="/posts/56457.html" title="STM32学习笔记二">STM32学习笔记二</a><time datetime="2022-12-19T12:27:16.000Z" title="发表于 2022-12-19 20:27:16">2022-12-19</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By 小刘同学</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://unpkg.com/@fancyapps/ui/dist/fancybox/fancybox.umd.js"></script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    tex: {
      inlineMath: [ ['$','$'], ["\\(","\\)"]],
      tags: 'ams'
    },
    chtml: {
      scale: 1.1
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, ''],
        insertScript: [200, () => {
          document.querySelectorAll('mjx-container').forEach(node => {
            if (node.hasAttribute('display')) {
              btf.wrap(node, 'div', { class: 'mathjax-overflow' })
            } else {
              btf.wrap(node, 'span', { class: 'mathjax-overflow' })
            }
          });
        }, '', false]
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://unpkg.com/mathjax/es5/tex-mml-chtml.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typesetPromise()
}</script><script>function loadWaline () {
  function initWaline () {
    const waline = Waline.init(Object.assign({
      el: '#waline-wrap',
      serverURL: 'https://comments.aubuty.top',
      pageview: false,
      dark: 'html[data-theme="dark"]',
      path: window.location.pathname,
      comment: false,
    }, null))
  }

  const walineCSSLoad = document.getElementById('waline-css')

  if (typeof Waline === 'object') {
    walineCSSLoad ? initWaline() : getCSS('https://unpkg.com/@waline/client/dist/waline.css','waline-css').then(initWaline)
  }
  else {
    getCSS('https://unpkg.com/@waline/client/dist/waline.css','waline-css').then(() => {
      getScript('https://unpkg.com/@waline/client/dist/waline.js').then(initWaline)
    })
  }
}

if ('Waline' === 'Waline' || !true) {
  if (true) btf.loadComment(document.getElementById('waline-wrap'),loadWaline)
  else setTimeout(loadWaline, 0)
} else {
  function loadOtherComment () {
    loadWaline()
  }
}</script></div><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://unpkg.com/butterfly-extsrc/dist/canvas-fluttering-ribbon.min.js"></script><script src="https://unpkg.com/butterfly-extsrc/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = true;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-show-text" src="https://unpkg.com/butterfly-extsrc/dist/click-show-text.min.js" data-mobile="true" data-text="富强,民主,文明,和谐,平等,公正,法治,爱国,敬业,诚信,友善" data-fontsize="30px" data-random="true" async="async"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div class="no-result" id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div>
        <style>
            [bg-lazy] {
                background-image: none !important;
                background-color: #eee !important;
            }
        </style>
        <script>
            window.imageLazyLoadSetting = {
                isSPA: false,
                preloadRatio: 1,
                processImages: null,
            };
        </script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})});</script><script>!function(r){r.imageLazyLoadSetting.processImages=t;var e=r.imageLazyLoadSetting.isSPA,n=r.imageLazyLoadSetting.preloadRatio||1,c=a();function a(){var t=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")),e=Array.prototype.slice.call(document.querySelectorAll("[bg-lazy]"));return t.concat(e)}function t(){e&&(c=a());for(var t,o=0;o<c.length;o++)0<=(t=(t=c[o]).getBoundingClientRect()).bottom&&0<=t.left&&t.top<=(r.innerHeight*n||document.documentElement.clientHeight*n)&&function(){var t,e,n,a,i=c[o];e=function(){c=c.filter(function(t){return i!==t}),r.imageLazyLoadSetting.onImageLoaded&&r.imageLazyLoadSetting.onImageLoaded(i)},(t=i).hasAttribute("bg-lazy")?(t.removeAttribute("bg-lazy"),e&&e()):(n=new Image,a=t.getAttribute("data-original"),n.onload=function(){t.src=a,t.removeAttribute("data-original"),e&&e()},t.src!==a&&(n.src=a))}()}function i(){clearTimeout(t.tId),t.tId=setTimeout(t,500)}t(),document.addEventListener("scroll",i),r.addEventListener("resize",i),r.addEventListener("orientationchange",i)}(this);</script></body></html>